"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["feed_embed"],{76631(e,t,i){i.r(t),i.d(t,{default:()=>_});var n=i(91557),l=i(44371),o=i(67338),r=i(38860),a=i(3556),d=i(8051),m=i(84058),s=i.n(m),c=i(96540);let g=(0,a.Ay)(l._V,{name:"ImageWrapper",slot:"image"})(({theme:e})=>({display:"flex"})),p=(0,a.Ay)("div",{name:"FeedItem",slot:"FeedPhotoEmbed",shouldForwardProp:e=>"itemType"!==e,overridesResolver:(e,t)=>[t.feedPhotoEmbed,e.itemType&&t[s()(`type_${e.itemType}`)]]})(({theme:e})=>({display:"block",marginLeft:e.spacing(-2),marginRight:e.spacing(-2),marginTop:"-1px",marginBottom:"-1px",overflow:"hidden"})),u=(0,a.Ay)(d.A)(({theme:e})=>({backgroundColor:"rgba(0,0,0,0.4)",aspectRatio:"16 / 9",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:e.mixins.pxToRem(16),padding:e.spacing(1)})),h=(0,a.Ay)("div",{name:"Listing"})(({theme:e})=>({display:"flex",flexFlow:"wrap",margin:e.spacing(-.25)})),f=(0,a.Ay)("div",{name:"FeedItem",slot:"feedPhotoItemEmbed",shouldForwardProp:e=>"listingGrid"!==e&&"itemIndex"!==e,overridesResolver:(e,t)=>[t.feedPhotoItemEmbed]})(({theme:e,listingGrid:t,itemIndex:i})=>({position:"relative",display:"block",padding:e.spacing(.25),..."listing1"===t&&{width:"100%"},..."listing2"===t&&{width:"50%"},..."listing3"===t&&{width:"50%"},..."listing3"===t&&"item1"===i&&{width:"100%"},..."listing4"===t&&{width:"50%"}})),b=(0,a.Ay)(d.A,{name:"FeedItem",slot:"feedPhotoItemEmbed",shouldForwardProp:e=>"listingGrid"!==e&&"itemIndex"!==e,overridesResolver:(e,t)=>[t.feedPhotoItemEmbed]})(({theme:e,listingGrid:t,itemIndex:i})=>({display:"block",padding:e.spacing(.25),"& > div":{"&:before":{content:'""',position:"absolute",left:0,right:0,top:0,bottom:0,border:"1px solid rgba(0,0,0,0.1)",pointerEvents:"none",zIndex:3}},..."listing1"===t&&{width:"100%","&:nth-of-type(1)":{"& > div":{"&:before":{borderLeft:0,borderRight:0}}}},..."listing2"===t&&{width:"50%","&:nth-child(odd)":{"& > div":{"&:before":{borderLeft:0}}},"&:nth-child(even)":{"& > div":{"&:before":{borderRight:0}}}},..."listing3"===t&&{width:"50%","&:nth-of-type(1)":{width:"100%","& > div":{"&:before":{borderLeft:0,borderRight:0}}},"&:nth-of-type(2)":{"& > div":{"&:before":{borderLeft:0}}},"&:nth-of-type(3)":{"& > div":{"&:before":{borderRight:0}}}},..."listing4"===t&&{width:"50%","&:nth-child(odd)":{"& > div":{"&:before":{borderLeft:0}}},"&:nth-child(even)":{"& > div":{"&:before":{borderRight:0}}}}})),v=(0,a.Ay)("div",{name:"FlagWrapper"})(({theme:e})=>({position:"absolute",right:e.spacing(2.5),bottom:e.spacing(2.5)})),y=(0,a.Ay)("div",{name:"RemainBackdrop"})(({theme:e})=>({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(0,0,0,0.3)",pointerEvents:"none",zIndex:3,"&:hover":{backgroundColor:"rgba(0,0,0,0.1)"}})),E=(0,a.Ay)("div",{name:"RemainText"})(({theme:e})=>({color:"white",position:"absolute",left:"50%",top:"50%",fontSize:"2rem",transform:"translate(-50%,-50%)"})),x=(0,a.Ay)(d.A,{name:"ItemError"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",border:e.mixins.border("secondary"),backgroundColor:"light"===e.palette.mode?e.palette.background.default:e.palette.action.hover,fontSize:e.mixins.pxToRem(18),color:e.palette.text.secondary,"&:before":{content:'""',display:"block",paddingBottom:"56.25%"}}));function _({total_photo:e,total_item:t,photo_set:i,photo_album:a,photos:m,items:s,item:_,feed:k,isShared:w,"data-testid":$}){let{i18n:I}=(0,n.PCX)(),A=[];m&&m.length>0&&(A=m),s&&s.length>0&&(A=s);let R=null!=e?e:t,P=Math.min(A.length,4)%5,C=R-P,F="";i&&(F=`/media/${i}`),a&&(F=`/media/album/${a}`);let S=A.length<4&&2!==A.length,T=A.length;return c.createElement(l.kh,{bottomSpacing:"normal",variant:"default",item:_,feed:k,isShared:w,sxOuter:{overflow:"visible",border:"0 !important"},sx:{paddingTop:0}},c.createElement(p,{itemType:null==k?void 0:k.item_type,"data-testid":$},c.createElement(h,null,A.slice(0,P).map((e,t)=>{if(e.error)return c.createElement(f,{key:`i${null==e?void 0:e.id}`,listingGrid:`listing${P}`,itemIndex:`item${t+1}`},c.createElement(x,null,c.createElement(d.A,null,(null==e?void 0:e.image)?I.formatMessage({id:"content_is_not_available"}):null==e?void 0:e.title)));if("video"===e.resource_name||"video"===e.type){var i;return e.is_processing?c.createElement(f,{key:`i${null==e?void 0:e.id}`,listingGrid:`listing${P}`,itemIndex:`item${t+1}`},c.createElement(u,null,c.createElement(l.s4,{icon:"ico-loading-icon",sx:{fontSize:"24px"}}),c.createElement(d.A,{mt:1},I.formatMessage({id:"video_is_being_processed"}))),0<C&&P===t+1&&c.createElement(y,null,c.createElement(E,null,`+ ${C}`))):c.createElement(f,{key:`i${null==e?void 0:e.id}`,listingGrid:`listing${P}`,itemIndex:`item${t+1}`},c.createElement(o.A,{isThumbnail:!e.resource_name,src:e.video_url||e.destination,thumb_url:e.image||(null===(i=e.thumbnail)||void 0===i?void 0:i.image),autoplayIntersection:1===R,detailLink:e.link,modalUrl:1!==R&&e.resource_name?`${F}/${e.resource_name}/${e.id}${(null==e?void 0:e.slug)?`/${e.slug}`:""}`:"",isCountVideo:!0,id:e.id,identity:e._identity}),0<C&&P===t+1&&c.createElement(y,null,c.createElement(E,null,`+ ${C}`)))}return c.createElement(b,{role:"link",listingGrid:`listing${P}`,itemIndex:`item${t+1}`,key:t.toString(),"data-testid":"embeditem"},c.createElement(d.A,{sx:{position:"relative"}},c.createElement(g,{src:(0,r.AE)(e.image||e.avatar,0===t&&S?"1024":"500"),aspectRatio:T<2?"auto":"169",imageFit:"cover",identity:`photo.entities.photo.${e.id}`,link:e.resource_name?`${F}/${e.resource_name}/${e.id}${(null==e?void 0:e.slug)?`/${e.slug}`:""}`:void 0,linkParams:{asModal:!0,identityTracking:null==k?void 0:k._identity}}),!!e.is_featured&&c.createElement(v,null,c.createElement(l.lN,{type:"is_featured",color:"white","data-testid":"featured"})),0<C&&P===t+1&&c.createElement(y,null,c.createElement(E,null,`+ ${C}`))))}))))}},63729(e,t,i){i.r(t),i.d(t,{default:()=>u});var n=i(91557),l=i(44371),o=i(38860),r=i(3556),a=i(8051),d=i(62193),m=i.n(d),s=i(96540),c=i(71468);let g=(0,r.Ay)(a.A,{name:"MuiLinkEmbedItemView",slot:"inner",shouldForwardProp:e=>"widthImage"!==e&&"heightImage"!==e})(({theme:e,widthImage:t,heightImage:i})=>({flex:1,minWidth:0,display:"flex",flexDirection:"column"})),p=({identity:e,feed:t,isShared:i})=>{let{useIsMobile:r}=(0,n.PCX)(),d=r(),p=(0,c.d4)(t=>(0,n.B_w)(t,e)),{title:u,description:h,link:f,image:b,host:v,is_preview_hidden:y}=p,E=(0,o.AE)(b,d?"500":"200"),x=(null==t?void 0:t.item_type)==="share"||i,_=!m()(null==t?void 0:t.status_background)||y;return!x&&_?null:s.createElement(l.kh,{variant:"default",bottomSpacing:"normal",item:p,feed:t,isShared:x},_?null:s.createElement(n.N_E,{to:f,target:"_blank",sx:{textDecoration:"none !important"}},s.createElement(a.A,{sx:{display:"flex",width:"100%",flexDirection:d?"column":"row"}},E?s.createElement(l.SE,{image:E,widthImage:d?"100%":"200px",mediaRatio:d?"169":"11"}):null,s.createElement(g,{p:d?2:3,"data-testid":"embedview"},s.createElement(l.k9,{title:u,lines:d?1:2}),s.createElement(l.KQ,{content:h,lines:d?2:void 0}),s.createElement(l.Eh,{host:v})))))},u=p}}]);