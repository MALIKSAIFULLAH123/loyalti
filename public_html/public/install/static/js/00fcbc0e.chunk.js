(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-AppBarMiniBlock-Block"],{24584(e,t,o){"use strict";o.d(t,{A:()=>k});var a=o(98587),r=o(58168),n=o(96540),i=o(20053),l=o(75659),s=o(3556),p=o(92353),c=o(75630),d=o(18799),m=o(38413),u=o(31609);function g(e){return(0,u.A)("MuiAppBar",e)}(0,m.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var h=o(74848);let f=["className","color","enableColorOnDark","position"],x=e=>{let{color:t,position:o,classes:a}=e,r={root:["root",`color${(0,c.A)(t)}`,`position${(0,c.A)(o)}`]};return(0,l.A)(r,g,a)},b=(e,t)=>`${null==e?void 0:e.replace(")","")}, ${t})`,v=(0,s.Ay)(d.A,{name:"MuiAppBar",slot:"Root",overridesResolver(e,t){let{ownerState:o}=e;return[t.root,t[`position${(0,c.A)(o.position)}`],t[`color${(0,c.A)(o.color)}`]]}})(({theme:e,ownerState:t})=>{let o="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,r.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,r.A)({},"default"===t.color&&{backgroundColor:o,color:e.palette.getContrastText(o)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,r.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,r.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:b(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:b(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:b(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:b(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),y=n.forwardRef(function(e,t){let o=(0,p.A)({props:e,name:"MuiAppBar"}),{className:n,color:l="primary",enableColorOnDark:s=!1,position:c="fixed"}=o,d=(0,a.A)(o,f),m=(0,r.A)({},o,{color:l,position:c,enableColorOnDark:s}),u=x(m);return(0,h.jsx)(v,(0,r.A)({square:!0,component:"header",ownerState:m,elevation:4,className:(0,i.default)(u.root,n,"fixed"===c&&"mui-fixed"),ref:t},d))}),k=y},77536(e,t,o){"use strict";o.d(t,{A:()=>b});var a=o(98587),r=o(58168),n=o(96540),i=o(20053),l=o(75659),s=o(92353),p=o(3556),c=o(38413),d=o(31609);function m(e){return(0,d.A)("MuiToolbar",e)}(0,c.A)("MuiToolbar",["root","gutters","regular","dense"]);var u=o(74848);let g=["className","component","disableGutters","variant"],h=e=>{let{classes:t,disableGutters:o,variant:a}=e;return(0,l.A)({root:["root",!o&&"gutters",a]},m,t)},f=(0,p.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver(e,t){let{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})(({theme:e,ownerState:t})=>(0,r.A)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48}),({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar),x=n.forwardRef(function(e,t){let o=(0,s.A)({props:e,name:"MuiToolbar"}),{className:n,component:l="div",disableGutters:p=!1,variant:c="regular"}=o,d=(0,a.A)(o,g),m=(0,r.A)({},o,{component:l,disableGutters:p,variant:c}),x=h(m);return(0,u.jsx)(f,(0,r.A)({as:l,className:(0,i.default)(x.root,n),ref:t,ownerState:m},d))}),b=x},23875(e,t,o){var a=o(96131);e.exports=function(e,t){for(var o=e.length;o--&&a(t,e[o],0)>-1;);return o}},28380(e,t,o){var a=o(96131);e.exports=function(e,t){for(var o=-1,r=e.length;++o<r&&a(t,e[o],0)>-1;);return o}},44826(e,t,o){var a=o(77556),r=o(54128),n=o(28754),i=o(23875),l=o(28380),s=o(63912),p=o(13222);e.exports=function(e,t,o){if((e=p(e))&&(o||void 0===t))return r(e);if(!e||!(t=a(t)))return e;var c=s(e),d=s(t),m=l(c,d),u=i(c,d)+1;return n(c,m,u).join("")}},75557(e,t,o){"use strict";o.d(t,{A:()=>d});var a=o(91557),r=o(72871),n=o(96540),i=o(3556),l=o(60780),s=o(30719),p=o(2491);let c=(0,i.Ay)(l.A,{name:"ButtonSignIn"})(({theme:e})=>({fontSize:15,height:32,padding:e.spacing(0,3),textTransform:"capitalize",position:"absolute",right:e.spacing(2)}));function d(){let e=(0,a.EkY)("user","user","small_login"),{navigate:t,i18n:o}=(0,a.PCX)(),i=(0,s.A)(),l=(0,p.A)(i.breakpoints.down("lg")),d=()=>{t({pathname:"/login"})};return l?n.createElement(c,{variant:"contained",color:"primary",size:"small",onClick:d,disableElevation:!0,type:"submit"},o.formatMessage({id:"sign_in"})):n.createElement(r.ok,{formSchema:e,navigationConfirmWhenDirty:!1})}},95050(e,t,o){"use strict";o.d(t,{A:()=>p});var a=o(91557),r=o(96540),n=o(8051),i=o(81825);let l=(0,i.A)(a.Wti)(({theme:e})=>({marginLeft:e.spacing(2),fontSize:e.mixins.pxToRem(16)})),s=(0,i.A)(n.A)(({theme:e})=>({display:"flex",alignItems:"center",marginLeft:"auto"}));function p(){let e=(0,a.cbF)("user","headerSignInMenu").items;return r.createElement(s,null,e.map((e,t)=>r.createElement(l,{key:t,to:e.to,color:"primary"},e.label)))}},14035(e,t,o){"use strict";o.d(t,{A:()=>N});var a=o(91557),r=o(44371),n=o(8051),i=o(95223),l=o(3556),s=o(44826),p=o.n(s),c=o(85015),d=o.n(c),m=o(96540),u=o(56525),g=o(85838);let h=(0,u.A)(e=>{var t,o,a,r;return(0,g.A)({root:{width:320,position:"absolute",left:"50%",transform:"translateX(-50%)",top:0,paddingTop:13,overflow:"hidden",zIndex:e.zIndex.appBar},rootOpen:{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}},form:{width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"}},formFocused:{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:`${e.spacing(.5,1,.75,1)} !important`,boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"32px"},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightBold},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{display:"none"},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.2,2),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null===(o=e.palette.border)||void 0===o?void 0:o.secondary},clearButton:{fontWeight:"normal !important"},recentItem:{padding:e.spacing(1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null===(a=e.palette.border)||void 0===a?void 0:a.secondary}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center",borderTop:"solid 1px",borderTopColor:null===(r=e.palette.border)||void 0===r?void 0:r.secondary},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"}})},{name:"AppBar"});var f=o(60780),x=o(63461),b=o(20053),v=o(62193),y=o.n(v),k=o(71468);let A=m.forwardRef(function({onSearch:e,limit:t=5,classes:o},n){let{dispatch:i,i18n:l}=(0,a.PCX)(),[s,p]=m.useState(-1),c=[],d=(0,k.d4)(e=>e.search.recentSearch),{data:u,loaded:g}=d;m.useImperativeHandle(n,()=>({moveNext(){if(!(null==u?void 0:u.length))return;let e=Math.min(u.length,t);e&&p(t=>(t+1+e)%e)},movePrev(){if(!(null==u?void 0:u.length))return;let e=Math.min(u.length,t);e&&p(t=>(Math.max(0,t)-1+e)%e)},selected:()=>s>-1?u[s]:void 0})),m.useEffect(()=>{p(-1)},[u]),m.useEffect(()=>{g||i({type:"recentSearch/INIT",payload:{}})},[i,g]);let h=m.useCallback((e,t)=>{e&&(e.preventDefault(),e.stopPropagation()),i({type:"recentSearch/REMOVE",payload:{text:t}})},[]),v=m.useCallback(()=>{i({type:"recentSearch/CLEAR",payload:{}})},[i]);return y()(u)?m.createElement("div",{className:o.menuList,"data-testid":"noRecentSearches"},m.createElement("span",{className:o.noOptions},l.formatMessage({id:"no_recent_searches"}))):g?m.createElement(m.Fragment,null,m.createElement("div",{className:(0,b.default)(o.headerPopup,o.headerRecent)},m.createElement("span",null,l.formatMessage({id:"recents"})),m.createElement(f.A,{onClick:v,className:o.clearButton,tabIndex:-1,size:"medium"},l.formatMessage({id:"clear"}))),m.createElement("div",{className:o.menuList},u.slice(0,5).map((t,a)=>m.createElement("div",{role:"option",tabIndex:-1,ref(e){c[a]=e},"aria-selected":s===a,key:t.toString(),onClick:()=>e(t),onMouseOver:()=>p(a),onMouseLeave:()=>p(-1),className:(0,b.default)(o.recentItem,s===a&&o.focusedItem)},m.createElement("span",{className:o.recentLabel},t),m.createElement(x.A,{tabIndex:-1,size:"smaller",onClick:e=>h(e,t),sx:{fontSize:16}},m.createElement(r.s4,{color:"textSecondary",icon:"ico-close"})))))):null});var w=o(38860),I=o(87773),R=o(12789),C=o(89481);let B=e=>e.search.suggestions,S=m.forwardRef(function({limit:e=6,text:t,classes:o,onSearch:r,isActionSearch:i,blurSearch:l},s){let{i18n:p}=(0,a.PCX)(),[c,d]=m.useState(-1),u=(0,k.d4)(B),{data:g,loaded:h}=Object.assign({},u[t]);m.useImperativeHandle(s,()=>({moveNext(){if(!(null==g?void 0:g.length))return;let t=Math.min(g.length,e);t&&d(e=>(e+1+t)%t)},movePrev(){if(!(null==g?void 0:g.length))return;let t=Math.min(g.length,e);t&&d(e=>(Math.max(0,e)-1+t)%t)},selected:()=>c>-1?g[c]:void 0}));let f=()=>{"function"==typeof r&&r(t)};return m.createElement(m.Fragment,null,!!t&&m.createElement(I.A,{paragraph:!0,padding:"16px",margin:"0",sx:{cursor:"pointer"}},i&&m.createElement("span",{onClick:f},`${p.formatMessage({id:"search"})} “${t}”`)),m.createElement("div",{className:o.menuList,"data-testid":"suggestions"},h&&g.length?g.slice(0,e).map((e,t)=>m.createElement(a.Wti,{role:"option","data-testid":"suggestion",key:e.to,to:e.to,onClick:l,onMouseOver:()=>d(t),onMouseLeave:()=>d(-1),className:(0,b.default)(o.searchItem,c===t&&o.focusedItem)},m.createElement(R.A,{className:o.searchAvatar,src:(0,w.AE)(null==e?void 0:e.image,"200"),children:(0,w.cb)(e.title),style:{backgroundColor:w.m6.hex((0,w.cb)(e.title)||"")}}),m.createElement("div",{className:o.searchContent},m.createElement(I.A,{variant:"h5",className:o.searchTitle},e.title),m.createElement("div",{className:o.searchNote},e.note)))):null,h?null:m.createElement(n.A,{sx:{display:"flex",justifyContent:"center",pb:2,color:"text.disabled"}},m.createElement(C.A,{variant:"indeterminate",color:"inherit"}))))});var E=o(47186);let T="search",z="MfHeaderSearchForm",M=(0,l.Ay)(n.A,{name:z,slot:"Root",overridesResolver:({placement:e},t)=>[t.root,"left"===e&&t.rootPlacementLeft,"float-left"===e&&t.rootPlacementFloatLeft,"center"===e&&t.rootPlacementCenter,"right"===e&&t.rootPlacementRight]})(({theme:e,open:t,placement:o})=>({width:320,position:"absolute",top:0,paddingTop:13,zIndex:e.zIndex.appBar,transform:"translateX(-50%)",left:"50%",...t&&{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:e.shadows[8],"& $searchIcon":{color:e.palette.primary.main},"& $resultWrapper":{display:"block"}}})),W=(0,l.Ay)("form",{name:z,slot:"Form",skipSx:!0,skipVariantsResolver:!0,shouldForwardProp:e=>"focused"!==e,overridesResolver:(e,t)=>[t.form]})(({theme:e,focused:t})=>({width:284,position:"relative",background:e.palette.action.hover,borderRadius:"999px",height:e.spacing(4),margin:e.spacing(0,2,0,2),"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{height:e.spacing(4),boxSizing:"border-box"},...t&&{border:e.mixins.border("primary"),borderColor:e.palette.primary.main,background:"none"}})),L=(0,l.Ay)(i.Ay,{name:z,slot:"Input"})(({theme:e})=>({color:`${e.palette.text.secondary} !important`,width:"100%","& input::placeholder":{color:e.palette.text.hint}})),$=(0,l.Ay)(n.A,{name:z,slot:"ResultWrapper"})(({open:e})=>({display:e?"block":"none"})),P=(0,l.Ay)(r.s4,{name:z,slot:"SearchIcon",shouldForwardProp:e=>"active"!==e})(({active:e,theme:t})=>({color:t.palette.text.hint,...e&&{color:t.palette.primary.main}}));function N({openSearch:e,minimize:t,closeSearch:o,placement:n,menuRef:i}){var l;let s=h(),{dispatch:c,usePageParams:u,i18n:g,eventCenter:f,navigate:x,location:b,getSetting:v}=(0,a.PCX)(),y=(0,a.IgF)(T,T,"searchHashtagItem"),k=(0,a.IgF)(T,T,"viewAll"),{pathname:I}=b,{q:R}=u(),C=m.useMemo(()=>/^\/hashtag\/search/.test(I)?R?`#${R}`:"":/^\/search/.test(I)?R:"",[I,R]),[B,z]=m.useState({open:!1,text:C,focus:!1,minimize:!!t}),N=v("search"),O=g.formatMessage({id:"search"}),D=m.useRef(),F=m.useRef(),H=m.useRef();m.useEffect(()=>{let e=f.on("minimizeGlobalSearchForm",()=>{z(e=>({...e,minimize:!0}))});return()=>{f.off("minimizeGlobalSearchForm",e)}},[]),m.useEffect(()=>{!0===e&&Y()},[e]);let j=m.useCallback(e=>{if(z(t=>({...t,text:e})),e&&c({type:"recentSearch/ADD",payload:{text:p()(e)}}),e.startsWith("#")&&e.substring(1)){let t={q:e.substring(1),...null==y?void 0:y.pageParams},o=null==k?void 0:k.apiRules,a=(0,w.FI)(t,o);x({pathname:"/hashtag/search",search:E.stringify(a)},{replace:!0})}else x(`/search/?q=${e}`);(null==F?void 0:F.current)&&F.current.blur(),q()},[]),G=m.useCallback(()=>{z(e=>({...e,focus:!1,open:!1}))},[]),_=m.useCallback(()=>{var e;(null===(e=D.current)||void 0===e?void 0:e.movePrev)&&D.current.movePrev()},[]),X=m.useCallback(()=>{var e;(null===(e=D.current)||void 0===e?void 0:e.moveNext)&&D.current.moveNext()},[]),q=m.useCallback(()=>{z(e=>({...e,focus:!1,open:!1})),o&&o()},[o]),K=m.useCallback(e=>{var t;let a=null===(t=F.current)||void 0===t?void 0:t.value;if("#"===a)return;e&&(e.preventDefault(),e.stopPropagation());let r=p()(a);r||q(),r&&(c({type:"recentSearch/ADD",payload:{text:r}}),j(r)),o&&o()},[o]),U=m.useCallback(e=>{let t=e.currentTarget.value;z(e=>({...e,text:t,selectedIndex:0})),c({type:"suggestions/QUERY",payload:{text:t}})},[]),Y=m.useCallback(()=>{if(!B.open&&(z(e=>({...e,focus:!0,open:!0})),F.current)){var e;null===(e=F.current)||void 0===e||e.focus()}c({type:"suggestions/QUERY",payload:{text:B.text}})},[B.open,B.text]),Q=m.useCallback(()=>{o&&o(),z(e=>({...e,open:!1,focus:!1}))},[o]),V=m.useCallback(()=>{var e,t;let o=null===(e=D.current)||void 0===e?void 0:e.selected();if(o){null===(t=F.current)||void 0===t||t.blur(),d()(o)?j(o):x(null==o?void 0:o.to);return}K()},[B.text]),Z=m.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),J=m.useCallback(e=>{let t=null==e?void 0:e.keyCode;if(!e.metaKey&&!e.ctrlKey)switch(t){case 9:G();break;case 27:G(),Z(e);break;case 13:V(),Z(e);break;case 38:_(),Z(e);break;case 40:X(),Z(e);break;default:B.open||Y()}},[B.open]);return(m.useEffect(()=>{let e=["/search","/hashtag/search"].some(e=>I.startsWith(e));z(t=>({...t,text:e?C:""}))},[I,C]),N)?m.createElement(r.qB,{onClickAway:Q,excludeRef:i},m.createElement(M,{ref:H,"data-testid":"formSearch",open:B.open,placement:null!=n?n:"center",role:"search",id:"globalSearchBox"},m.createElement(W,{method:"get",focused:!!B.open,"aria-expanded":!B.minimize,onSubmit:K},m.createElement(L,{startAdornment:m.createElement(P,{active:!!B.open,icon:"ico-search-o"}),placeholder:O,classes:{root:s.inputRoot,input:s.inputInput},autoComplete:"off",value:B.text,name:"globalSearch",inputProps:{"aria-label":"search","data-testid":"searchBox",autoComplete:"off",autoCapitalize:"off"},inputRef:F,onFocus:Y,onChange:U,onKeyDown:J})),B.open?m.createElement($,{open:B.open},B.text?m.createElement(S,{ref:D,onSearch:j,classes:s,text:B.text,isActionSearch:(null===(l=F.current)||void 0===l?void 0:l.value)!=="#",blurSearch:Q}):m.createElement(A,{onSearch:j,ref:D,classes:s})):null)):null}},19829(e,t,o){"use strict";o.d(t,{A:()=>x});var a,r,n=o(91557),i=o(44371),l=o(38860),s=o(77298),p=o(8051),c=o(96540),d=o(78106),m=o(56525),u=o(85838);let g=(0,m.A)(e=>{var t,o,n,i;return(0,u.A)({blockHeader:{height:e.appBarHeight.normal},rootHeader:{height:null!==(a=e.appBarHeight.normal)&&void 0!==a?a:58,boxShadow:"none",borderBottom:"solid 1px rgba(0, 0, 0, 0.1)","& .MuiToolbar-root":{minHeight:0,maxHeight:null!==(r=e.appBarHeight.normal)&&void 0!==r?r:58}},isGuest:{"& .MuiToolbar-gutters":{paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)}},leftPane:{flex:1,display:"flex",flexDirection:"row"},rightPane:{display:"flex",flexDirection:"row",flex:1,justifyContent:"flex-end"},centerPane:{display:"flex",justifyContent:"center"},fixedAwareBottom:{position:"relative",height:e.appBarHeight.normal,backgroundColor:"transparent"},left:{display:"flex",alignItems:"center",minHeight:"40px",paddingLeft:e.spacing(2.5)},middle:{},right:{paddingRight:e.spacing(2.5)},logo:{height:"32px",display:"inline-block"},shortcutLink:{margin:e.spacing("auto",1),padding:e.spacing(.5,0),color:e.palette.text.secondary,flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center",height:"60px",borderBottom:"2px solid transparent",borderTop:"2px solid transparent","&:hover $tabLink":{background:e.palette.background.default}},menuButton:{padding:e.spacing(.5,0),flex:1,display:"inline-flex",alignItems:"center",justifyContent:"center","&:hover $tabLink":{background:e.palette.background.default}},smallMenuButton:{width:e.spacing(5),height:e.spacing(5),cursor:"pointer",marginLeft:e.spacing(.5),color:e.palette.text.secondary,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:e.mixins.pxToRem(16),transition:"all 0.1s","& .MuiBadge-badge":{marginTop:0},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:"50%"}},activeMenu:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},menuButtonActive:{backgroundColor:e.palette.action.selected,borderRadius:"50%","& $smallMenuIcon":{color:e.palette.primary.main}},smallMenuIcon:{fontSize:e.mixins.pxToRem(24),color:e.palette.text.secondary,"&.ico-caret-down":{fontSize:e.mixins.pxToRem(16)}},menuActive:{borderBottom:"2px solid",borderBottomColor:e.palette.primary.main,color:e.palette.primary.main},menuButtonIcon:{fontSize:e.mixins.pxToRem(28)},tabLink:{display:"block",width:"100%",height:"100%",textAlign:"center",padding:e.spacing(1),borderRadius:e.shape.borderRadius},rightMenu:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},userAvatarButton:{display:"flex",textDecoration:"none",alignItems:"center","& > .MuiAvatar-root":{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary}},userAvatarSpan:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,display:"inline-block",marginLeft:e.spacing(1),fontWeight:"bold",borderBottom:"solid 1px",borderBottomColor:"transparent"},userAvatar:{width:"32px",height:"32px",fontSize:"12px"},title:{flexGrow:1,display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",background:e.palette.action.selected,borderRadius:"999px",height:e.spacing(4),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{width:"288px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& #global-search":{marginLeft:"20px"}},searchFocused:{border:e.mixins.border("primary"),background:"white"},searchIcon:{color:e.palette.text.secondary,transition:"all .2s ease",cursor:"pointer"},inputRoot:{color:`${e.palette.text.secondary} !important`,width:"100%"},inputInput:{padding:e.spacing(1,2,1,0),boxSizing:"border-box",paddingLeft:"30px",transition:"all .2s ease",width:"100%",height:"30px",[e.breakpoints.up("sm")]:{maxWidth:"288px",width:"100%","&:focus":{maxWidth:"288px"}}},guestBar:{justifyContent:"space-between"},textField:{marginRight:e.spacing(1),height:e.spacing(5),width:"203px","& input":{color:e.palette.text.secondary}},button:{marginRight:e.spacing(2),textTransform:"capitalize",fontWeight:e.typography.fontWeightBold},account:{textTransform:"none",fontWeight:e.typography.fontWeightRegular},searchIconFocused:{color:e.palette.primary.main},renderOption:{position:"relative",width:"100%",padding:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"space-between"},removeButton:{minWidth:"16px",cursor:"pointer",height:"26px",borderRadius:"26px",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14)},labelItem:{flexGrow:1,paddingRight:e.spacing(1)},resultWrapper:{paddingTop:e.spacing(1),minWidth:"288px",zIndex:e.zIndex.snackbar},menuList:{margin:0,padding:0},menuItem:{"& + $menuItem":{borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary}},menuItemLink:{padding:e.spacing(1.5),display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",color:e.palette.text.primary,transition:"all .2s","&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemAvatar:{width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(2)},menuItemIcon:{display:"inline-block",width:e.spacing(4),height:e.spacing(4),lineHeight:"32px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",color:"#828080",textAlign:"center",marginRight:e.spacing(2)},headerPopup:{padding:e.spacing(1,1,1,2),display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(18)},headerRecent:{borderBottom:"1px solid",borderBottomColor:null===(o=e.palette.border)||void 0===o?void 0:o.secondary},clearButton:{textTransform:"capitalize",color:e.palette.primary.main,fontWeight:"normal",minWidth:"inherit"},recentItem:{padding:e.spacing(1,1,1,2),display:"flex",alignItems:"center",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),cursor:"pointer","& + $recentItem":{borderTop:"solid 1px",borderTopColor:null===(n=e.palette.border)||void 0===n?void 0:n.secondary},"&:hover":{background:e.palette.action.selected}},focusedItem:{backgroundColor:e.palette.action.selected},recentLabel:{flexGrow:1,padding:e.spacing(1,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},loadingItem:{padding:e.spacing(2)},searchItem:{display:"flex",flexDirection:"row",padding:e.spacing(1.5),color:e.palette.text.primary,alignItems:"center","& + $searchItem":{borderTop:"solid 1px",borderTopColor:null===(i=e.palette.border)||void 0===i?void 0:i.secondary},"&:hover":{background:e.palette.action.selected}},searchContent:{paddingLeft:e.spacing(1),flexGrow:1,overflow:"hidden"},searchAvatar:{width:48,height:48},searchNote:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,fontWeight:"normal"},searchTitle:{padding:e.spacing(.5,0),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"block",maxWidth:"100%",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},itemName:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5),fontWeight:"normal"},noOptions:{fontSize:e.mixins.pxToRem(15),padding:e.spacing(2),display:"block"},searchMinimize:{width:"32px",height:"32px",transition:"all .1s",transform:"translateZ(0)","& $searchIcon":{position:"relative",pointerEvents:"inherit"},"& $inputRoot":{position:"absolute",left:0,top:0,width:"32px",height:"30px",opacity:0,zIndex:2,cursor:"pointer"},[e.breakpoints.down("md")]:{}},openPopup:{height:"32px","& $inputRoot":{maxWidth:"237px",width:"100%",opacity:1}},searchForm:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:0},menuRefIndex:{display:"inline-flex"},popper:{width:290,maxHeight:"500px",boxShadow:e.shadows[20],borderRadius:e.shape.borderRadius,overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:e.spacing(-1)},moreHeaderMenu:{position:"relative",marginRight:e.spacing(1),"& $popper":{minWidth:200,boxShadow:"0px 2px 30px 0 rgba(0, 0, 0, 0.1)"}},divider:{margin:`${e.spacing(0,2,0,1)} !important`,height:"32px !important"},searchBackdrop:{minHeight:"1000000vh",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,marginTop:"-5px",zIndex:1099,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}})},{name:"AppBar"});var h=o(3556);let f=(0,h.Ay)(s.A,{name:"OfflineMode"})(({theme:e})=>({width:"fit-content",backgroundColor:e.palette.warning.main,color:"#fff",cursor:"pointer"}));function x(){let{useActionControl:e,getAcl:t,useSession:o,getSetting:a,usePageParams:r,i18n:s}=(0,n.PCX)(),m=r(),u=o(),h=t(),x=a(),{pathname:b,state:v}=(0,d.zy)(),[y]=e(null,{}),k=(0,n.cbF)("core","headerSubMenu"),A=g(),w=(null==v?void 0:v.as)||b,I=t("core.admincp.has_admin_access"),R=a("core.offline");if(!k||!k.items)return null;let C=(0,l.Ue)(k.items,{acl:h,setting:x,session:u,params:m});return c.createElement(p.A,{sx:{display:"flex",alignItems:"center",marginLeft:"auto"},"data-testid":"menuAppBar"},I&&R&&c.createElement("a",{href:n.vl,target:"_blank",rel:"noreferrer"},c.createElement(f,{size:"small",label:s.formatMessage({id:"offline_mode"})})),c.createElement(i.c,{prefixName:"appbar.item.",fallbackName:"popover",items:C,handleAction:y,classes:A,pathname:w}))}},11929(e,t,o){"use strict";o.d(t,{A:()=>n});var a=o(80961),r=o(96540);let n=function({children:e}){let t=r.useState(!0);return r.createElement(a.A.Provider,{value:t},e)}},90293(e,t,o){"use strict";o.r(t),o.d(t,{default:()=>k});var a,r,n=o(91557),i=o(84680),l=o(8051),s=o(24584),p=o(77536),c=o(3556),d=o(92353),m=o(96540),u=o(75557),g=o(95050),h=o(14035),f=o(19829),x=o(11929);let b=(0,c.Ay)(l.A,{name:"MfMiniAppBarBlock",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>({height:null!==(a=e.appBarHeight.normal)&&void 0!==a?a:58,minHeight:null!==(r=e.appBarHeight.normal)&&void 0!==r?r:58,minWidth:1,position:"relative",margin:0,padding:0,flexGrow:1,flexBasis:"100%",width:"100%"}));function v(e){let{searchPlacement:t}=(0,d.A)({props:e,name:"MfAppBarMini"}),{useLoggedIn:o,usePageParams:a,getSetting:r}=(0,n.PCX)(),i=o(),{menuHeaderGuestLogin:c}=a(),v=m.useMemo(()=>c?m.createElement(g.A,null):m.createElement(u.A,null),[c]),y=r("core.offline");return y?m.createElement(x.A,null,m.createElement(b,{"data-testid":"appbar"},m.createElement(s.A,null,m.createElement(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}})))):m.createElement(x.A,null,m.createElement(b,{"data-testid":"appbar"},m.createElement(s.A,null,m.createElement(p.A,null,i?m.createElement(m.Fragment,null,m.createElement(h.A,{placement:t}),m.createElement(l.A,{flex:1}),m.createElement(f.A,null)):v))))}let y=()=>m.createElement(i.eB,null,m.createElement(i.tD,null,m.createElement(v,null))),k=(0,n.WvA)({extendBlock:y,defaults:{}})}}]);