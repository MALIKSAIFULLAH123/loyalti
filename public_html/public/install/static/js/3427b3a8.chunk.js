"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-ui-SmartDataGrid-IconStatusCell"],{65400(e,t,n){n.r(t),n.d(t,{default:()=>C});var a=n(96540),r=n(3556),l=n(8051),o=n(65467),i=n(58156),u=n.n(i),s=n(44371),c=n(88980),d=n(91557),f=n(76170);let m=(0,c.i7)`
    0% {transform: rotate(0deg);}
    100% {transform: rotate(360deg);}
`,p=(0,r.Ay)("div",{name:"IconCell",slot:"uiChatMsgSet",shouldForwardProp:e=>"isOwner"!==e&&"spinner"!==e})(({theme:e,spinner:t})=>({display:"inline-flex",alignItems:"center",justifyContent:"center",...t&&{animation:`${m} 1s linear infinite`}}));function C({id:e,row:t,colDef:{field:n,iconConfig:r,iconDefault:i,pollingConfig:c}}){var m;let C=u()(t,n,null),{handleReloadRow:v}=(0,f.A)(),x=null==C?void 0:C.toString(),{apiClient:E,handleActionError:h}=(0,d.PCX)(),A=a.useRef(!1),g=a.useRef(),b=x&&c?null===(m=c[x])||void 0===m?void 0:m.dataSource:"",k=new AbortController;a.useEffect(()=>(b&&!A.current&&(A.current=!0,S()),()=>{clearTimeout(g.current),k.abort()}),[x]);let w=a.useCallback((t={})=>{v("row/updateData",{id:e,...t})},[]),S=a.useCallback(()=>{var e;E.request({url:b.apiUrl,method:null!==(e=null==b?void 0:b.apiMethod)&&void 0!==e?e:"GET",signal:k.signal}).then(e=>{if(u()(e,"data.data.retry"))g.current=setTimeout(()=>S(),5e3);else{let t=u()(e,"data.data")||{};w(t)}}).catch(e=>{"ERR_CANCELED"!==e.code&&(w(),h(e))})},[k]);if(""===x)return null;let{icon:_,color:y,spinner:D,label:R,hidden:I=!1,asText:T}=r[x]||i||{},G=u()(t,"sx"),M=u()(G,n);return I?null:_?a.createElement(l.A,{component:"span",color:y,sx:M},a.createElement(o.A,{title:R||x},T?a.createElement(l.A,{component:"span"},T):a.createElement(p,{spinner:D},a.createElement(s.s4,{sx:{fontSize:"18px"},icon:_})))):a.createElement(l.A,{component:"span",sx:M},x)}},76170(e,t,n){n.d(t,{A:()=>l});var a=n(96540);let r=(0,a.createContext)(void 0);function l(){return(0,a.useContext)(r)}}}]);