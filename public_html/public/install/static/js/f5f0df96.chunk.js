"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-installation-blocks-ConfigureDatabase"],{94017(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848),o=(0,r.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.A=o},21447(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848),o=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.A=o},75897(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848),o=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.A=o},6325(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848),o=(0,r.default)((0,i.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.A=o},13718(e,t,a){a.d(t,{A:()=>L});var n=a(98587),r=a(58168),i=a(96540),o=a(75630),l=a(79800),s=a(75659),d=a(3556),c=a(92353),u=a(60780),m=a(89481),p=a(31609),g=a(38413);function f(e){return(0,p.A)("MuiLoadingButton",e)}let h=(0,g.A)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var v=a(74848);let b=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],x=e=>{let{loading:t,loadingPosition:a,classes:n}=e,i={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${(0,o.A)(a)}`],endIcon:[t&&`endIconLoading${(0,o.A)(a)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${(0,o.A)(a)}`]},l=(0,s.A)(i,f,n);return(0,r.A)({},n,l)},y=e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e,A=(0,d.Ay)(u.A,{shouldForwardProp:e=>y(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{[`& .${h.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${h.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:e,theme:t})=>(0,r.A)({[`& .${h.startIconLoadingStart}, & .${h.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},"center"===e.loadingPosition&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${h.loading}`]:{color:"transparent"}},"start"===e.loadingPosition&&e.fullWidth&&{[`& .${h.startIconLoadingStart}, & .${h.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===e.loadingPosition&&e.fullWidth&&{[`& .${h.startIconLoadingStart}, & .${h.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),E=(0,d.Ay)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver(e,t){let{ownerState:a}=e;return[t.loadingIndicator,t[`loadingIndicator${(0,o.A)(a.loadingPosition)}`]]}})(({theme:e,ownerState:t})=>(0,r.A)({position:"absolute",visibility:"visible",display:"flex"},"start"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{left:"small"===t.size?10:14},"start"===t.loadingPosition&&"text"===t.variant&&{left:6},"center"===t.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},"end"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{right:"small"===t.size?10:14},"end"===t.loadingPosition&&"text"===t.variant&&{right:6},"start"===t.loadingPosition&&t.fullWidth&&{position:"relative",left:-10},"end"===t.loadingPosition&&t.fullWidth&&{position:"relative",right:-10})),I=i.forwardRef(function(e,t){let a=(0,c.A)({props:e,name:"MuiLoadingButton"}),{children:i,disabled:o=!1,id:s,loading:d=!1,loadingIndicator:u,loadingPosition:p="center",variant:g="text"}=a,f=(0,n.A)(a,b),h=(0,l.A)(s),y=null!=u?u:(0,v.jsx)(m.A,{"aria-labelledby":h,color:"inherit",size:16}),I=(0,r.A)({},a,{disabled:o,loading:d,loadingIndicator:y,loadingPosition:p,variant:g}),L=x(I),w=d?(0,v.jsx)(E,{className:L.loadingIndicator,ownerState:I,children:y}):null;return(0,v.jsxs)(A,(0,r.A)({disabled:o||d,id:h,ref:t},f,{variant:g,classes:L,ownerState:I,children:["end"===I.loadingPosition?i:w,"end"===I.loadingPosition?w:i]}))}),L=I},52662(e,t,a){a.r(t),a.d(t,{default:()=>s});var n=a(96540),r=a(96530),i=a(91557);let o=JSON.parse('{"name":"database","component":"Form","title":"Database","testid":"FormDatabaseConfig","action":"install/?step=verify-database","method":"POST","value":{},"validation":{"type":"object","properties":{"database":{"type":"object","properties":{"driver":{"type":"string","errors":{"required":"${path} is a required field."},"required":true,"label":"Database driver"},"host":{"type":"string","errors":{"required":"${path} is a required field."},"required":true,"label":"Host name"},"user":{"type":"string","errors":{"required":"${path} is a required field."},"required":true,"label":"Username"},"password":{"type":"string","errors":{"required":"${path} is a required field."},"required":true,"label":"Password"},"name":{"type":"string","errors":{"required":"${path} is a required field."},"required":true,"label":"Database name"},"port":{"type":"number","label":"Port","nullable":true,"int":true,"positive":true}}}}},"elements":{"basic":{"component":"Container","name":"basic","testid":"field basic","elements":{"driver":{"name":"database.driver","maxLength":255,"fullWidth":true,"variant":"outlined","margin":"normal","size":"medium","component":"Select","required":true,"autoComplete":"off","autoFocus":true,"label":"Database driver","testid":"field database.driver","options":[{"label":"PostgreSQL","value":"pgsql"},{"label":"MySql","value":"mysql"}]},"host":{"name":"database.host","maxLength":255,"fullWidth":true,"required":true,"variant":"outlined","margin":"normal","size":"medium","component":"Text","label":"Host name","autoComplete":"off","testid":"field database.host"},"user":{"name":"database.user","maxLength":255,"fullWidth":true,"required":true,"variant":"outlined","margin":"normal","size":"medium","component":"Text","label":"Username","autoComplete":"off","testid":"field database.user"},"password":{"name":"database.password","maxLength":255,"fullWidth":true,"required":true,"variant":"outlined","margin":"normal","size":"medium","component":"Password","label":"Password","autoComplete":"off","testid":"field database.password"},"name":{"name":"database.name","maxLength":255,"fullWidth":true,"required":true,"variant":"outlined","margin":"normal","size":"medium","component":"Text","label":"Database Name","autoComplete":"off","testid":"field database.name"},"port":{"name":"database.port","maxLength":6,"fullWidth":true,"variant":"outlined","margin":"normal","size":"medium","component":"Text","description":"default 5432 for PostgresSql, 3306 for MySQL","label":"Port","autoComplete":"off","testid":"field database.port"}}}}}'),l=()=>n.createElement(r.Wl,{formSchema:o}),s=(0,i.WvA)({extendBlock:l})},96530(e,t,a){a.d(t,{f0:()=>A,Wl:()=>S,ZZ:()=>x,Zk:()=>o,l_:()=>s,wq:()=>q,WH:()=>d,aO:()=>m,cQ:()=>O});var n=a(96540),r=a(3556);let i=(0,r.Ay)("div",{name:"InstallPanel"})(({theme:e})=>({width:700,maxWidth:"100%",backgroundColor:e.palette.background.paper,margin:e.spacing(6,0),border:e.mixins.border("secondary"),borderRadius:e.shape.borderRadius,position:"relative",boxShadow:e.shadows[2]}));function o({children:e}){return n.createElement(i,null,e)}var l=a(8051);function s({children:e,hasMenu:t}){return n.createElement(l.A,{sx:t?{display:"flex",minHeight:"400px",flexDirection:"row"}:{minHeight:"400px"}},e)}function d({children:e}){return e?n.createElement(l.A,{sx:{py:2,px:2,textAlign:"right",borderTop:e=>e.mixins.border("secondary")}},e):null}var c=a(87773),u=a(59982);function m(){let{platformVersion:e}=(0,u.A)();return n.createElement(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",py:2,px:3,borderBottom:e=>e.mixins.border("secondary")}},n.createElement("img",{alt:"MetaFox",src:"https://metafox-assets.s3.eu-north-1.amazonaws.com/logo.png",height:40}),n.createElement(c.A,null,e))}var p=a(91557);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let f=(0,r.Ay)("ul",{name:"StepMenu",slot:"Root"})(()=>({listStyle:"none none outside",margin:0,padding:"16px 0 16px 0"})),h=(0,r.Ay)("li",{name:"StepMenu",slot:"Item"})(()=>({lineHeight:"40px",paddingLeft:"24px"})),v={active:{lineHeight:"32px",color:"text.primary",fontWeight:"bold"},default:{lineHeight:"32px",color:"text.primary"}};function b({title:e,clickable:t,active:a,id:r}){return t?n.createElement(h,null,n.createElement(p.Wti,{to:`?step=${r}`},n.createElement(c.A,{sx:a?v.active:v.default},e))):n.createElement(h,null,n.createElement(c.A,{sx:a?v.active:v.default},e))}function x(){let{steps:e,disabledStep:t,currentStep:a}=(0,u.A)();return n.createElement(l.A,{sx:{width:"160px",pt:.5}},n.createElement(f,null,e.map((e,r)=>n.createElement(b,g({},e,{active:r===a,key:e.title,clickable:r<=a&&!t})))))}var y=a(75687);function A(){let{helpBlock:e}=(0,u.A)();return n.createElement(n.Fragment,null,n.createElement(y.A,{sx:{flex:1}}),n.createElement(c.A,{sx:{py:2,pr:2},paragraph:!0,"data-testid":"helpBlock"},n.createElement("span",{dangerouslySetInnerHTML:{__html:e}})))}var E=a(77795),I=a(72871),L=a(13718);let w=({formSchema:e})=>{let{formRefs:t,dispatch:a}=(0,p.PCX)(),[r,i]=n.useState(!1),o=(0,E.zd)(),l=e=>{a({type:"@install/update",payload:e}),a({type:"@install/next",payload:{}})},s=n.useCallback(()=>{i(!1)},[]),d=()=>{i(!0)},c=()=>{t.get(e.name).submitForm()};return n.createElement(E.Zk,null,n.createElement(E.aO,null),n.createElement(E.l_,{hasMenu:!0},n.createElement(E.ZZ,null),n.createElement(E.wq,null,n.createElement(I.FF,{initialValues:o,onSuccess:l,onFailure:s,onSubmitting:d,formSchema:e,resetDirtyWhenSuccess:!0}),n.createElement(E.f0,null))),n.createElement(E.WH,null,n.createElement(L.A,{variant:"contained",color:"primary",loading:r,loadingPosition:"center","data-testid":"buttonContinue",onClick:c},"Continue")))},S=w;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function q({children:e,...t}){return n.createElement(l.A,P({component:"div",sx:{px:2,py:2,flex:1,position:"relative",display:"flex",flexDirection:"column"}},t),e)}var W=a(94017),z=a(21447),C=a(6325),k=a(75897);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let j={success:{sx:{color:"#28a745"}},info:{sx:{color:"#28a745"}},warning:{sx:{color:"#ffc107"}},error:{icon:"ico-close",sx:{color:"#dc3545"}}},M=({variant:e="success"})=>{switch(e){case"success":return n.createElement(W.A,$({"data-testid":"iconSuccess"},j.success));case"error":return n.createElement(z.A,$({"data-testid":"iconError"},j.error));case"warning":return n.createElement(C.A,$({"data-testid":"iconWarning"},j.warning));default:return n.createElement(k.A,$({"data-testid":"iconInfo"},j.info))}},O=M},59982(e,t,a){a.d(t,{A:()=>r});var n=a(71468);function r(){return(0,n.d4)(e=>e.installation)}},77795(e,t,a){a.d(t,{f0:()=>r.f0,ZZ:()=>r.ZZ,Zk:()=>r.Zk,l_:()=>r.l_,wq:()=>r.wq,WH:()=>r.WH,aO:()=>r.aO,cQ:()=>r.cQ,zd:()=>n.A});var n=a(59982),r=a(96530)}}]);