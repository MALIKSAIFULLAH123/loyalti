"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-layout-ChildPageContainer"],{41093(e,t,a){a.r(t),a.d(t,{default:()=>p});var r=a(91557),l=a(96540),n=a(70447),o=a(93864),c=a(55705),u=a(89416),i=a(79561),m=a(48252),v=a(59243);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s({children:e}){var t,a;let n=(0,r.PCX)(),{constants:s,layoutBackend:p,LayoutPreviewContainer:P,LayoutSection:f}=n,E=l.useRef(!0);l.useEffect(()=>()=>{E.current=!1},[]);let[h,A]=l.useState({pageName:"default",blocks:[],contentParams:{},pageParams:{},templateName:"default",previewDevice:s.previewDevice,layoutEditMode:0,pageSize:p.getPageSizeByWidth(),header:{elements:[]},footer:{elements:[]},content:{elements:[]}}),g=l.useCallback(e=>{E.current&&A(e)},[]),{previewDevice:w,layoutEditMode:y,content:b,contentParams:k}=h,C=window.document.location.href;return w&&!s.isLayoutPreviewWindow&&C?l.createElement(i.A.Provider,{value:g},l.createElement(u.A.Provider,{value:h},l.createElement(v.A.Provider,{value:null!==(t=h.pageParams)&&void 0!==t?t:{}},l.createElement(m.A,null),l.createElement(o.A.Provider,{value:h.blocks},e,l.createElement(P,{url:C,previewDevice:w}))))):l.createElement(i.A.Provider,{value:g},l.createElement(u.A.Provider,{value:h},l.createElement(o.A.Provider,{value:h.blocks},l.createElement(v.A.Provider,{value:null!==(a=h.pageParams)&&void 0!==a?a:{}},e,l.createElement(c.A.Provider,{value:k},l.createElement(f,d({},b,{layoutEditMode:y,sectionName:"content"})))))))}function p({masterPage:e}){let{LayoutScopeContainer:t}=(0,r.PCX)(),{transformPathname:a}=e,o=(0,r.zy2)();return l.createElement(t,{value:!1},l.createElement(n.A.Provider,{value:!1},l.createElement(s,null,l.createElement(r.i9Q,{location:{...o,masterPathname:o.pathname,pathname:a(o.pathname)||o.pathname}}))))}}}]);