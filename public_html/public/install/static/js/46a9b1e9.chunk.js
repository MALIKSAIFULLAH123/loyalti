"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["dialogs"],{33778(e,t,a){a.r(t),a.d(t,{default:()=>u});var i=a(91557),r=a(24721),o=a(51763),n=a(26433),l=a(54358),s=a(43791),c=a(60780),d=a(86139),p=a.n(d),m=a(96540);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function u({title:e,message:t,label:a,value:d,helperText:u,positiveButton:g,negativeButton:f}){let{i18n:v,useDialog:y}=(0,i.PCX)(),{setDialogValue:E,disableBackdropClick:b,dialogProps:C}=y(),x=()=>{E(!1)};m.useEffect(()=>{b(!0)},[]);let{label:S,...A}=p()({label:v.formatMessage({id:"cancel"}),color:"primary"},f),{label:w,...k}=p()({label:v.formatMessage({id:"ok"}),color:"primary"},g);e=null!=e?e:v.formatMessage({id:"prompt"});let[P,z]=m.useState(null!=d?d:""),M=()=>{E(P)};return m.createElement(r.A,h({},C,{fullScreen:!1,"data-testid":"popupConfirm",maxWidth:"xs",role:"alertdialog",fullWidth:!0,"aria-modal":!0,variant:"alert"}),m.createElement(o.A,{id:"dialogTitle","data-testid":"popupTitle"},null!=e?e:"Prompt"),m.createElement(n.A,{dividers:!1},m.createElement(l.A,{onChange:e=>z(e.currentTarget.value),autoFocus:!0,defaultValue:d,fullWidth:!0,required:!0,placeholder:a,InputLabelProps:{shrink:!1},variant:"outlined",helperText:u})),m.createElement(s.A,null,m.createElement(c.A,h({},k,{role:"button","data-testid":"buttonCancel",tabIndex:0,variant:"contained",size:"medium",color:"primary",disabled:!P.trim().length,onClick:M,sx:{minWidth:120}}),w),m.createElement(c.A,h({},A,{role:"button","data-testid":"buttonSubmit",tabIndex:1,variant:"outlined",size:"medium",color:"primary",sx:{minWidth:120},onClick:x}),S)))}},39383(e,t,a){a.r(t),a.d(t,{default:()=>C});var i=a(91557),r=a(44371),o=a(38860),n=a(24721),l=a(51763),s=a(26433),c=a(43791),d=a(60780),p=a(54358),m=a(16535),h=a(96540),u=a(56525),g=a(85838);let f=(0,u.A)(e=>(0,g.A)({root:{},actionWrapper:{marginBottom:e.spacing(2),paddingRight:e.spacing(2),"& .MuiButton-root":{marginLeft:e.spacing(1.5)}},suggestionsWrapper:{position:"fixed",zIndex:1,backgroundColor:e.mixins.backgroundColor("paper"),padding:e.spacing(2),borderRadius:"4px",boxShadow:e.shadows[2]},userWrapper:{margin:e.spacing(1,0),minWidth:"385px"},userOuter:{display:"inline-flex",alignItems:"center",padding:e.spacing(.5),color:e.palette.primary.main,border:e.mixins.border("primary"),marginRight:e.spacing(.5),marginBottom:e.spacing(.5),"&:hover":{background:e.palette.primary.main,color:"#fff","& $removeBtn":{color:"#fff"}}},removeBtn:{color:e.palette.primary.main,fontSize:11,margin:e.spacing(0,.5,0,1),cursor:"pointer"},name:{fontSize:e.mixins.pxToRem(13)}}),{name:"DialogCreateCustomListPrivacy"});function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let y=(0,u.A)(e=>(0,g.A)({root:{},mentionSuggestionsWrapper:{position:"absolute",backgroundColor:e.mixins.backgroundColor("paper"),borderRadius:4},mentionOptionWrapper:{display:"flex",alignItems:"center",padding:e.spacing(.5,0),cursor:"pointer"},avatar:{width:32,height:32,borderRadius:"50%"},name:{marginLeft:e.spacing(1),color:e.palette.text.primary,fontSize:e.mixins.pxToRem(13)}}));function E({user:e,...t}){let a=y();return h.createElement("div",v({className:a.root},t),h.createElement("div",{className:a.mentionOptionWrapper},h.createElement("img",{src:e.avatar,alt:e.name,className:a.avatar}),h.createElement("span",{className:a.name},e.name)))}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function C(e){let{customList:t}=e,a=f(),{useDialog:u,i18n:g,apiClient:v}=(0,i.PCX)(),{dialogProps:y,closeDialog:C,setDialogValue:x}=u(),[S,A]=h.useState(""),[w,k]=h.useState([]),[P,z]=h.useState([]),[M,R]=h.useState({listName:!1,friends:!1}),[W,_]=h.useState(!1),[I,O]=h.useState([]),N=h.useRef(),L=h.useCallback(({value:e})=>{v.request({method:"get",url:"/friend",params:{q:e,limit:6}}).then(e=>{var t,a,i;return(null===(t=e.data)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.length)?null===(i=e.data)||void 0===i?void 0:i.data:[]}).then(e=>e.map(e=>({avatar:(0,o.AE)(e.avatar,"240"),name:e.full_name,link:`/${e.resource_name}/${e.id}`}))).then(e=>O(e))},[v]),D=()=>{let e=!1;(j(S)||""===S)&&(R(e=>({...e,listName:!0})),e=!0),0===P.length&&(R(e=>({...e,friends:!0})),e=!0),e||(C(),x(S))},F=e=>{R(e=>({...e,listName:!1}));let t=e.target.value;A(t),j(t)&&R(e=>({...e,listName:!0}))},T=e=>{R(e=>({...e,friends:!1}));let t=e.target.value;k(t),L({value:t}),_(!0)},j=e=>t.includes(e),B=e=>{if(z(t=>[...t,e]),k([]),_(!1),N){var t;null==N||null===(t=N.current)||void 0===t||t.focus()}R(e=>({...e,friends:!1}))},H=e=>{z((0,m.Ay)(P,t=>{t.splice(e,1)})),0===P.length&&R(e=>({...e,friends:!0}))};return h.createElement(n.A,b({},y),h.createElement(l.A,null,g.formatMessage({id:"create_friends_list"})),h.createElement(s.A,null,h.createElement(p.A,{error:M.listName,placeholder:g.formatMessage({id:"list_name"}),label:g.formatMessage({id:"list_name"}),variant:"outlined",fullWidth:!0,margin:"normal",size:"small",value:S,onChange:e=>F(e),autoFocus:!0}),P&&0<P.length?h.createElement("div",{className:a.userWrapper},P.map((e,t)=>h.createElement("div",{key:t.toString(),className:a.userOuter},h.createElement("span",{className:a.name},e.name),h.createElement(r.s4,{icon:"ico-close",className:a.removeBtn,onClick:()=>H(t)})))):null,h.createElement(p.A,{error:M.friends,placeholder:g.formatMessage({id:"add_friend"}),label:g.formatMessage({id:"add_friend"}),variant:"outlined",fullWidth:!0,margin:"normal",size:"small",multiline:!0,value:w,onChange:e=>T(e),inputRef:N}),W&&h.createElement("div",{className:a.suggestionsWrapper},I?I.map((e,t)=>h.createElement(E,{key:t.toString(),user:e,onClick:()=>B(e)})):null)),h.createElement(c.A,null,h.createElement("div",{className:a.actionWrapper},h.createElement(d.A,{variant:"outlined",onClick:C,size:"small"},g.formatMessage({id:"back"})),h.createElement(d.A,{variant:"contained",onClick:D,size:"small",color:"primary"},g.formatMessage({id:"create"})))))}},9793(e,t,a){a.r(t),a.d(t,{default:()=>R});var i=a(91557),r=a(73349),o=a(13272),n=a(69360),l=a(56449),s=a.n(l),c=a(62193),d=a.n(c),p=a(23181),m=a.n(p),h=a(81968),u=a(87773),g=a(46772),f=a(43546),v=a(60780),y=a(96540),E=a(16535),b=a(56525),C=a(85838);let x=(0,b.A)(e=>(0,C.A)({root:{},shareWith:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,fontWeight:e.typography.fontWeightBold,marginBottom:e.spacing(1)},linkContainer:{marginTop:e.spacing(1),display:"flex",alignItems:"center"}}),{name:"DialogCustomListPrivacy"});var S=a(52705);let A=(0,b.A)(e=>(0,C.A)({root:{height:e.spacing(5),display:"flex",alignItems:"center"},checkbox:{marginRight:e.spacing(1)}}),{name:"DialogCustomListPrivacy"});function w(){let e=A();return y.createElement("div",{className:e.root},y.createElement("div",{className:e.checkbox},y.createElement(S.A,{variant:"rectangular",width:16,height:16})),y.createElement(S.A,{variant:"text",width:"50%",height:24}))}var k=a(84680),P=a(38860);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let M=e=>{let t=[];return e.forEach(e=>{(null==e?void 0:e.is_selected)&&t.push(null==e?void 0:e.id)}),t};function R({value:e,feed:t}){let a=x(),{useDialog:l,i18n:c,useFetchItems:p,dispatch:b,getAcl:C}=(0,i.PCX)(),{dialogProps:S,setDialogValue:A,closeDialog:R}=l(),W=(0,i.IgF)("core","privacy","getCustomPrivacyOptions"),_=C("friend.friend_list.create"),[I,O]=p({dataSource:{apiUrl:W.apiUrl,apiParams:(0,P.A8)(W.apiParams,t)},normalize:!1}),[N,L]=y.useState(I),[D,F]=y.useState(Array.isArray(e)?e:[]);y.useEffect(()=>{L(I),d()(I)||s()(e)||F(M(I))},[I,e]);let T=()=>{R(),A(D)},j=e=>{F(t=>t.find(t=>t==e)?t.filter(t=>t!=e):[...t,e])},B=y.useCallback(()=>{b({type:"friend/addNewListWhenCustomPrivacy",meta:{onSuccess(e){F(t=>(0,E.Ay)(t,t=>{t.push(e.id)})),L(t=>(0,E.Ay)(t,t=>{t.push(e)}))}}})},[]);return y.createElement(r.lG,z({},S,{maxWidth:"xs",fullWidth:!0}),y.createElement(r.L3,null,c.formatMessage({id:"custom_privacy"})),y.createElement(r.Cf,null,y.createElement("div",{className:a.shareWith},c.formatMessage({id:"share_with"})),y.createElement(k.P,{autoHide:!0,autoHeight:!0,autoHeightMax:200},O?m()(1,5).map(e=>y.createElement(w,{key:e.toString()})):y.createElement(h.A,null,(null==N?void 0:N.length)===0?y.createElement(u.A,{paragraph:!0,variant:"body1",margin:"0",color:"textSecondary"},c.formatMessage({id:"there_are_no_friend_list"})):null==N?void 0:N.map((e,t)=>y.createElement(g.A,{checked:-1<D.indexOf(e.id),key:t.toString(),value:e.id,label:e.title,onChange:()=>j(e.id),control:y.createElement(f.A,{value:e,icon:y.createElement(n.A,{fontSize:"small"}),checkedIcon:y.createElement(o.A,{fontSize:"small"}),color:"primary"})})))),y.createElement("div",{className:a.linkContainer},_&&y.createElement(y.Fragment,null,y.createElement(v.A,{variant:"link",size:"small",color:"primary",onClick:B},c.formatMessage({id:"create_new_custom_list"})),"\xa0",y.createElement("span",null," ",c.formatMessage({id:"or"})," "),"\xa0"),y.createElement(v.A,{variant:"link",size:"small",href:"/friend",color:"primary"},c.formatMessage({id:"manage_lists"})))),y.createElement(r.ii,null,y.createElement(v.A,{variant:"contained",onClick:T,size:"small",color:"primary",disabled:0===D.length},c.formatMessage({id:"save"})),y.createElement(v.A,{variant:"outlined",onClick:R,size:"small"},c.formatMessage({id:"cancel"}))))}},63301(e,t,a){a.r(t),a.d(t,{default:()=>b});var i=a(91557),r=a(73349),o=a(38860),n=a(8051),l=a(18727),s=a(54358),c=a(3556),d=a(96540),p=a(52705),m=a(87773),h=a(60780),u=a(67131);function g({item:{title:e,keywords:t,description:a,previewImage:r,name:o},onItemSelected:l,onKeyWorkClicked:s}){let{i18n:c}=(0,i.PCX)();return d.createElement(d.Fragment,null,d.createElement(n.A,{component:"div",flexDirection:"row",display:"flex"},d.createElement(n.A,{component:"div",mr:"16px"},d.createElement(p.A,{component:"div",variant:"rectangular",width:"120px",height:"80px",animation:!1})),d.createElement(n.A,{sx:{flex:1}},d.createElement(m.A,{variant:"h4"},null!=e?e:o),d.createElement(m.A,{variant:"body1"},t),d.createElement(m.A,{variant:"body1"},a)),d.createElement(n.A,{sx:{mt:1.5}},d.createElement(h.A,{onClick:()=>l(o)},c.formatMessage({id:"create_layout_block"})))),d.createElement(u.A,{style:{margin:"12px 0"}}))}var f=a(63375),v=a.n(f);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let E=(0,c.Ay)(n.A,{name:"Editor",slot:"Tag"})(({theme:e})=>({display:"inline-block",color:e.palette.primary.main,cursor:"pointer",fontSize:e.typography.body1.fontSize,background:"#2682d511",margin:"2px",padding:"0 4px",borderRadius:"4px"}));function b(e){let{parentBlockId:t,slotName:a,pageName:c,pageSize:p}=e,{useDialog:m,layoutBackend:h,dispatch:u,i18n:f}=(0,i.PCX)(),{dialogProps:b,closeDialog:C}=m(),[x,S]=d.useState(""),A=h.getAllBlockView(),w=i.SDN,k=d.useMemo(()=>{let e=[];return Object.values(A).filter(e=>!e.experiment).filter(e=>!w&&!e.admincp||w&&e.admincp).filter(e=>!e.hiddenOnEditorMode).forEach(({keywords:t})=>{t&&t.split(",").map(e=>e.trim().toLowerCase()).forEach(t=>e.push(t))}),v()(e).filter(Boolean).sort()},[]),P=e=>{(0,o.yy)(150).then(()=>{u({type:"@layout/editBlock",payload:{parentBlockId:t,pageName:c,slotName:a,blockName:e,pageSize:p}})}),C()},z=d.useMemo(()=>Object.values(A).map(e=>({...e})).filter(e=>!e.experiment).filter(e=>!w&&!e.admincp||w&&e.admincp).filter(e=>!e.hiddenOnEditorMode).filter(Boolean),[]),M=d.useMemo(()=>{if(!x)return z;let e=RegExp((0,o.Nt)(x),"i");return z.filter(t=>e.test(t.keywords)||e.test(t.title))},[z,x]);return d.createElement(r.lG,y({},b,{maxWidth:"md",fullWidth:!0}),d.createElement(r.L3,{id:"alert-dialog-title"},f.formatMessage({id:"create_layout_block"})),d.createElement(r.Cf,{sx:{height:"50vh"}},d.createElement(n.A,{sx:{display:"flex",flexDirection:"row"}},d.createElement(n.A,{sx:{width:220,mr:2}},d.createElement(l.A,{sx:{mb:2},freeSolo:!0,options:k,getOptionLabel:e=>e,onChange(e,t){S(t)},value:x,renderInput:e=>d.createElement(s.A,y({},e,{hiddenLabel:!0,autoFocus:!0,fullWidth:!0,size:"small",variant:"outlined",placeholder:f.formatMessage({id:"search"})}))}),k.map(e=>d.createElement(E,{key:e,onClick:()=>S(e)},e))),d.createElement(n.A,{sx:{flex:1}},M.map((e,t)=>d.createElement(g,{key:t.toString(),item:e,onItemSelected:P,onKeyWorkClicked:S}))))))}},69845(e,t,a){a.r(t),a.d(t,{default:()=>c});var i=a(91557),r=a(72871),o=a(24721),n=a(96540),l=a(67244);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function c(){let{useDialog:e,i18n:t}=(0,i.PCX)(),{closeDialog:a,dialogProps:c}=e(),d=t.formatMessage({id:"add_new_template"}),p=(0,l.pJ)(d);p.elements.content.elements.name={component:"Text",name:"name",variant:"outlined",margin:"normal",required:!0,defaultValue:"",label:"Template Name",fullWidth:!0},p.elements.footer.elements={cancel:{component:"Button",label:"Cancel",color:"primary",type:"cancel",onClick:a},submit:{component:"Button",label:"Submit",color:"primary",type:"cancel",onClick:a}};let m=()=>{};return n.createElement(o.A,s({},c),n.createElement(r.ok,{dialog:!0,initialValues:{},formSchema:p,onSubmit:m}))}},51687(e,t,a){a.r(t),a.d(t,{ItemView:()=>f,default:()=>y});var i=a(73349),r=a(91557),o=a(3556),n=a(8051),l=a(77299),s=a(67131),c=a(60780),d=a(56525),p=a(85838),m=a(96540);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let u=(0,o.Ay)(n.A,{name:"ThemeItem",slot:"Root"})(({theme:e,selected:t})=>({borderRadius:e.shape.borderRadius,overflow:"hidden",border:`2px solid ${t?e.palette.primary.main:"rgba(0,0,0,0.1)"}}`})),g=(0,o.Ay)(n.A,{name:"ThemeItem",slot:"Content"})(({theme:e})=>({borderRadius:e.shape.borderRadius,display:"block",paddingBottom:"60%",backgroundColor:"rgba(0,0,0,0.1)",backgroundSize:"cover"}));function f({title:e,id:t,image:a,selected:i,onChange:r}){return m.createElement(u,{selected:i},m.createElement(g,{title:e,onClick:()=>r(t),style:{backgroundImage:`url(${a})`}}))}let v=(0,d.A)(e=>(0,p.A)({content:{display:"flex",flexWrap:"nowrap",flexDirection:"row"},divider:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},dialogActions:{margin:e.spacing(1),"& button":{width:94,height:40}}}),{name:"ChooseThemeDialog"});function y(){let{useDialog:e,getSetting:t,i18n:a,usePreference:o}=(0,r.PCX)(),{themeId:n=r.SS4}=o(),{dialogProps:d,closeDialog:p,setDialogValue:u}=e(),[g,y]=m.useState(n),E=v(),b=t("layout.variants",[]),C=m.useCallback(()=>{u(g)},[u,g]),x=m.useCallback(e=>{y(e)},[]);return m.createElement(i.lG,h({},d,{maxWidth:"sm","data-testid":"dialogThemePicker"}),m.createElement(i.L3,null,a.formatMessage({id:"choose_your_preferred_theme"})),m.createElement(i.Cf,null,m.createElement("div",{className:E.content},m.createElement(l.Ay,{container:!0,columnSpacing:1,rowSpacing:2},b.map(e=>{var t;return m.createElement(l.Ay,{item:!0,key:null===(t=e.id)||void 0===t?void 0:t.toString(),xs:12},m.createElement(f,h({},e,{image:e.image,selected:e.id===g,onChange:x})))})))),m.createElement(s.A,{className:E.divider}),m.createElement(i.ii,{className:E.dialogActions},m.createElement(c.A,{onClick:C,variant:"contained",color:"primary",disabled:!g,"data-testid":"buttonSubmit"},a.formatMessage({id:"apply"})),m.createElement(c.A,{onClick:p,type:"button",variant:"outlined",color:"primary","data-testid":"buttonCancel"},a.formatMessage({id:"cancel"}))))}},36582(e,t,a){a.r(t),a.d(t,{default:()=>s});var i=a(91557),r=a(73349),o=a(60780),n=a(96540);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s(){let{i18n:e,theme:t,useDialog:a}=(0,i.PCX)(),{closeDialog:s,dialogProps:c}=a();return n.createElement(r.lG,l({},c,{maxWidth:"sm",fullWidth:!0}),n.createElement(r.L3,{id:"alert-dialog-title"},e.formatMessage({id:"layout_inspect_theme"})),n.createElement(r.Cf,null,n.createElement("pre",null,JSON.stringify(t,null,"  "))),n.createElement(r.ii,null,n.createElement(o.A,{onClick:s,color:"primary",autoFocus:!0,children:e.formatMessage({id:"ok"})})))}},7178(e,t,a){a.r(t),a.d(t,{default:()=>s});var i=a(91557),r=a(24721),o=a(96540),n=a(72871);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s({config:e}){let{action_name:t,onSubmit:a,formValues:s={},onCancel:c}=e||{},{useDialog:d,dispatch:p}=(0,i.PCX)(),{setDialogResolveValue:m,setDialogValue:h,dialogProps:u,forceClose:g,disableBackdropClick:f}=d(),v=(0,i.IgF)("captcha","captcha","getVerifyForm"),y=o.useMemo(()=>s,[]);o.useEffect(()=>{f(!0)},[]);let E=(e,t)=>{m({...e,formValues:y}),p({type:"@waitingCaptchaImage/start",payload:{form:t,forceClose:g}})},b=()=>{h(null),c&&c()};return o.createElement(r.A,l({},u,{fullScreen:!1,"data-testid":"dialogCaptchaImage",maxWidth:"xs",fullWidth:!0,"aria-modal":!0,onCancel:b}),o.createElement(n.aI,{dataSource:v,onSubmit:a||E,onCancel:b,pageParams:{action_name:t,auto_focus:!0},navigationConfirmWhenDirty:!1,dialog:!0}))}},31349(e,t,a){a.r(t),a.d(t,{default:()=>V,initState:()=>Z});var i,r=a(91557),o=a(44371),n=a(38860),l=a(24721),s=a(51763),c=a(63461),d=a(60780),p=a(89481),m=a(8051),h=a(14931),u=a(30719),g=a(2491),f=a(1882),v=a.n(f),y=a(96540);let E=e=>new Promise((t,a)=>{let i=new Image;i.addEventListener("load",()=>t(i)),i.addEventListener("error",e=>a(e)),i.setAttribute("crossOrigin","anonymous"),i.src=e.startsWith("http")?`${e}?not-from-cache`:e});async function b(e,t,a,i=0,r=!1,o=!1){try{let n=await E(e),l=document.createElement("canvas"),s=l.getContext("2d"),c=Math.max(n.width,n.height),d=2*(c/2*Math.sqrt(2));l.width=d,l.height=d,s.translate(d/2,d/2),s.rotate(i*Math.PI/180),s.scale(r?-1:1,o?-1:1),s.translate(-d/2,-d/2),s.drawImage(n,d/2-.5*n.width,d/2-.5*n.height);let p=s.getImageData(0,0,d,d);if(l.width=t.width,l.height=t.height,s.putImageData(p,Math.round(0-d/2+.5*n.width-t.x),Math.round(0-d/2+.5*n.height-t.y)),"base64"===a)return l.toDataURL("image/jpeg");return new Promise(e=>{l.toBlob(t=>{e(URL.createObjectURL(t))},"image/jpeg")})}catch(m){throw Error(m)}}var C=a(14030),x=a.n(C);function S(e,t,a,i,r=0){let{width:o,height:n}=W(t.width,t.height,r);return{x:A(e.x,o,a.width,i),y:A(e.y,n,a.height,i)}}function A(e,t,a,i){let r=t*i/2-a/2;return Math.min(r,Math.max(e,-r))}function w(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function k(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function P(e,t){return Math.min(e,Math.max(0,t))}function z(e,t){return t}function M(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function R(e,t,a,i,r){let o=Math.cos,n=Math.sin,l=r*Math.PI/180,s=(e-a)*o(l)-(t-i)*n(l)+a,c=(e-a)*n(l)+(t-i)*o(l)+i;return[s,c]}function W(e,t,a){let i=e/2,r=t/2,o=[R(0,0,i,r,a),R(e,0,i,r,a),R(e,t,i,r,a),R(0,t,i,r,a)],n=Math.min(...o.map(e=>e[0])),l=Math.max(...o.map(e=>e[0])),s=Math.min(...o.map(e=>e[1])),c=Math.max(...o.map(e=>e[1]));return{width:l-n,height:c-s}}function _(...e){return e.filter(e=>"string"==typeof e&&0<e.length).join(" ").trim()}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}class O extends(i=y.Component){componentDidMount(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()}componentWillUnmount(){window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&this.styleRef.remove(),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()}componentDidUpdate(e){var t,a,i,r,o,n,l,s;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(a=this.props.cropSize)||void 0===a?void 0:a.height)||(null===(i=e.cropSize)||void 0===i?void 0:i.width)!==(null===(r=this.props.cropSize)||void 0===r?void 0:r.width)?this.computeSizes():((null===(o=e.crop)||void 0===o?void 0:o.x)!==(null===(n=this.props.crop)||void 0===n?void 0:n.x)||(null===(l=e.crop)||void 0===l?void 0:l.y)!==(null===(s=this.props.crop)||void 0===s?void 0:s.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent())}getAspect(){let{cropSize:e,aspect:t}=this.props;return e?e.width/e.height:t}onPinchStart(e){let t=O.getTouchPoint(e.touches[0]),a=O.getTouchPoint(e.touches[1]);this.lastPinchDistance=w(t,a),this.lastPinchRotation=k(t,a),this.onDragStart(M(t,a))}onPinchMove(e){let t=O.getTouchPoint(e.touches[0]),a=O.getTouchPoint(e.touches[1]),i=M(t,a);this.onDrag(i),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(()=>{let e=w(t,a),r=this.props.zoom*(e/this.lastPinchDistance);this.setNewZoom(r,i),this.lastPinchDistance=e;let o=k(t,a),n=this.props.rotation+(o-this.lastPinchRotation);this.props.onRotationChange&&this.props.onRotationChange(n),this.lastPinchRotation=o})}render(){let{image:e,video:t,mediaProps:a,transform:i,crop:{x:r,y:o},rotation:n,zoom:l,flipHorizontal:s=!1,flipVertical:c=!1,cropShape:d,showGrid:p,style:{containerStyle:m,cropAreaStyle:h,mediaStyle:u},classes:{containerClassName:g,cropAreaClassName:f,mediaClassName:v}}=this.props,E=c?-1:1,b=s?-1:1;return y.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:e=>this.containerRef=e,"data-testid":"container",style:m,className:_("reactEasyCrop_Container",g)},e?y.createElement("img",I({alt:"",className:_("reactEasyCrop_Image",v)},a,{src:e,ref:e=>this.imageRef=e,style:{...u,transform:i||`translate(${r}px, ${o}px) rotate(${n}deg) scale(${l*E}, ${l*b})`},onLoad:this.onMediaLoad})):t&&y.createElement("video",I({autoPlay:!0,loop:!0,muted:!0,className:_("reactEasyCrop_Video",v)},a,{src:t,ref:e=>this.videoRef=e,onLoadedMetadata:this.onMediaLoad,style:{...u,transform:i||`translate(${r}px, ${o}px) rotate(${n}deg) scale(${l*E}, ${l*b})`},controls:!1})),this.state.cropSize&&y.createElement("div",{style:{...h,width:this.state.cropSize.width,height:this.state.cropSize.height},"data-testid":"cropper",className:_("reactEasyCrop_CropArea","round"===d&&"reactEasyCrop_CropAreaRound",p&&"reactEasyCrop_CropAreaGrid",f)}))}constructor(...e){super(...e),this.imageRef=null,this.videoRef=null,this.containerRef=null,this.styleRef=null,this.containerRect=null,this.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},this.dragStartPosition={x:0,y:0},this.dragStartCrop={x:0,y:0},this.lastPinchDistance=0,this.lastPinchRotation=0,this.rafDragTimeout=null,this.rafPinchTimeout=null,this.wheelTimer=null,this.state={cropSize:null,hasWheelJustStarted:!1},this.preventZoomSafari=e=>e.preventDefault(),this.cleanEvents=()=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onDragStopped),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onDragStopped)},this.clearScrollEvent=()=>{this.containerRef&&this.containerRef.removeEventListener("wheel",this.onWheel),this.wheelTimer&&clearTimeout(this.wheelTimer)},this.onMediaLoad=()=>{this.computeSizes(),this.emitCropData(),this.setInitialCrop(),this.props.onMediaLoaded&&this.props.onMediaLoaded(this.mediaSize)},this.setInitialCrop=()=>{let{initialCroppedAreaPixels:e,cropSize:t}=this.props;if(!e)return;let{crop:a,zoom:i}=function(e,t,a){let i=t.width/t.naturalWidth,r=function(e,t,a){let i=t.width/t.naturalWidth;if(a){let r=a.height>a.width;return r?a.height/i/e.height:a.width/i/e.width}let o=e.width/e.height,n=t.naturalWidth>=t.naturalHeight*o;return n?t.naturalHeight/e.height:t.naturalWidth/e.width}(e,t,a),o=i*r,n={x:((t.naturalWidth-e.width)/2-e.x)*o,y:((t.naturalHeight-e.height)/2-e.y)*o};return{crop:n,zoom:r}}(e,this.mediaSize,t);this.props.onCropChange(a),this.props.onZoomChange&&this.props.onZoomChange(i)},this.computeSizes=()=>{let e=this.imageRef||this.videoRef;if(e&&this.containerRef){var t,a,i,r,o,n;this.containerRect=this.containerRef.getBoundingClientRect(),this.mediaSize={width:e.offsetWidth,height:e.offsetHeight,naturalWidth:(null===(t=this.imageRef)||void 0===t?void 0:t.naturalWidth)||(null===(a=this.videoRef)||void 0===a?void 0:a.videoWidth)||0,naturalHeight:(null===(i=this.imageRef)||void 0===i?void 0:i.naturalHeight)||(null===(r=this.videoRef)||void 0===r?void 0:r.videoHeight)||0};let l=this.props.cropSize?this.props.cropSize:function(e,t,a,i,r,o=0){let{width:n,height:l}=W(e,t,o),s=Math.min(n,a),c=Math.min(l,i);return s>c*r?{width:c*r,height:c}:{width:s,height:s/r}}(e.offsetWidth,e.offsetHeight,this.containerRect.width,this.containerRect.height,this.props.aspect,this.props.rotation);((null===(o=this.state.cropSize)||void 0===o?void 0:o.height)!==l.height||(null===(n=this.state.cropSize)||void 0===n?void 0:n.width)!==l.width)&&this.props.onCropSizeChange&&this.props.onCropSizeChange(l),this.setState({cropSize:l},this.recomputeCropPosition)}},this.onMouseDown=e=>{e.preventDefault(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragStopped),this.onDragStart(O.getMousePoint(e))},this.onMouseMove=e=>this.onDrag(O.getMousePoint(e)),this.onTouchStart=e=>{e.preventDefault(),document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onDragStopped),2===e.touches.length?this.onPinchStart(e):1===e.touches.length&&this.onDragStart(O.getTouchPoint(e.touches[0]))},this.onTouchMove=e=>{e.preventDefault(),2===e.touches.length?this.onPinchMove(e):1===e.touches.length&&this.onDrag(O.getTouchPoint(e.touches[0]))},this.onDragStart=({x:e,y:t})=>{var a,i;this.dragStartPosition={x:e,y:t},this.dragStartCrop={...this.props.crop},null===(i=(a=this.props).onInteractionStart)||void 0===i||i.call(a)},this.onDrag=({x:e,y:t})=>{this.rafDragTimeout&&window.cancelAnimationFrame(this.rafDragTimeout),this.rafDragTimeout=window.requestAnimationFrame(()=>{if(!this.state.cropSize||void 0===e||void 0===t)return;let a=e-this.dragStartPosition.x,i=t-this.dragStartPosition.y,r={x:this.dragStartCrop.x+a,y:this.dragStartCrop.y+i},o=this.props.restrictPosition?S(r,this.mediaSize,this.state.cropSize,this.props.zoom,this.props.rotation):r;this.props.onCropChange(o)})},this.onDragStopped=()=>{var e,t;this.cleanEvents(),this.emitCropData(),null===(t=(e=this.props).onInteractionEnd)||void 0===t||t.call(e)},this.onWheel=e=>{e.preventDefault();let t=O.getMousePoint(e),{pixelY:a}=x()(e),i=this.props.zoom-a*this.props.zoomSpeed/200;this.setNewZoom(i,t),this.state.hasWheelJustStarted||this.setState({hasWheelJustStarted:!0},()=>{var e,t;return null===(t=(e=this.props).onInteractionStart)||void 0===t?void 0:t.call(e)}),this.wheelTimer&&clearTimeout(this.wheelTimer),this.wheelTimer=window.setTimeout(()=>this.setState({hasWheelJustStarted:!1},()=>{var e,t;return null===(t=(e=this.props).onInteractionEnd)||void 0===t?void 0:t.call(e)}),250)},this.getPointOnContainer=({x:e,y:t})=>{if(!this.containerRect)throw Error("The Cropper is not mounted");return{x:this.containerRect.width/2-(e-this.containerRect.left),y:this.containerRect.height/2-(t-this.containerRect.top)}},this.getPointOnMedia=({x:e,y:t})=>{let{crop:a,zoom:i}=this.props;return{x:(e+a.x)/i,y:(t+a.y)/i}},this.setNewZoom=(e,t)=>{if(!this.state.cropSize||!this.props.onZoomChange)return;let a=this.getPointOnContainer(t),i=this.getPointOnMedia(a),r=Math.min(this.props.maxZoom,Math.max(e,this.props.minZoom)),o={x:i.x*r-a.x,y:i.y*r-a.y},n=this.props.restrictPosition?S(o,this.mediaSize,this.state.cropSize,r,this.props.rotation):o;this.props.onCropChange(n),this.props.onZoomChange(r)},this.getCropData=()=>{if(!this.state.cropSize)return null;let e=this.props.restrictPosition?S(this.props.crop,this.mediaSize,this.state.cropSize,this.props.zoom,this.props.rotation):this.props.crop;return function(e,t,a,i,r,o=0,n=!0){let l=n&&0===o?P:z,s={x:l(100,((t.width-a.width/r)/2-e.x/r)/t.width*100),y:l(100,((t.height-a.height/r)/2-e.y/r)/t.height*100),width:l(100,a.width/t.width*100/r),height:l(100,a.height/t.height*100/r)},c=Math.round(l(t.naturalWidth,s.width*t.naturalWidth/100)),d=Math.round(l(t.naturalHeight,s.height*t.naturalHeight/100)),p=t.naturalWidth>=t.naturalHeight*i,m=p?{width:Math.round(d*i),height:d}:{width:c,height:Math.round(c/i)},h={...m,x:Math.round(l(t.naturalWidth-m.width,s.x*t.naturalWidth/100)),y:Math.round(l(t.naturalHeight-m.height,s.y*t.naturalHeight/100))};return{croppedAreaPercentages:s,croppedAreaPixels:h}}(e,this.mediaSize,this.state.cropSize,this.getAspect(),this.props.zoom,this.props.rotation,this.props.restrictPosition)},this.emitCropData=()=>{let e=this.getCropData();if(!e)return;let{croppedAreaPercentages:t,croppedAreaPixels:a}=e;this.props.onCropComplete&&this.props.onCropComplete(t,a),this.props.onCropAreaChange&&this.props.onCropAreaChange(t,a)},this.emitCropAreaChange=()=>{let e=this.getCropData();if(!e)return;let{croppedAreaPercentages:t,croppedAreaPixels:a}=e;this.props.onCropAreaChange&&this.props.onCropAreaChange(t,a)},this.recomputeCropPosition=()=>{if(!this.state.cropSize)return;let e=this.props.restrictPosition?S(this.props.crop,this.mediaSize,this.state.cropSize,this.props.zoom,this.props.rotation):this.props.crop;this.props.onCropChange(e),this.emitCropData()}}}O.defaultProps={zoom:1,rotation:0,aspect:4/3,flipVertical:!1,flipHorizontal:!1,maxZoom:3,minZoom:1,cropShape:"rect",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},O.getMousePoint=e=>({x:Number(e.clientX),y:Number(e.clientY)}),O.getTouchPoint=e=>({x:Number(e.clientX),y:Number(e.clientY)});var N=a(16535),L=a(2404),D=a.n(L);let F=(0,N.Ay)((e,t)=>{switch(t.type){case"setCrop":e.crop=t.payload;break;case"setFlipVertical":e.flipVertical=!e.flipVertical;break;case"setFlipHorizontal":e.flipHorizontal=!e.flipHorizontal;break;case"pendingSave":e.isLoading=!0;break;case"fullfilSave":e.isLoading=!1,e.isDirty=!1,e.isSuccess=!0;return;case"rejectSave":e.isLoading=!1;break;case"startParseFile":e.isLoadingParseFile=!0,e.progressParseFile=0;break;case"setProgressParseFile":e.progressParseFile=t.payload;break;case"successParseFile":e.isLoadingParseFile=!1,e.progressParseFile=100;break;case"errorParseFile":e.isLoadingParseFile=!1;break;case"updateFile":e.imageSrc=t.payload,e.imageId=null,e.rotation=Z.rotation,e.crop=Z.crop,e.zoom=Z.zoom;break;case"setFromPhoto":e.imageSrc=t.payload.image.origin,e.imageId=t.payload.id,e.rotation=Z.rotation,e.crop=Z.crop,e.zoom=Z.zoom;break;case"setImgSource":e.imageSrc=t.payload;break;case"setZoom":{let{mode:a,zoom:i}=t.payload;if(i){e.zoom=i;break}let r=0;"minus"===a&&(r=1<e.zoom-.2?e.zoom-.2:1),"plus"===a&&(r=3>e.zoom+.2?e.zoom+.2:3),e.zoom=r;break}case"setCroppedAreaPixels":e.croppedAreaPixels=t.payload;break;case"setRotation":e.rotation=t.payload}let o={crop:e.crop,flipVertical:e.flipVertical,flipHorizontal:e.flipHorizontal,rotation:e.rotation,zoom:e.zoom,imageSrc:e.imageSrc},n={crop:Z.crop,flipVertical:Z.flipVertical,flipHorizontal:Z.flipHorizontal,rotation:Z.rotation,zoom:Z.zoom,imageSrc:Z.imageSrc};e.isDirty=!D()(n,o)});var T=a(56525),j=a(85838);let B=(0,T.A)(e=>(0,j.A)({avatarWrapper:{marginTop:-96,marginRight:e.spacing(3),position:"relative"},userAvatar:{width:168,height:168,border:"4px solid",borderColor:e.palette.background.paper},btnClose:{background:"none",boxShadow:"none",padding:0,fontSize:e.mixins.pxToRem(18),minWidth:"1px",color:`${e.palette.text.secondary} !important`,marginRight:`${e.spacing(-1)} !important`,marginLeft:"auto !important",width:e.spacing(4),height:e.spacing(4),borderRadius:e.spacing(4),"&:hover":{background:e.palette.background.default,color:"#fff"}},btnControl:{background:"none",boxShadow:"none",padding:0,fontSize:e.mixins.pxToRem(18),minWidth:e.spacing(4),color:`${e.palette.text.primary} !important`,width:e.spacing(4),height:e.spacing(4),borderRadius:e.spacing(4),"&:hover":{background:"rgba(5, 5, 5, 0.04)",color:e.palette.text.primary,boxShadow:"none"}},btnEditAvatar:{backgroundColor:e.palette.background.paper,textTransform:"capitalize",position:"absolute",top:e.spacing(1),right:e.spacing(1),minWidth:32,height:32,borderRadius:"100%","&:hover":{backgroundColor:e.palette.background.default}},sliderZoom:{margin:e.spacing(0,2)},iconEdit:{},cropDialog:{"& .MuiDialog-paper":{overflowY:"visible"}},titleDialog:{fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,fontSize:e.mixins.pxToRem(18),padding:e.spacing(2),display:"flex",justifyContent:"space-between",alignItems:"center"},cropContainer:{[e.breakpoints.down("sm")]:{width:"100%"}},cropContent:{position:"relative",height:400,"& .reactEasyCrop_CropArea":{border:"none",color:"rgba(255,255,255,.3)"}},controls:{padding:e.spacing(1),display:"flex"},btnActions:{padding:e.spacing(1),display:"flex",justifyContent:"flex-end","& .Mui-disabled":{..."dark"===e.palette.mode&&{color:`${e.palette.text.hint} !important`}}},btnAction:{margin:`${e.spacing(1)} !important`},btnContainer:{padding:e.spacing(0,1),display:"flex",flexGrow:1,alignItems:"center",maxWidth:500,margin:"auto",justifyContent:"center",marginBottom:e.spacing(2),"& button":{padding:e.spacing(1,2),margin:e.spacing(0,1),whiteSpace:"nowrap",fontWeight:"normal",color:e.palette.text.primary}},sliderContainer:{padding:e.spacing(0,1),display:"flex",flexGrow:1,alignItems:"center",maxWidth:400,margin:"auto"},sliderLabel:{"& + span":{marginLeft:e.spacing(2)}},btnChangePhoto:{position:"relative",overflow:"hidden"},inputFile:{position:"absolute",opacity:0,left:0,top:0,right:0,bottom:0,cursor:"pointer"},cropBackdrop:{top:0,left:0,right:0,bottom:0,display:"flex",overflow:"hidden",position:"absolute",textAlign:"center",alignItems:"center",justifyContent:"center",backgroundColor:e.mixins.backgroundColor("paper")},cropBlurContent:{filter:"blur(10px)",transform:"scale(12)"},blurImage:{width:"100%",height:"100%",objectFit:"cover",border:0}}),{name:"MuiUserAvatarPhoto"});var H=a(48468);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let Z={crop:{x:0,y:0},zoom:1,flipHorizontal:!1,flipVertical:!1,rotation:0,isDirty:!1,isLoading:!1,croppedAreaPixels:null,isSuccess:!1},G=e=>new Promise(t=>{let a=new FileReader;a.addEventListener("load",()=>t(a.result),!1),a.readAsDataURL(e)}),X=({onUpdate:e,item:t,avatar:a})=>{let i=B(),f=(0,u.A)(),E=y.useRef(null),[C,x]=y.useState(null),[S,A]=y.useState(!1),{i18n:w,dispatch:k,dialogBackend:P,useDialog:z,useCheckFileUpload:M,getSetting:R,setNavigationConfirm:W}=(0,r.PCX)(),{dialogProps:_,setUserConfirm:I,closeDialog:N}=z(),L=(0,g.A)(f.breakpoints.down("sm")),D=(0,n.AE)(null==t?void 0:t.avatar),{name:T}=(0,H.o0)()||{},{can_set_profile_avatar:j=!0}=Object.assign({},null==t?void 0:t.extra);a&&(D=(0,n.AE)(a)),Z.imageSrc=D;let[X,V]=(0,y.useReducer)(F,{...Z}),q=R("core.file_mime_type_accepts.image")||["image/*"],U=q.join(),[J]=M({accept:U}),{crop:K,zoom:Y,rotation:Q,flipHorizontal:ee,flipVertical:et,imageSrc:ea,croppedAreaPixels:ei,isLoading:er,isDirty:eo,imageId:en,isSuccess:el,isLoadingParseFile:es,progressParseFile:ec}=X;(0,y.useEffect)(()=>(W&&W(eo),I(eo),()=>{eo&&W&&W(!1)}),[I,eo]),(0,y.useEffect)(()=>{el&&N()},[el,N]);let ed=(e,t)=>{V({type:"setCroppedAreaPixels",payload:t})},ep=()=>{let e=360<=X.rotation+90?0:X.rotation+90;V({type:"setRotation",payload:e})},em=async()=>{V({type:"pendingSave"});try{let i=await b(ea,ei,"base64",Q,et,ee);i&&k({type:"updateProfileUserAvatar",payload:{avatar:C,avatar_crop:i,userId:null==t?void 0:t.id,identity:null==t?void 0:t._identity,image_id:en},meta:{onSuccess(){V({type:"fullfilSave"})},onFailure(){V({type:"rejectSave"})}}}),v()(e)&&e(a)}catch(r){P.alert({title:"Error",message:"Ops! Picture format is not correct."}),V({type:"rejectSave"})}},eh=e=>{let t=Math.round(100*e.loaded/e.total);t>99||V({type:"setProgressParseFile",payload:t})},eu=async e=>{if(e.target.files&&0<e.target.files.length){let a=e.target.files,i=J(a);if(null==i?void 0:i.length){let o=i[0],n=await G(o);["ios","crios"].includes(T)&&(n=await function({url:e,maxWidth:t=2e3,maxHeight:a=2e3}){return new Promise((i,r)=>{let o=document.createElement("canvas"),n=o.getContext("2d"),l=new Image;l.addEventListener("load",()=>{let e=l.width,r=l.height,s=Math.min(t/e,a/r),c=e*s,d=r*s;o.width=c,o.height=d,n.drawImage(l,0,0,c,d),i(o.toDataURL("image/jpeg"))}),l.addEventListener("error",e=>r(e)),l.src=e})}({url:n})),function(e,t){let a=new Image;a.onload=()=>t(!1),a.onerror=()=>t(!0),a.src=e}(n,e=>{e?(V({type:"startParseFile"}),k({type:r.F7S,payload:{item:{source:n,file:o,type:"photo",item_type:null==t?void 0:t.module_name,file_type:"photo",thumbnail_sizes:null==t?void 0:t.avatar_thumbnail_sizes}},meta:{onUploadProgress:eh,onParseFile(e){let{preUploadFile:t,source:a}=e;V({type:"successParseFile"}),x(t),V({type:"updateFile",payload:a}),ev()},onError(){V({type:"errorParseFile"}),(null==E?void 0:E.current)&&(E.current.value=null)}}})):(x(o),V({type:"updateFile",payload:n}),ev())})}}},eg=()=>{E.current.click()},ef=()=>{k({type:"chooseAvatarPhotoDialog",payload:{identity:null==t?void 0:t._identity},meta:{onSuccess(e){V({type:"setFromPhoto",payload:e}),ev()},onFailure:()=>V({type:"failed"})}})},ev=()=>{A(!0)};return y.createElement(l.A,$({},_,{className:i.cropDialog,"aria-labelledby":"dialog-title",maxWidth:"sm",fullWidth:!0,scroll:"body",fullScreen:L}),y.createElement(s.A,{id:"dialog-title"},w.formatMessage({id:"update_your_profile_picture"}),y.createElement(c.A,{size:"small",className:i.btnClose,disabled:er,onClick:N},y.createElement(o.s4,{icon:"ico-close"}))),ea&&S?y.createElement("div",{className:i.cropContainer},y.createElement("div",{className:i.cropContainer},y.createElement("div",{className:i.cropContent},y.createElement("div",{className:i.cropBackdrop},y.createElement("div",{className:i.cropBlurContent},y.createElement("img",{crossOrigin:"anonymous",src:ea,alt:"",className:i.blurImage}))),y.createElement(O,{key:ea,image:ea,crop:K,zoom:Y,aspect:1,flipHorizontal:ee,flipVertical:et,onCropChange:e=>V({type:"setCrop",payload:e}),onCropComplete:ed,onZoomChange:e=>V({type:"setZoom",payload:{zoom:e}}),rotation:Q,showGrid:!1,cropShape:"round"})),!(0,n.rI)(ea)&&y.createElement(y.Fragment,null,y.createElement("div",{className:i.controls},y.createElement("div",{className:i.sliderContainer},y.createElement(d.A,{variant:"text",className:i.btnControl,onClick:()=>V({type:"setZoom",payload:{mode:"minus"}})},y.createElement(o.s4,{icon:"ico-minus"})),y.createElement(h.Ay,{className:i.sliderZoom,value:Y,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:(e,t)=>V({type:"setZoom",payload:{zoom:t}})}),y.createElement(d.A,{variant:"text",className:i.btnControl,onClick:()=>V({type:"setZoom",payload:{mode:"plus"}})},y.createElement(o.s4,{icon:"ico-plus"})))),y.createElement("div",{className:i.btnContainer},y.createElement(d.A,{startIcon:y.createElement(o.s4,{icon:"ico-rotate-right-alt"}),onClick:ep},w.formatMessage({id:"rotate"})),y.createElement(d.A,{startIcon:y.createElement(o.s4,{icon:"ico-flip-v"}),onClick:()=>V({type:"setFlipVertical"})},w.formatMessage({id:"flip_vertical"})),y.createElement(d.A,{startIcon:y.createElement(o.s4,{icon:"ico-flip-h"}),onClick:()=>V({type:"setFlipHorizontal"})},w.formatMessage({id:"flip_horizontal"})))),y.createElement("div",{className:i.btnActions},y.createElement("div",{className:i.btnChangePhoto},y.createElement(d.A,{variant:"outlined",disabled:er,className:i.btnAction,size:"small",onClick:()=>A(!1)},w.formatMessage({id:"back"}))),y.createElement(d.A,{variant:"contained",className:i.btnAction,disabled:!eo,onClick:em,size:"small"},er?y.createElement(p.A,{color:"inherit",size:"1rem"}):w.formatMessage({id:"save"}))))):y.createElement(m.A,{sx:{p:2}},es?y.createElement(m.A,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"dark"===f.palette.mode?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)",zIndex:5,display:"flex",alignItems:"center",justifyContent:"center"}},y.createElement(p.A,{sx:{width:"56px !important",height:"56px !important"},variant:"determinate",value:ec})):null,y.createElement("input",{type:"file",onChange:eu,accept:U,className:i.inputFile,ref:E,style:{display:"none"}}),y.createElement(m.A,{sx:{display:"flex",flexDirection:"column","& button":{margin:"0 0 8px 0 !important","&:last-child":{marginBottom:"0 !important"}}}},y.createElement(d.A,{variant:"contained",disabled:er,className:i.btnAction,size:"small",onClick:eg,startIcon:y.createElement(o.s4,{icon:"ico-upload"})},w.formatMessage({id:"upload_photo"})),j?y.createElement(d.A,{variant:"outlined",disabled:er,className:i.btnAction,size:"small",onClick:ef,startIcon:y.createElement(o.s4,{icon:"ico-photo"})},w.formatMessage({id:"choose_from_photos"})):null,ea?y.createElement(d.A,{variant:"outlined",disabled:er,className:i.btnAction,size:"small",onClick:ev,startIcon:y.createElement(o.s4,{icon:"ico-pencil"})},w.formatMessage({id:"edit_avatar"})):null)))},V=X},58614(e,t,a){a.r(t),a.d(t,{default:()=>s});var i=a(73349),r=a(91557),o=a(60780),n=a(96540);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s(){let{useDialog:e}=(0,r.PCX)(),{pathname:t}=(0,r.zy2)(),{dialogProps:a,setDialogValue:s}=e(),c=({payload:e,type:t="@core/codeGenerate/make",children:a})=>n.createElement(o.A,{onClick:()=>s({type:t,payload:e})},a);return n.createElement(i.lG,l({},a,{maxWidth:"xs",fullWidth:!0}),n.createElement(i.L3,null,"Code Generator"),n.createElement(i.Cf,null,n.createElement(c,{payload:"package"},"New App"),n.createElement(c,{payload:"migration"},"Migration"),n.createElement(c,{payload:"model"},"Model"),n.createElement(c,{payload:"web-api"},"Web API"),n.createElement(c,{payload:"admin-api"},"Admin API"),n.createElement(c,{payload:"form"},"Forms"),n.createElement(c,{payload:"request"},"Request"),n.createElement(c,{payload:"category"},"Category"),n.createElement(c,{payload:"data-grid"},"DataGrid"),n.createElement(c,{payload:"listener"},"Listener"),n.createElement(c,{payload:"notification"},"Notification"),n.createElement(c,{payload:"job"},"Job"),n.createElement(c,{payload:"mail"},"Mail"),n.createElement(c,{payload:"export"},"Export"),n.createElement(c,{payload:"inspect"},"Inspect"),n.createElement(c,{payload:"importer"},"Importer"),n.createElement(o.A,{onClick:()=>s({type:"@core/codeGenerate/editCurrentSeo",payload:{url:t.replace(/^\/|\/$/g,"")}})},"Edit Meta"),n.createElement(o.A,{onClick:()=>s({type:"@core/codeGenerate/ideFix"})},"IDE Fix")))}},96021(e,t,a){a.r(t),a.d(t,{default:()=>y});var i=a(91557),r=a(73349),o=a(24721),n=a(26433),l=a(41119),s=a(43791),c=a(60780),d=a(86139),p=a.n(d),m=a(85015),h=a.n(m),u=a(96540),g=a(90243),f=a(44371);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function y({title:e,message:t,positiveButton:a,maxWidth:d="sm",disableClose:m=!1,onClose:y}){let{useDialog:E,i18n:b}=(0,i.PCX)(),{setDialogValue:C,disableBackdropClick:x,dialogProps:S,closeDialog:A}=E(),w=()=>C(!0),k=()=>{A(),y&&y()};u.useEffect(()=>{x(!0)},[]);let{label:P,...z}=p()({label:b.formatMessage({id:"ok"}),color:"primary"},a);return e=null!=e?e:b.formatMessage({id:"alert"}),u.createElement(o.A,v({},S,{fullScreen:!1,"data-testid":"popupAlert",role:"alertdialog",maxWidth:d,fullWidth:!0,"aria-modal":!0,disableEscapeKeyDown:!0,variant:"alert"}),u.createElement(r.L3,{children:null!=e?e:"Alert",disableClose:m,onCancel:k}),u.createElement(n.A,{dividers:!1},h()(t)?u.createElement(l.A,{id:"dialogDescription","data-testid":"popupMessage",paragraph:!1},u.createElement(f.np,{mt:0},u.createElement(g.Ay,{html:t}))):t),u.createElement(s.A,null,u.createElement(c.A,v({"data-testid":"buttonSubmit",role:"button",id:"buttonSubmit",autoFocus:!0,color:"primary",size:"medium",variant:"contained",onClick:w,sx:{minWidth:120},disableRipple:!0},z),P)))}},71305(e,t,a){a.r(t),a.d(t,{default:()=>v});var i=a(91557),r=a(73349),o=a(3556),n=a(8051),l=a(96540),s=a(44371),c=a(42335),d=a(10597),p=a(29349),m=a(771);let h=(0,o.Ay)(c.Ay,{name:"AlertReminderListItem",slot:"Item",shouldForwardProp:e=>"isRead"!==e})(({theme:e,isRead:t})=>({backgroundColor:t?(0,m.X4)(e.palette.background.default,.5):(0,m.X4)(e.palette.primary.light,.1),"&:not(:last-of-type)":{borderBottom:e.mixins.border("secondary")}}));function u({item:e,presentAlert:t}){let{title:a,extra:i}=e,{can_close:r}=i||{},[o,n]=l.useState(!1),c=()=>{n(!0),t&&t(e)};return l.createElement(h,{sx:{cursor:"pointer"},onClick:c,isRead:o},l.createElement(d.A,null,l.createElement(s.s4,{icon:r?"ico-info-circle-o":"ico-warning-o"})),l.createElement(p.A,{primary:a}))}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let f=(0,o.Ay)(n.A,{name:"AlertReminderList",slot:"Content"})(({theme:e})=>({display:"block"}));function v({title:e,data:t,presentAlert:a,disableCloseAll:o,handleDismissAll:n}){let{useDialog:s,i18n:c}=(0,i.PCX)(),{dialogProps:d,disableBackdropClick:p,closeDialog:m}=s(),h=()=>{m(),n()};return(l.useEffect(()=>{p(!0)},[]),null==t?void 0:t.length)?l.createElement(r.lG,g({},d,{maxWidth:"sm",fullWidth:!0,fullScreen:!1,"data-testid":"dialogAlertReminderList"}),l.createElement(r.L3,{disableClose:o,onCancel:h},c.formatMessage({id:e||"notifications"})),l.createElement(r.Cf,{sx:{padding:0}},l.createElement(f,null,t.map(e=>l.createElement(u,{key:null==e?void 0:e.id,presentAlert:a,item:e}))))):null}},65510(e,t,a){a.r(t),a.d(t,{default:()=>s});var i=a(91557),r=a(73349),o=a(72871),n=a(96540);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s({title:e="Edit",maxWidth:t="sm",fullWidth:a=!0,...s}){let{useDialog:c}=(0,i.PCX)(),d=c(),{dialogProps:p}=d;return n.createElement(r.lG,l({},p,{maxWidth:t,fullWidth:a,"data-testid":"multiStepFormDialog"}),n.createElement(o.FF,l({dialog:!0,dialogTitle:e,dialogItem:d},s)))}},83808(e,t,a){a.r(t),a.d(t,{default:()=>k});var i=a(91557),r=a(73349),o=a(44371),n=a(86139),l=a.n(n),s=a(96540),c=a(85838),d=a(40244),p=a(32485),m=a.n(p);let h=e=>{var t;return(0,c.A)({root:{borderBottom:"1px solid",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,padding:e.spacing(2),display:"flex",alignItems:"flex-start","&:hover":{backgroundColor:e.palette.action.hover}},info:{display:"flex",flexDirection:"column"},title:{flex:1,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary},icon:{fontSize:e.mixins.pxToRem(18),marginRight:e.spacing(2),marginTop:e.spacing(.5),color:e.palette.text.secondary},address:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,marginRight:e.spacing(2)},media:{},active:{color:e.palette.primary.main,"& $icon":{color:e.palette.primary.main}}})},u=(0,d.A)(h)(function({name:e,address:t,classes:a,active:i,onClick:r}){return s.createElement("div",{role:"button","aria-label":"select place","data-testid":"suggestion",className:m()([a.root,i&&a.active]),onClick:r},s.createElement(o.s4,{icon:"ico-checkin-o",className:a.icon}),s.createElement("div",{className:a.info},s.createElement("span",{className:m()([a.title,i&&a.active])},e),t?s.createElement("div",{className:m()([a.address,i&&a.active]),children:t}):null))});var g=a(56525);let f=(0,g.A)(e=>(0,c.A)({dialog:{},dialogContent:{height:370,padding:`${e.spacing(0,0,2,0)} !important`},inputStage:{padding:e.spacing(2)},btnCancel:{minWidth:e.spacing(3),padding:0,marginRight:e.spacing(1),color:e.palette.text.secondary},searchIcon:{color:e.palette.text.secondary},dialogTitle:{},dialogContentTitle:{color:e.palette.text.secondary,padding:e.spacing(.5,0,.5,2)},mapStage:{}}));var v=a(8051),y=a(89481),E=a(84680),b=a(84022),C=a(38221),x=a.n(C);let S=(e,t,a=6)=>{var i,r,o,n;if(!e||!t)return!1;let l=parseFloat(null==e?void 0:null===(i=e.lat)||void 0===i?void 0:i.toFixed(a)),s=parseFloat(null==e?void 0:null===(r=e.lng)||void 0===r?void 0:r.toFixed(a)),c=parseFloat(null==t?void 0:null===(o=t.lat)||void 0===o?void 0:o.toFixed(a)),d=parseFloat(null==t?void 0:null===(n=t.lng)||void 0===n?void 0:n.toFixed(a));return l===c&&s===d};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let w=(e,t)=>e?(null==e?void 0:e.name)&&(null==e?void 0:e.address)&&e.name!==e.address?e:l()({},e,t):{},k=function({defaultValue:e}){let t=f(),{useDialog:a,i18n:n}=(0,i.PCX)(),{dialogProps:l,setDialogValue:c}=a(),d=n.formatMessage({id:"search_for_location"}),p=n.formatMessage({id:"search_dots"}),m=s.useRef(),[h,g,C,k,{loading:P}]=function(e,t,a={}){let r=(0,i.T6y)(),o="ready"===r,[n,l]=s.useState([]),[c,d]=s.useState({loading:!0,error:!1}),[p,m]=s.useState(),[h,u]=s.useState(""),g=s.useRef(),f=s.useRef(),v=s.useRef(),y=(0,b.A)(),E=s.useRef(null),C=s.useRef(),S=({lat:a,lng:i})=>{if(g.current=new google.maps.Map(e.current,{zoom:15,center:{lat:a,lng:i},backgroundColor:y.palette.background.default}),f.current=new google.maps.places.PlacesService(g.current),C.current=a&&i?new google.maps.LatLng(a,i):void 0,v.current=new google.maps.Geocoder,!(null==t?void 0:t.full_address)&&((null==t?void 0:t.address)||t.name))try{let r={lat:parseFloat(a),lng:parseFloat(i)};k({location:r},e=>{if(e[0]){var a;m({name:(null==t?void 0:t.address)||t.name,full_address:null===(a=e[0])||void 0===a?void 0:a.formatted_address})}})}catch(o){}A()},A=()=>{if(C.current){f.current.nearbySearch({location:C.current,radius:50,...a},(e,t)=>{"OK"===t&&E.current&&l(e.filter(e=>e.formatted_address||e.vicinity).map(e=>({icon:e.icon,name:e.name,full_address:e.formatted_address||e.vicinity||"",lat:e.lat||e.geometry.location.lat(),lng:e.lng||e.geometry.location.lng()}))),d(e=>({...e,loading:!1}))});return}d(e=>({...e,loading:!1}))},w=s.useCallback(()=>{e.current&&!f.current&&o&&(d(e=>({...e,loading:!0})),navigator.geolocation.getCurrentPosition(e=>{S({lat:(null==t?void 0:t.lat)||e.coords.latitude,lng:(null==t?void 0:t.lng)||e.coords.longitude})},()=>{S({lat:(null==t?void 0:t.lat)||0,lng:(null==t?void 0:t.lng)||0})}))},[e,o]),k=s.useCallback((e,t)=>{f.current&&v.current&&v.current.geocode(e,(e,a)=>{"OK"===a&&E.current&&t(e)})},[]),P=s.useMemo(()=>x()(function(e){if(f.current){if(!(null==e?void 0:e.query)){A();return}d(e=>({...e,loading:!0})),f.current.textSearch({location:C.current,...e},(e,t)=>{"OK"===t&&E.current?l(e.map(e=>({icon:e.icon,name:e.name,full_address:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}))):d(t=>({...t,extra:e})),d(e=>({...e,loading:!1}))})}},200),[]);(0,s.useEffect)(()=>(E.current=!0,()=>{E.current=!1}),[]),s.useEffect(()=>{setImmediate(()=>w())},[o]);let z=s.useCallback((e,t={})=>{u(e),P({query:e,...a,...t})},[a,P]);return[n,h,z,p,c]}(m,{...e}),z=w(e,k),M=s.useCallback(e=>C(e),[C]),R=e=>{c({...e,query:g,show_map:!0})},W=()=>{c(!1)};return s.createElement(r.lG,A({className:t.dialog,maxWidth:"sm",fullWidth:!0,"data-testid":"dialogLocationPicker"},l),s.createElement(r.L3,{"data-testid":"popupTitle",enableBack:!0,disableClose:!0},d),s.createElement("div",{className:t.inputStage},s.createElement(o.rq,{autoFocus:!0,"data-testid":"searchBox",placeholder:p,onChanged:M})),s.createElement(r.Cf,{className:t.dialogContent},s.createElement(E.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"100%"},s.createElement("div",{className:t.dialogContentTitle},n.formatMessage({id:"base_on_your_location"})),s.createElement("div",{className:t.mapStage,ref:m}),(null==z?void 0:z.full_address)&&!g&&s.createElement(u,{active:!0,name:z.name||z.address,address:z.full_address,onClick:W}),P?s.createElement(v.A,{p:2,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},s.createElement(y.A,{size:24})):s.createElement(v.A,null,!!(null==h?void 0:h.length)&&h.map((e,t)=>{var a;return S(e,z)||S(e,z,1)&&e.name===z.name&&(null===(a=z.address)||void 0===a?void 0:a.includes(e.address))?null:s.createElement(u,{name:e.name,address:e.full_address||e.address,key:t.toString(),onClick:()=>R(e)})})))))}},60968(e,t,a){a.r(t),a.d(t,{default:()=>s});var i=a(91557),r=a(73349),o=a(72871),n=a(96540);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function s({title:e="Edit",maxWidth:t="sm",fullWidth:a=!0,dialogProps:s={},...c}){let{useDialog:d}=(0,i.PCX)(),p=d(),{dialogProps:m}=p;return n.createElement(r.lG,l({},m,{maxWidth:t,fullWidth:a,"data-testid":"editPopup"},s),n.createElement(o.FF,l({dialog:!0,dialogTitle:e,dialogItem:p},c)))}},40982(e,t,a){a.r(t),a.d(t,{default:()=>f});var i=a(91557),r=a(73349),o=a(44371),n=a(3556),l=a(95223),s=a(20053),c=a(96540),d=a(56525),p=a(85838);let m=(0,d.A)(e=>(0,p.A)({root:{display:"flex",position:"relative"},titleDialog:{display:"flex",alignItems:"center"},closeDialog:{color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(13),marginLeft:"auto",cursor:"pointer"},searchFocused:{border:e.mixins.border("primary"),background:"none"},searchIcon:{top:0,width:e.mixins.pxToRem(32),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",transition:"all .2s ease",cursor:"pointer"},searchIconFocused:{color:e.palette.primary.main},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,2,1,0),boxSizing:"border-box",paddingLeft:"30px !important",transition:"all .2s ease",width:"100%",height:e.mixins.pxToRem(32)}}),{name:"SearchInModule"});var h=a(86663);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let g=(0,n.Ay)(l.Ay)(({theme:e})=>({"& input":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));function f({title:e,placeholder:t,item:a,params:n}){let{useDialog:l,navigate:d}=(0,i.PCX)(),{dialogProps:p,closeDialog:f}=l(),v=m(),[y,E]=(0,c.useState)(!1),[b,C]=(0,c.useState)(""),x=()=>{E(!0)},S=()=>{E(!1)},A=e=>{let{value:t}=e.target;C(t)},w=e=>{let t=null==e?void 0:e.keyCode;13===t&&(e.preventDefault(),k())},k=()=>{let e=b.trim();if(!e)return;let{id:t,module_name:i}=a;d({pathname:`/${i}/search/${t}`,search:h.stringify({q:e,...n})}),f()};return c.createElement(r.lG,u({},p,{maxWidth:"sm",fullWidth:!0,fullScreen:!1,"data-testid":"dialogSearchInApp"}),c.createElement(r.L3,null,c.createElement("div",{className:v.titleDialog},e)),c.createElement(r.Cf,{className:v.root},c.createElement("div",{className:(0,s.default)(v.searchIcon,y&&v.searchIconFocused)},c.createElement(o.s4,{icon:"ico-search-o"})),c.createElement(g,{placeholder:t,classes:{root:v.inputRoot,input:v.inputInput},value:b,name:"searchBox",autoComplete:"off",autoCapitalize:"off",inputProps:{"aria-label":"search","data-testid":"search_box_in_module"},onFocus:x,onChange:A,onKeyDown:w,onBlur:S})))}}}]);