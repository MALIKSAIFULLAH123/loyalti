"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-layout-LayoutSlot-SlotWithEditingLayout"],{3997(e,t,o){o.d(t,{A:()=>$});var r=o(98587),i=o(58168),a=o(96540),n=o(20053),l=o(75659),d=o(24279),s=o(75630),u=o(3556),p=o(92353),c=o(38413),m=o(31609);function g(e){return(0,m.A)("MuiButtonGroup",e)}let v=(0,c.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var h=o(83804),f=o(74848);let x=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],y=(e,t)=>{let{ownerState:o}=e;return[{[`& .${v.grouped}`]:t.grouped},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}${(0,s.A)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}${(0,s.A)(o.color)}`]},t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]},b=e=>{let{classes:t,color:o,disabled:r,disableElevation:i,fullWidth:a,orientation:n,variant:d}=e,u={root:["root",d,"vertical"===n&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${(0,s.A)(n)}`,`grouped${(0,s.A)(d)}`,`grouped${(0,s.A)(d)}${(0,s.A)(n)}`,`grouped${(0,s.A)(d)}${(0,s.A)(o)}`,r&&"disabled"]};return(0,l.A)(u,g,t)},A=(0,u.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:y})(({theme:e,ownerState:t})=>(0,i.A)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${v.grouped}`]:(0,i.A)({minWidth:40,"&:not(:first-of-type)":(0,i.A)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,i.A)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:(0,d.X4)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${v.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${v.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":(0,i.A)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,i.A)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"})})),R=a.forwardRef(function(e,t){let o=(0,p.A)({props:e,name:"MuiButtonGroup"}),{children:l,className:d,color:s="primary",component:u="div",disabled:c=!1,disableElevation:m=!1,disableFocusRipple:g=!1,disableRipple:v=!1,fullWidth:y=!1,orientation:R="horizontal",size:$="medium",variant:C="outlined"}=o,S=(0,r.A)(o,x),W=(0,i.A)({},o,{color:s,component:u,disabled:c,disableElevation:m,disableFocusRipple:g,disableRipple:v,fullWidth:y,orientation:R,size:$,variant:C}),E=b(W),B=a.useMemo(()=>({className:E.grouped,color:s,disabled:c,disableElevation:m,disableFocusRipple:g,disableRipple:v,fullWidth:y,size:$,variant:C}),[s,c,m,g,v,y,$,C,E.grouped]);return(0,f.jsx)(A,(0,i.A)({as:u,role:"group",className:(0,n.default)(E.root,d),ref:t,ownerState:W},S,{children:(0,f.jsx)(h.A.Provider,{value:B,children:l})}))}),$=R},48441(e,t,o){o.d(t,{A:()=>n});var r=o(8051),i=o(87773),a=o(96540);function n({slotName:e,children:t}){return a.createElement(r.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},a.createElement(i.A,{component:"span",variant:"body1"},e),t)}},63262(e,t,o){o.r(t),o.d(t,{default:()=>R});var r=o(91557),i=o(44371),a=o(3997),n=o(60780),l=o(65467),d=o(77299),s=o(8051),u=o(3556),p=o(84058),c=o.n(p),m=o(96540),g=o(5079),v=o(25044),h=o(1472),f=o(48441),x=o(49531);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let b=(0,u.Ay)("div")(({theme:e})=>({textAlign:"right",padding:e.spacing(1),"&:hover":{opacity:1}})),A=e=>{let{dispatch:t,i18n:o}=(0,r.PCX)(),d=o=>t({type:o,payload:e});return m.createElement(b,null,m.createElement(a.A,{size:"small",color:"primary"},m.createElement(n.A,{onClick:()=>d("@layout/editSlot")},m.createElement(l.A,{enterDelay:0,title:o.formatMessage({id:"edit_layout_slot"})},m.createElement(i.s4,{icon:"ico-pencilline-o"}))),m.createElement(n.A,{onClick:()=>d("@layout/deleteSlot")},m.createElement(l.A,{title:o.formatMessage({id:"delete_layout_slot"})},m.createElement(i.s4,{icon:"ico-trash-o"})))))};function R({elementPath:e,templateName:t,slotName:o,flexWeight:i,xs:a,rootStyle:n,stageStyle:l,contentStyle:u,elements:p}){let b=m.useRef(),{pageSize:R,pageName:$,blocks:C}=(0,h.A)(),{jsxBackend:S,layoutBackend:W}=(0,r.PCX)(),E=C.filter(e=>e.slotName===o),B=E.length,[,w]=(0,g.H)({accept:v.X,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()}),canDrop:()=>!0,drop(e,r){if(r.didDrop())return;let i=function(e,t,o){if(!t)return 0;let r=o?e.height/o:-1;return Math.floor((t.y-e.y)/r)}(b.current.getBoundingClientRect(),r.getClientOffset(),B),a={blockId:e.blockId,order:i,slotName:o,templateName:t,pageSize:R,pageName:$};return W.updateBlockPosition(a),a}}),k="0"<i||!a;return m.createElement(x.DX,y({name:o,item:!0,useFlex:k,flexWeight:i,xs:k?void 0:a,ref:w,"data-testid":c()(`LayoutSlot_${o}`)},n),m.createElement(x.v5,y({name:o,controller:!0},l),m.createElement(f.A,{slotName:o},m.createElement(A,{elementPath:e,pageName:$,templateName:t,slotName:o,pageSize:R})),m.createElement(x.QS,y({name:o,ref:b},u),(null==p?void 0:p.length)?m.createElement(d.Ay,{container:!0},S.render(p)):null,m.createElement(s.A,null,S.render(E)))))}},49531(e,t,o){o.d(t,{DX:()=>d,QG:()=>c,QS:()=>u,Re:()=>p,c8:()=>g,uW:()=>m,v5:()=>s});var r=o(77299),i=o(8051),a=o(3556),n=o(38860);let l="LayoutSlot",d=(0,a.Ay)(r.Ay,{name:l,slot:"root",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"flexWeight"!==e&&"name"!==e&&"useFlex"!==e,overridesResolver:(e,t)=>[t.content,t[(0,n.L4)("root",e.name)]]})(({theme:e,maxWidth:t,minWidth:o,minHeight:r,flexWeight:i,useFlex:a})=>({display:"block",flexBasis:"100%",position:"relative",..."screen"===r&&{minHeight:"100vh"},...r&&"screen"!==r&&{minHeight:r},...t&&{maxWidth:`${e.layoutSlot.points[t]}px !important`},...o&&{minWidth:`${e.layoutSlot.points[o]}px !important`},...a&&{flex:null!=i?i:1,minWidth:0}})),s=(0,a.Ay)(i.A,{name:l,slot:"stage",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"controller"!==e&&"sticky"!==e&&"name"!==e&&"liveEdit"!==e,overridesResolver:(e,t)=>[t.stage,t[(0,n.L4)("stage",e.name)]]})(({theme:e,minHeight:t,fixed:o,maxWidth:r,minWidth:i,liveEdit:a,controller:n,sticky:l})=>({display:"block",flexBasis:"100%",...o&&{position:"fixed"},..."screen"===t&&{minHeight:"100vh"},...r&&{maxWidth:e.layoutSlot.points[r]},...i&&{maxWidth:e.layoutSlot.points[i]},...a&&{position:"relative",minHeight:e.spacing(6)},...n&&{position:"relative",marginBottom:e.spacing(1),padding:e.spacing(1),minHeight:e.spacing(8),borderColor:e.palette.text.primary,borderStyle:"dotted",borderWidth:1},..."static"===l&&{position:"sticky",top:0},..."dynamic"===l&&{position:"sticky"}}));(0,a.Ay)(i.A,{name:l,slot:"preview",shouldForwardProp:e=>"name"!==e})(({name:e,theme:t})=>({fontSize:"0.8125rem",fontWeight:t.typography.fontWeightMedium,height:80,textTransform:"lowercase",alignItems:"center",justifyContent:"center",display:"flex"}));let u=(0,a.Ay)(i.A,{name:l,slot:"Content",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"name"!==e&&"fixed"!==e,overridesResolver:(e,t)=>[t.content,t[(0,n.L4)("content",e.name)]]})(({theme:e,minHeight:t,maxWidth:o,minWidth:r})=>({display:"block",flexBasis:"100%",marginLeft:"auto",marginRight:"auto",..."screen"===t&&{minHeight:"100vh"},...o&&{maxWidth:e.layoutSlot.points[o]},...r&&{maxWidth:e.layoutSlot.points[r]}})),p=(0,a.Ay)("div",{name:l,slot:"fixedStage",overridesResolver:(e,t)=>[t.fixedStage]})({display:"flex",height:"100%",flexDirection:"column"}),c=(0,a.Ay)("div",{name:l,slot:"fixedContent",overridesResolver:(e,t)=>[t.fixedContent]})({flex:1,minHeight:0}),m=(0,a.Ay)("div",{name:l,slot:"fixedHeader",overridesResolver:(e,t)=>[t.fixedHeader]})({}),g=(0,a.Ay)("div",{name:l,slot:"fixedFooter",overridesResolver:(e,t)=>[t.fixedFooter]})({})}}]);