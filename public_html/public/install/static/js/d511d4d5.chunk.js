"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["colorPicker"],{57315(e,t,r){r.d(t,{A:()=>C});var n,a=r(98587),o=r(58168),l=r(96540),i=r(20053),u=r(75659),c=r(75630),s=r(87773),f=r(54364),d=r(37808),v=r(3556),h=r(38413),p=r(31609);function m(e){return(0,p.A)("MuiInputAdornment",e)}let g=(0,h.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=r(92353),_=r(74848);let E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],x=(e,t)=>{let{ownerState:r}=e;return[t.root,t[`position${(0,c.A)(r.position)}`],!0===r.disablePointerEvents&&t.disablePointerEvents,t[r.variant]]},A=e=>{let{classes:t,disablePointerEvents:r,hiddenLabel:n,position:a,size:o,variant:l}=e,i={root:["root",r&&"disablePointerEvents",a&&`position${(0,c.A)(a)}`,l,n&&"hiddenLabel",o&&`size${(0,c.A)(o)}`]};return(0,u.A)(i,m,t)},w=(0,v.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:x})(({theme:e,ownerState:t})=>(0,o.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${g.positionStart}&:not(.${g.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),y=l.forwardRef(function(e,t){let r=(0,b.A)({props:e,name:"MuiInputAdornment"}),{children:u,className:c,component:v="div",disablePointerEvents:h=!1,disableTypography:p=!1,position:m,variant:g}=r,x=(0,a.A)(r,E),y=(0,d.A)()||{},C=g;g&&y.variant,y&&!C&&(C=y.variant);let M=(0,o.A)({},r,{hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:h,position:m,variant:C}),k=A(M);return(0,_.jsx)(f.A.Provider,{value:null,children:(0,_.jsx)(w,(0,o.A)({as:v,ownerState:M,className:(0,i.default)(k.root,c),ref:t},x,{children:"string"!=typeof u||p?(0,_.jsxs)(l.Fragment,{children:["start"===m?n||(n=(0,_.jsx)("span",{className:"notranslate",children:"â€‹"})):null,u]}):(0,_.jsx)(s.A,{color:"text.secondary",children:u})}))})}),C=y},19341(e,t,r){r.r(t),r.d(t,{default:()=>eo});var n=r(3556),a=r(8051),o=r(20687),l=r(54358),i=r(57315),u=r(63009),c=r(771),s=r(30261),f=r(84058),d=r.n(f),v=r(69843),h=r.n(v),p=r(85015),m=r.n(p),g=r(96540),b=r(19471),_=r(38581);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}function A(e){var t=(0,g.useRef)(e),r=(0,g.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var w,y=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},C=function(e){return"touches"in e},M=function(e){return e&&e.ownerDocument.defaultView||self},k=function(e,t,r){var n=e.getBoundingClientRect(),a=C(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:y((a.pageX-(n.left+M(e).pageXOffset))/n.width),top:y((a.pageY-(n.top+M(e).pageYOffset))/n.height)}},N=function(e){C(e)||e.preventDefault()},I=g.memo(function(e){var t=e.onMove,r=e.onKey,n=x(e,["onMove","onKey"]),a=(0,g.useRef)(null),o=A(t),l=A(r),i=(0,g.useRef)(null),u=(0,g.useRef)(!1),c=(0,g.useMemo)(function(){var e=function(e){N(e),(C(e)?e.touches.length>0:e.buttons>0)&&a.current?o(k(a.current,e,i.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=u.current,o=M(a.current),l=r?o.addEventListener:o.removeEventListener;l(n?"touchmove":"mousemove",e),l(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=a.current;if(n&&(N(t),(!u.current||C(t))&&n)){if(C(t)){u.current=!0;var l=t.changedTouches||[];l.length&&(i.current=l[0].identifier)}n.focus(),o(k(n,t,i.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),l({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[l,o]),s=c[0],f=c[1],d=c[2];return(0,g.useEffect)(function(){return d},[d]),g.createElement("div",E({},n,{onTouchStart:s,onMouseDown:s,className:"react-colorful__interactive",ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))}),O=function(e){return e.filter(Boolean).join(" ")},P=function(e){var t=e.color,r=e.left,n=e.top,a=O(["react-colorful__pointer",e.className]);return g.createElement("div",{className:a,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},g.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},S=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},j={grad:.9,turn:360,rad:360/(2*Math.PI)},z=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?S(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?S(parseInt(e.substring(6,8),16)/255,2):1}},L=function(e,t){return void 0===t&&(t="deg"),Number(e)*(j[t]||1)},R=function(e){var t=e.s,r=e.l;return{h:e.h,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}},$=function(e){var t=e.s,r=e.v,n=e.a,a=(200-t)*r/100;return{h:S(e.h),s:S(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:S(a/2),a:S(n,2)}},H=function(e){var t=$(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},T=function(e){var t=$(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},B=function(e){var t=e.h,r=e.s,n=e.v,a=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),l=n*(1-r),i=n*(1-(t-o)*r),u=n*(1-(1-t+o)*r),c=o%6;return{r:S(255*[n,i,l,l,u,n][c]),g:S(255*[u,n,n,i,l,l][c]),b:S(255*[l,l,u,n,n,i][c]),a:S(a,2)}},F=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},D=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=a<1?F(S(255*a)):"";return"#"+F(t)+F(r)+F(n)+o},K=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=Math.max(t,r,n),l=o-Math.min(t,r,n),i=l?o===t?(r-n)/l:o===r?2+(n-t)/l:4+(t-r)/l:0;return{h:S(60*(i<0?i+6:i)),s:S(o?l/o*100:0),v:S(o/255*100),a:a}},q=function(e){return{h:S(e.h),s:S(e.s),v:S(e.v),a:S(e.a,2)}},V=g.memo(function(e){var t=e.hue,r=e.onChange,n=O(["react-colorful__hue",e.className]);return g.createElement("div",{className:n},g.createElement(I,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:y(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":S(t),"aria-valuemax":"360","aria-valuemin":"0"},g.createElement(P,{className:"react-colorful__hue-pointer",left:t/360,color:H({h:t,s:100,v:100,a:1})})))}),X=g.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:H({h:t.h,s:100,v:100,a:1})};return g.createElement("div",{className:"react-colorful__saturation",style:n},g.createElement(I,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:y(t.s+100*e.left,0,100),v:y(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+S(t.s)+"%, Brightness "+S(t.v)+"%"},g.createElement(P,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:H(t)})))}),W=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},Y="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,G=new Map,J=function(e){Y(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!G.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',G.set(t,n);var a=w||r.nc;a&&n.setAttribute("nonce",a),t.head.appendChild(n)}},[])},Q=function(e){var t=e.className,r=e.hsva,n=e.onChange,a={backgroundImage:"linear-gradient(90deg, "+T(Object.assign({},r,{a:0}))+", "+T(Object.assign({},r,{a:1}))+")"},o=O(["react-colorful__alpha",t]),l=S(100*r.a);return g.createElement("div",{className:o},g.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),g.createElement(I,{onMove:function(e){n({a:e.left})},onKey:function(e){n({a:y(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},g.createElement(P,{className:"react-colorful__alpha-pointer",left:r.a,color:T(r)})))},U=function(e){var t,r,n,a,o,l,i,u=e.className,c=e.colorModel,s=e.color,f=void 0===s?c.defaultColor:s,d=e.onChange,v=x(e,["className","colorModel","color","onChange"]),h=(0,g.useRef)(null);J(h);var p=(t=c,r=f,n=A(d),o=(a=(0,g.useState)(function(){return t.toHsva(r)}))[0],l=a[1],i=(0,g.useRef)({color:r,hsva:o}),(0,g.useEffect)(function(){if(!t.equal(r,i.current.color)){var e=t.toHsva(r);i.current={hsva:e,color:r},l(e)}},[r,t]),(0,g.useEffect)(function(){var e;W(o,i.current.hsva)||t.equal(e=t.fromHsva(o),i.current.color)||(i.current={hsva:o,color:e},n(e))},[o,t,n]),[o,(0,g.useCallback)(function(e){l(function(t){return Object.assign({},t,e)})},[])]),m=p[0],b=p[1],_=O(["react-colorful",u]);return g.createElement("div",E({},v,{ref:h,className:_}),g.createElement(X,{hsva:m,onChange:b}),g.createElement(V,{hue:m.h,onChange:b}),g.createElement(Q,{hsva:m,onChange:b,className:"react-colorful__last-control"}))},Z={defaultColor:"0001",toHsva:function(e){return K(z(e))},fromHsva:function(e){return D(B(e))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||W(z(e),z(t))}},ee=function(e){return g.createElement(U,E({},e,{colorModel:Z}))};let et=function({color:e="#000",onChange:t}){try{e=/#/i.test(e)?e:(0,c.Ob)(e)}catch(r){}let n=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,[o,l]=g.useState(e),[i,u]=g.useState(e),s=g.useCallback(e=>{u(e),n.test(e)&&l(e)},[]);g.useEffect(()=>{try{(0,c.E2)(o),t(o)}catch(e){}},[o]);let f=e=>{let t=e.currentTarget.value;n.test(t)||s(o||"#ffffff")};return g.createElement(a.A,{sx:{p:2}},g.createElement(ee,{color:o,onChange:l}),g.createElement(a.A,{sx:{pt:1}},g.createElement("input",{defaultValue:i,value:i,name:"hex_alpha",placeholder:"#aa00ccff",onChange:e=>s(e.currentTarget.value),onBlur:f})))};function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let en=(0,n.Ay)(a.A,{name:"MuiButton",slot:"ColorPickerAdornment"})(({color:e})=>({width:28,height:28,border:"1px solid rgba(0,0,0,0.1)",backgroundColor:e,cursor:"pointer"})),ea=({config:e,disabled:t,required:r,name:n,formik:a})=>{let[f,v,{setValue:p}]=(0,s.Mt)(null!=n?n:"TextField"),[E,x]=g.useState(!1),{label:A,disabled:w,placeholder:y,noFeedback:C,variant:M,margin:k,fullWidth:N,size:I,required:O,description:P,showErrorTooltip:S=!1,sx:j,sxFieldWrapper:z,startAdornment:L,endAdornment:R,warning:$,alwayShowDescription:H=!0,contextualDescription:T,picker:B="chrome",paletteName:F,component:D,...K}=e;if(g.useEffect(()=>{},[]),h()(f.value)||!m()(f.value)){var q;f.value=null!==(q=e.defaultValue)&&void 0!==q?q:""}let V=!!(v.error&&(v.touched||a.submitCount)),X=e=>{m()(f.value)&&p(f.value.trim()),f.onBlur(e)},W=e=>{if(F){p(e);let t=(0,c.Ob)((0,c.e$)(f.value,.2)),r=(0,c.Ob)((0,c.a)(f.value,.2));a.setFieldValue(`${F}.dark`,t),a.setFieldValue(`${F}.light`,r)}else p(e)},Y=!S&&V&&v.error,G=null;P&&(G=g.createElement(b.A,{text:P})),Y&&(G=v.error),P&&H&&Y&&(G=g.createElement(g.Fragment,null,g.createElement(b.A,{text:P}),g.createElement(b.A,{text:v.error,error:!0})));let J=g.useRef();return g.createElement(o.A,{margin:k,variant:M,fullWidth:N,"data-testid":d()(`field ${n}`),sx:z,id:n,ref:J},g.createElement(l.A,er({},K,{value:f.value,onChange:e=>W(e.currentTarget.value),error:V,disabled:w||t||a.isSubmitting,required:O||r,size:I,onBlur:X,InputProps:{readOnly:!0,endAdornment:g.createElement(en,{color:f.value,onClick:()=>x(!0)}),startAdornment:L?g.createElement(i.A,{position:"start"},L):null},inputProps:{"data-testid":d()(`input ${n}`)},label:A,placeholder:y,helperText:G,variant:M,sx:j})),g.createElement(u.Ay,{disablePortal:!1,open:E,anchorEl:J.current,onClose:()=>x(!1)},g.createElement(et,{color:f.value,onChange:W,picker:B})),g.createElement(_.A,{warning:$}))},eo=ea},19471(e,t,r){r.d(t,{A:()=>d});var n=r(91557),a=r(88631),o=r(8051),l=r(56449),i=r.n(l),u=r(85015),c=r.n(u),s=r(96540),f=r(90243);function d({text:e,sx:t,error:r=!1,component:l="span"}){let{i18n:u}=(0,n.PCX)();if(!e)return null;if(c()(e)&&e.startsWith("<html>"))return s.createElement(a.A,{sx:t,error:r},u.formatMessage({id:"[placeholder]",defaultMessage:e}));let d=i()(e)?e[0]:e;return s.createElement(a.A,{sx:t,error:r},s.createElement(o.A,{component:l,sx:{whiteSpace:"normal",wordBreak:"break-word",mb:.5}},s.createElement(f.Ay,{html:d})))}},38581(e,t,r){r.d(t,{A:()=>l});var n=r(87116),a=r(96540),o=r(90243);function l({warning:e}){return e?a.createElement(n.A,{color:"warning",variant:"standard",sx:{fontSize:"small",my:1,p:.5,alignItems:"center"}},a.createElement(o.Ay,{html:e||""})):null}}}]);