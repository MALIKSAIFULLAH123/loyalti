"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-TabContainer-Block"],{18579(e,t,l){l.d(t,{A:()=>y});var r=l(98587),o=l(58168),a=l(96540),i=l(20053),n=l(75659),s=l(37878),c=l(75630),d=l(92353),u=l(3556),p=l(38413),b=l(31609);function m(e){return(0,b.A)("MuiTab",e)}let f=(0,p.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]);var h=l(74848);let v=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],g=e=>{let{classes:t,textColor:l,fullWidth:r,wrapped:o,icon:a,label:i,selected:s,disabled:d}=e,u={root:["root",a&&i&&"labelIcon",`textColor${(0,c.A)(l)}`,r&&"fullWidth",o&&"wrapped",s&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return(0,n.A)(u,m,t)},x=(0,u.Ay)(s.A,{name:"MuiTab",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[t.root,l.label&&l.icon&&t.labelIcon,t[`textColor${(0,c.A)(l.textColor)}`],l.fullWidth&&t.fullWidth,l.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>(0,o.A)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${f.iconWrapper}`]:(0,o.A)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${f.selected}`]:{opacity:1},[`&.${f.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${f.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${f.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),A=a.forwardRef(function(e,t){let l=(0,d.A)({props:e,name:"MuiTab"}),{className:n,disabled:s=!1,disableFocusRipple:c=!1,fullWidth:u,icon:p,iconPosition:b="top",indicator:m,label:f,onChange:A,onClick:y,onFocus:w,selected:S,selectionFollowsFocus:C,textColor:E="inherit",value:B,wrapped:k=!1}=l,W=(0,r.A)(l,v),T=(0,o.A)({},l,{disabled:s,disableFocusRipple:c,selected:S,icon:!!p,iconPosition:b,label:!!f,fullWidth:u,textColor:E,wrapped:k}),R=g(T),M=p&&f&&a.isValidElement(p)?a.cloneElement(p,{className:(0,i.default)(R.iconWrapper,p.props.className)}):p,$=e=>{!S&&A&&A(e,B),y&&y(e)},I=e=>{C&&!S&&A&&A(e,B),w&&w(e)};return(0,h.jsxs)(x,(0,o.A)({focusRipple:!c,className:(0,i.default)(R.root,n),ref:t,role:"tab","aria-selected":S,disabled:s,onClick:$,onFocus:I,ownerState:T,tabIndex:S?0:-1},W,{children:["top"===b||"start"===b?(0,h.jsxs)(a.Fragment,{children:[M,f]}):(0,h.jsxs)(a.Fragment,{children:[f,M]}),m]}))}),y=A},62661(e,t,l){l.d(t,{A:()=>q});var r,o,a=l(98587),i=l(58168),n=l(96540);l(44363);var s=l(20053),c=l(75659),d=l(3556),u=l(92353),p=l(30719),b=l(52515),m=l(57680);function f(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var h=l(80393),v=l(74848);let g=["onChange"],x={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var A=l(70709);let y=(0,A.A)((0,v.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),w=(0,A.A)((0,v.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var S=l(37878),C=l(38413),E=l(31609);function B(e){return(0,E.A)("MuiTabScrollButton",e)}let k=(0,C.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),W=["className","direction","orientation","disabled"],T=e=>{let{classes:t,orientation:l,disabled:r}=e;return(0,c.A)({root:["root",l,r&&"disabled"]},B,t)},R=(0,d.Ay)(S.A,{name:"MuiTabScrollButton",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[t.root,l.orientation&&t[l.orientation]]}})(({ownerState:e})=>(0,i.A)({width:40,flexShrink:0,opacity:.8,[`&.${k.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),M=n.forwardRef(function(e,t){let l=(0,u.A)({props:e,name:"MuiTabScrollButton"}),{className:n,direction:c}=l,d=(0,a.A)(l,W),b=(0,p.A)(),m="rtl"===b.direction,f=(0,i.A)({isRtl:m},l),h=T(f);return(0,v.jsx)(R,(0,i.A)({component:"div",className:(0,s.default)(h.root,n),ref:t,role:null,ownerState:f,tabIndex:null},d,{children:"left"===c?r||(r=(0,v.jsx)(y,{fontSize:"small"})):o||(o=(0,v.jsx)(w,{fontSize:"small"}))}))});var $=l(43270);function I(e){return(0,E.A)("MuiTabs",e)}let N=(0,C.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var z=l(14684);let j=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],P=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,L=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,D=(e,t,l)=>{let r=!1,o=l(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}let a=o.disabled||"true"===o.getAttribute("aria-disabled");if(!o.hasAttribute("tabindex")||a)o=l(e,o);else{o.focus();return}}},H=e=>{let{vertical:t,fixed:l,hideScrollbar:r,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:n,classes:s}=e;return(0,c.A)({root:["root",t&&"vertical"],scroller:["scroller",l&&"fixed",r&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",n&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},I,s)},F=(0,d.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[{[`& .${N.scrollButtons}`]:t.scrollButtons},{[`& .${N.scrollButtons}`]:l.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,l.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,i.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${N.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),X=(0,d.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver(e,t){let{ownerState:l}=e;return[t.scroller,l.fixed&&t.fixed,l.hideScrollbar&&t.hideScrollbar,l.scrollableX&&t.scrollableX,l.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,i.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),O=(0,d.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver(e,t){let{ownerState:l}=e;return[t.flexContainer,l.vertical&&t.flexContainerVertical,l.centered&&t.centered]}})(({ownerState:e})=>(0,i.A)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Y=(0,d.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,i.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),G=(0,d.Ay)(function(e){let{onChange:t}=e,l=(0,a.A)(e,g),r=n.useRef(),o=n.useRef(null),s=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return n.useEffect(()=>{let e=(0,b.A)(()=>{let e=r.current;s(),e!==r.current&&t(r.current)}),l=(0,h.A)(o.current);return l.addEventListener("resize",e),()=>{e.clear(),l.removeEventListener("resize",e)}},[t]),n.useEffect(()=>{s(),t(r.current)},[t]),(0,v.jsx)("div",(0,i.A)({style:x,ref:o},l))},{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),V={},_=n.forwardRef(function(e,t){let l=(0,u.A)({props:e,name:"MuiTabs"}),r=(0,p.A)(),o="rtl"===r.direction,{"aria-label":c,"aria-labelledby":d,action:g,centered:x=!1,children:A,className:y,component:w="div",allowScrollButtonsMobile:S=!1,indicatorColor:C="primary",onChange:E,orientation:B="horizontal",ScrollButtonComponent:k=M,scrollButtons:W="auto",selectionFollowsFocus:T,TabIndicatorProps:R={},TabScrollButtonProps:I={},textColor:N="primary",value:_,variant:q="standard",visibleScrollbar:K=!1}=l,U=(0,a.A)(l,j),Q="scrollable"===q,J="vertical"===B,Z=J?"scrollTop":"scrollLeft",ee=J?"top":"left",et=J?"bottom":"right",el=J?"clientHeight":"clientWidth",er=J?"height":"width",eo=(0,i.A)({},l,{component:w,allowScrollButtonsMobile:S,indicatorColor:C,orientation:B,vertical:J,scrollButtons:W,textColor:N,variant:q,visibleScrollbar:K,fixed:!Q,hideScrollbar:Q&&!K,scrollableX:Q&&!J,scrollableY:Q&&J,centered:x&&!Q,scrollButtonsHideMobile:!S}),ea=H(eo),[ei,en]=n.useState(!1),[es,ec]=n.useState(V),[ed,eu]=n.useState({start:!1,end:!1}),[ep,eb]=n.useState({overflow:"hidden",scrollbarWidth:0}),em=new Map,ef=n.useRef(null),eh=n.useRef(null),ev=()=>{let e,t;let l=ef.current;if(l){let o=l.getBoundingClientRect();e={clientWidth:l.clientWidth,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop,scrollLeftNormalized:(0,m.A)(l,r.direction),scrollWidth:l.scrollWidth,top:o.top,bottom:o.bottom,left:o.left,right:o.right}}if(l&&!1!==_){let a=eh.current.children;if(a.length>0){let i=a[em.get(_)];t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},eg=(0,$.A)(()=>{let e;let{tabsMeta:t,tabMeta:l}=ev(),r=0;if(J)e="top",l&&t&&(r=l.top-t.top+t.scrollTop);else if(e=o?"right":"left",l&&t){let a=o?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;r=(o?-1:1)*(l[e]-t[e]+a)}let i={[e]:r,[er]:l?l[er]:0};if(isNaN(es[e])||isNaN(es[er]))ec(i);else{let n=Math.abs(es[e]-i[e]),s=Math.abs(es[er]-i[er]);(n>=1||s>=1)&&ec(i)}}),ex=(e,{animation:t=!0}={})=>{t?function(e,t,l,r={},o=()=>{}){let{ease:a=f,duration:i=300}=r,n=null,s=t[e],c=!1,d=()=>{c=!0},u=r=>{if(c){o(Error("Animation cancelled"));return}null===n&&(n=r);let d=Math.min(1,(r-n)/i);if(t[e]=a(d)*(l-s)+s,d>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(u)};return s===l?(o(Error("Element already at target position")),d):(requestAnimationFrame(u),d)}(Z,ef.current,e,{duration:r.transitions.duration.standard}):ef.current[Z]=e},eA=e=>{let t=ef.current[Z];J?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===(0,m.t)()?-1:1),ex(t)},ey=()=>{let e=ef.current[el],t=0,l=Array.from(eh.current.children);for(let r=0;r<l.length;r+=1){let o=l[r];if(t+o[el]>e){0===r&&(t=e);break}t+=o[el]}return t},ew=()=>{eA(-1*ey())},eS=()=>{eA(ey())},eC=n.useCallback(e=>{eb({overflow:null,scrollbarWidth:e})},[]),eE=(0,$.A)(e=>{let{tabsMeta:t,tabMeta:l}=ev();if(l&&t){if(l[ee]<t[ee]){let r=t[Z]+(l[ee]-t[ee]);ex(r,{animation:e})}else if(l[et]>t[et]){let o=t[Z]+(l[et]-t[et]);ex(o,{animation:e})}}}),eB=(0,$.A)(()=>{if(Q&&!1!==W){let e,t;let{scrollTop:l,scrollHeight:a,clientHeight:i,scrollWidth:n,clientWidth:s}=ef.current;if(J)e=l>1,t=l<a-i-1;else{let c=(0,m.A)(ef.current,r.direction);e=o?c<n-s-1:c>1,t=o?c>1:c<n-s-1}(e!==ed.start||t!==ed.end)&&eu({start:e,end:t})}});n.useEffect(()=>{let e;let t=(0,b.A)(()=>{ef.current&&(eg(),eB())}),l=(0,h.A)(ef.current);return l.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(eh.current.children).forEach(t=>{e.observe(t)})),()=>{t.clear(),l.removeEventListener("resize",t),e&&e.disconnect()}},[eg,eB]);let ek=n.useMemo(()=>(0,b.A)(()=>{eB()}),[eB]);n.useEffect(()=>()=>{ek.clear()},[ek]),n.useEffect(()=>{en(!0)},[]),n.useEffect(()=>{eg(),eB()}),n.useEffect(()=>{eE(V!==es)},[eE,es]),n.useImperativeHandle(g,()=>({updateIndicator:eg,updateScrollButtons:eB}),[eg,eB]);let eW=(0,v.jsx)(Y,(0,i.A)({},R,{className:(0,s.default)(ea.indicator,R.className),ownerState:eo,style:(0,i.A)({},es,R.style)})),eT=0,eR=n.Children.map(A,e=>{if(!n.isValidElement(e))return null;let t=void 0===e.props.value?eT:e.props.value;em.set(t,eT);let l=t===_;return eT+=1,n.cloneElement(e,(0,i.A)({fullWidth:"fullWidth"===q,indicator:l&&!ei&&eW,selected:l,selectionFollowsFocus:T,onChange:E,textColor:N,value:t},1!==eT||!1!==_||e.props.tabIndex?{}:{tabIndex:0}))}),eM=e=>{let t=eh.current,l=(0,z.A)(t).activeElement,r=l.getAttribute("role");if("tab"!==r)return;let a="horizontal"===B?"ArrowLeft":"ArrowUp",i="horizontal"===B?"ArrowRight":"ArrowDown";switch("horizontal"===B&&o&&(a="ArrowRight",i="ArrowLeft"),e.key){case a:e.preventDefault(),D(t,l,L);break;case i:e.preventDefault(),D(t,l,P);break;case"Home":e.preventDefault(),D(t,null,P);break;case"End":e.preventDefault(),D(t,null,L)}},e$=(()=>{let e={};e.scrollbarSizeListener=Q?(0,v.jsx)(G,{onChange:eC,className:(0,s.default)(ea.scrollableX,ea.hideScrollbar)}):null;let t=ed.start||ed.end,l=Q&&("auto"===W&&t||!0===W);return e.scrollButtonStart=l?(0,v.jsx)(k,(0,i.A)({orientation:B,direction:o?"right":"left",onClick:ew,disabled:!ed.start},I,{className:(0,s.default)(ea.scrollButtons,I.className)})):null,e.scrollButtonEnd=l?(0,v.jsx)(k,(0,i.A)({orientation:B,direction:o?"left":"right",onClick:eS,disabled:!ed.end},I,{className:(0,s.default)(ea.scrollButtons,I.className)})):null,e})();return(0,v.jsxs)(F,(0,i.A)({className:(0,s.default)(ea.root,y),ownerState:eo,ref:t,as:w},U,{children:[e$.scrollButtonStart,e$.scrollbarSizeListener,(0,v.jsxs)(X,{className:ea.scroller,ownerState:eo,style:{overflow:ep.overflow,[J?`margin${o?"Left":"Right"}`:"marginBottom"]:K?void 0:-ep.scrollbarWidth},ref:ef,onScroll:ek,children:[(0,v.jsx)(O,{"aria-label":c,"aria-labelledby":d,"aria-orientation":"vertical"===B?"vertical":null,className:ea.flexContainer,ownerState:eo,onKeyDown:eM,ref:eh,role:"tablist",children:eR}),ei&&eW]}),e$.scrollButtonEnd]}))}),q=_},18673(e,t,l){l.r(t),l.d(t,{default:()=>z});var r=l(91557),o=l(84680),a=l(44371),i=l(38860),n=l(3556),s=l(62661),c=l(18579),d=l(54095),u=l(16535),p=l(84058),b=l.n(p),m=l(58156),f=l.n(m),h=l(56449),v=l.n(h),g=l(47186),x=l(96540),A=l(78106);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(this,arguments)}let w="TabContainer",S=(0,n.Ay)(s.A,{name:w,slot:"TabItemWrapper"})(({theme:e})=>({"& .MuiTabs-flexContainer":{width:"100%"},[e.breakpoints.down("sm")]:{width:"100%"}})),C=(0,n.Ay)(c.A,{name:w,slot:"TabMoreItem"})(({theme:e})=>({})),E=(0,n.Ay)(c.A,{name:w,slot:"TabItemHidden"})(({theme:e})=>({color:e.palette.text.secondary,fontWeight:"bold",fontSize:e.mixins.pxToRem(15),padding:"0 !important",width:"fit-content !important",minWidth:"fit-content !important",marginLeft:"20px","&:first-of-type":{marginLeft:e.spacing(0)}})),B=(0,n.Ay)(c.A,{name:w,slot:"TabItemWrapper",shouldForwardProp:e=>"widthTabMore"!==e&&"numberTabItem"!==e})(({theme:e,widthTabMore:t,numberTabItem:l})=>({color:e.palette.text.secondary,fontWeight:"bold",fontSize:e.mixins.pxToRem(15),padding:"0 !important",marginLeft:"20px",width:"fit-content !important",minWidth:"fit-content !important","&:first-of-type":{marginLeft:e.spacing(0)},maxWidth:290,"& .tab-label-item":{maxWidth:290},[e.breakpoints.down("sm")]:{maxWidth:t?`calc(100% - ${t}px)`:200,...1===l&&{minWidth:"auto !important","& .tab-label-item":{maxWidth:"100%"}}}})),k=(0,n.Ay)("div",{name:w,slot:"subTabWrapper",shouldForwardProp:e=>"pageDetail"!==e,overridesResolver:(e,t)=>[t.subTabWrapper,e.pageDetail&&t.subTabWrapperPageDetail]})(({theme:e,pageDetail:t})=>({paddingBottom:e.spacing(1.875),display:"flex",justifyContent:"space-between",alignItems:"center",[e.breakpoints.down("sm")]:{flexDirection:"column-reverse",alignItems:"flex-start",...t&&{padding:e.spacing(0,2)}}})),W=(0,n.Ay)("div",{name:"MenuItem"})(({theme:e,tabItemActive:t})=>({width:240,minHeight:"40px",display:"block",padding:e.spacing(1,2),alignItems:"center",justifyContent:"center",textDecoration:"none",fontSize:"15px",color:e.palette.text.secondary,"&:hover":{textDecoration:"none !important",backgroundColor:e.palette.action.hover,cursor:"pointer"},...t&&{color:`${e.palette.primary.main} !important`}})),T=(0,n.Ay)("div",{name:"SecondMenu"})(({theme:e})=>({listStyle:"none none outside",margin:0,padding:0,display:"inline-flex"})),R=(0,n.Ay)("div",{name:w,slot:"HiddenTabs"})(({theme:e})=>({visibility:"hidden",position:"absolute"})),M=(0,n.Ay)("div",{name:w,slot:"DisableGutter",shouldForwardProp:e=>"disableGutter"!==e})(({disableGutter:e})=>({...e&&{padding:0}})),$=(0,n.Ay)("div",{name:w,slot:"TabItem"})(({theme:e})=>({height:"100%",display:"flex",alignItems:"center",justifyContent:"center",float:"left",textDecoration:"none",fontSize:"15px",fontWeight:"bold",color:`${e.palette.text.secondary} !important`,position:"relative",whiteSpace:"nowrap","&:hover":{textDecoration:"none",color:`${e.palette.primary.main} !important`},[e.breakpoints.down("xs")]:{padding:`26px ${e.spacing(1)}px`,marginBottom:0},minWidth:60,cursor:"pointer",marginRight:0,flexGrow:1})),I=e=>v()(e)?e.filter(Boolean):[],N=(0,r.$MH)((0,r.FB$)(function({title:e,tabProps:t={tabs:[],tabsNoSearchBox:[],disableGutter:!1,activeTab:"",placeholderSearch:"search_dot"},elements:l,hasSearchBox:n,item:s,user:p,pageDetail:m=!1,compose:h}){var w,N,z;let{tabs:j,tabsNoSearchBox:P=[],disableGutter:L,activeTab:D,to:H}=t,{navigate:F,jsxBackend:X,useSession:O,usePageParams:Y,i18n:G,useIsMobile:V,getAcl:_,compactUrl:q}=(0,r.PCX)(),K=V(),U=_(),Q=x.useMemo(()=>{var e;return D||(null===(e=I(t.tabs)[0])||void 0===e?void 0:e.tab)||""},[D,t.tabs]),[J,Z]=x.useState(Q),ee=(0,A.zy)(),et=(0,x.useRef)(null),[el,er]=x.useState(""),eo=O(),{user:ea,loggedIn:ei}=eo,en=Y(),es=(0,r.dx2)(`user.entities.user.${null==ea?void 0:ea.id}`),[ec,ed]=x.useState(!1),eu=l.find(e=>e.props.name===J),ep=((null==ea?void 0:ea.id)===(null==s?void 0:s.id)||(null==p?void 0:p.id)===(null==ea?void 0:ea.id))&&ei,[eb,em]=x.useState(0),ef=(0,x.useRef)(),eh=(0,x.useRef)(),ev=(0,x.useRef)(),eg=(0,x.useRef)(),ex=(0,x.useRef)(),eA=(0,x.useRef)(),[ey,ew]=x.useState(null),eS=(e,t)=>{e.stopPropagation(),Z(t);let l=g.stringify({stab:t});F({pathname:ee.pathname,search:`?${l}`},{state:Object.assign({},ee.state,{keepScroll:!0})}),e$()},eC=(0,i.Ue)(j,{isAuthUser:ep,session:eo,item:s,authUser:es,acl:U}),eE=eC.map(e=>e.tab),eB=j.find(e=>e.tab===J),ek=x.useCallback((e,t=!0)=>{let{statisticKey:l,label:r}=e||{};if(!r)return null;let o=f()({item:s},l),i=G.formatMessage({id:r},{value:o||0});return x.createElement(a.mE,y({lines:1,variant:"h5"},!t&&{className:"tab-label-item"}),i)},[s]);x.useEffect(()=>{!eE.includes(J)&&eB&&(null==eB?void 0:eB.redirectWhenNoPermission)&&eE.includes(null==eB?void 0:eB.redirectWhenNoPermission)&&F({pathname:ee.pathname,search:`?stab=${(null==eB?void 0:eB.redirectWhenNoPermission)||Q}`})},[J,eC,j]);let eW=(0,x.useCallback)(e=>x.createElement(T,{ref:et},x.createElement($,null,G.formatMessage({id:"more"}),"\xa0",x.createElement(a.s4,{icon:"ico-caret-down"})),x.createElement(d.A,{open:ec,anchorEl:ey,onClose:e$},(eb>=eC.length?eC:eC.slice(eb)).map((e,t)=>x.createElement(W,{tabItemActive:e.tab===J,key:t.toString(),onClick:t=>eS(t,e.tab)},ek(e))))),[ey,eC,ec,eS,eb,J]),eT=I(P),eR=n&&!eT.includes(J),eM=x.useCallback(()=>{var e,t,l,r,o;let a=null===(e=eg.current)||void 0===e?void 0:e.children;if(!a||!a.length)return;let i=ev.current.getBoundingClientRect().width,n=null===(t=ex.current)||void 0===t?void 0:t.getBoundingClientRect().width,s=eR&&!K?null===(l=eh.current)||void 0===l?void 0:l.getBoundingClientRect().width:0,c=0,d=0;for(;c+n+s<i&&a[d];)c+=(null===(o=null===(r=a[d])||void 0===r?void 0:r.getBoundingClientRect())||void 0===o?void 0:o.width)+(0===d?0:20),d++;let u=d;i-c<n&&(u=1===d?d:d-1),em(u)},[eR,K]);(0,x.useEffect)(()=>{eM()},[eM,J,eC]),(0,x.useEffect)(()=>{let{stab:e}=en,l=eC.some(t=>t.tab===e);if(!l&&e){Z(D||I(t.tabs)[0].tab),F({search:`?stab=${D||I(t.tabs)[0].tab}`});return}v()(null==t?void 0:t.tabs)&&Z(e||D||I(t.tabs)[0].tab)},[t.tabs,D,en]);let e$=()=>ed(!1),eI=e=>{ed(!0),ew(e.currentTarget)},eN=(e,t)=>{if("more"!==t){let l=g.stringify({stab:t});F({pathname:H?q(H,en):ee.pathname,search:`?${l}`},{state:Object.assign({},ee.state,{keepScroll:!0})})}};(0,x.useEffect)(()=>{er("")},[null==en?void 0:en.stab,null==en?void 0:en.tab]);let ez=(null==eu?void 0:null===(w=eu.props)||void 0===w?void 0:null===(N=w.elements)||void 0===N?void 0:N.length)&&(0,u.Ay)(eu,e=>{for(let t=0;t<e.props.elements.length;t++)e.props.elements[t].props.query=el});h(e=>{e.hasSearchBox=!1});let ej=x.useMemo(()=>eb<(null==eC?void 0:eC.length),[eb,null==eC?void 0:eC.length]);return x.createElement(o.eB,null,x.createElement(o.Tw,{title:e}),x.createElement(o.tD,null,x.createElement(k,{ref:ev,pageDetail:m},x.createElement(R,{ref:eg},eC.map((e,t)=>x.createElement(E,{ref:eA,"aria-label":e.tab,value:e.tab,label:ek(e),key:t.toString()}))),x.createElement(S,{value:J,onChange:eN,textColor:"primary",indicatorColor:"primary","data-testid":"tabWrapper"},(ej?eC.slice(0,eb):eC).map((e,t)=>{var l;return x.createElement(B,{"data-testid":b()(`tabItem ${e.tab}`),"aria-label":e.tab,value:e.tab,label:ek(e,!1),numberTabItem:eb,key:t.toString(),widthTabMore:null===(l=ex.current)||void 0===l?void 0:l.getBoundingClientRect().width})}),ej&&x.createElement(C,{onClick:eI,value:"more",label:eW(!0),ref:et})),x.createElement(R,{ref:ex},x.createElement(c.A,{value:"more",label:eW(!1),ref:ex})),x.createElement(R,{ref:eh},x.createElement(o.Gd,{placeholder:null==t?void 0:t.placeholderSearch,onQueryChange:er,sx:{width:{sm:"auto",xs:"100%"},margin:{sm:"initial",xs:"16px 0 0 0"},padding:"10px"}})),eR?x.createElement(o.Gd,{ref:ef,placeholder:(null==eB?void 0:eB.placeholderSearch)||(null==t?void 0:t.placeholderSearch),onQueryChange:er,sx:{width:{sm:"auto",xs:"100%"},margin:{sm:"initial",xs:"16px 0 0 0"}},keyTab:`${null==en?void 0:en.tab}${(null==en?void 0:en.stab)||(null===(z=eC[0])||void 0===z?void 0:z.tab)}`}):null),x.createElement(M,{disableGutter:L},ez?X.render(ez):null)))},()=>{})),z=(0,r.WvA)({extendBlock:N,name:"core.block.tabContainer",defaults:{title:"Tab Container",blockProps:{blockStyle:{borderRadius:"base"}}},overrides:{blockProps:{noFooter:!0}},custom:{hasSearchBox:{name:"hasSearchBox",component:"Checkbox",label:"Has Search Box?",margin:"normal"}}})}}]);