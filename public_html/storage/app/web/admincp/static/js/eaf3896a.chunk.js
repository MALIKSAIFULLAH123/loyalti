"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-form-elements-UploadPhotoAlbum-SimpleUploadPhotos"],{52614(e,o,t){t.r(o),t.d(o,{default:()=>y});var r=t(91557),l=t(84680),a=t(40515),i=t(3556),s=t(60780),n=t(20687),p=t(30261),d=t(84058),m=t.n(d),u=t(96540);let c="simpleUploadPhotos",h=(0,i.Ay)("div",{name:c,slot:"root"})(({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"})),f=(0,i.Ay)(s.A,{name:c,slot:"root"})(({theme:e})=>({fontWeight:e.typography.fontWeightBold,fontSize:e.typography.pxToRem(18)})),g=(0,i.Ay)("div",{name:c,slot:"ButtonWrap",shouldForwardProp:e=>"size"!==e&&"isProfilePage"!==e})(({theme:e,size:o,isProfilePage:t})=>({display:"flex",alignItems:"center",justifyContent:"center",border:e.mixins.border("secondary"),borderColor:"light"===e.palette.mode?e.palette.border.primary:"rgba(255, 255, 255, 0.23)",height:e.spacing(4.75),marginTop:e.spacing(1),..."small"===o&&{borderRadius:e.shape.borderRadius,padding:e.spacing(0,1)},..."small"!==o&&{height:125,width:"100%"},..."small"!==o&&{height:t?170:125,width:"100%"},"&:hover":{cursor:"pointer",backgroundColor:e.palette.button.hover,borderColor:"light"===e.palette.mode?e.palette.border.primary:"#fff"},"& .MuiButton-root.MuiButton-text:hover":{backgroundColor:"transparent"}})),b=(0,i.Ay)(n.A,{name:c,slot:"FormControl",shouldForwardProp:e=>"size"!==e})(({theme:e,size:o})=>({..."small"!==o&&{marginTop:e.spacing(0),marginBottom:e.spacing(0)}}));function y({name:e,formik:o,config:t}){let{size:i=null}=t,{i18n:s,dialogBackend:n}=(0,r.PCX)(),d=(0,l.HX)(),[,c,{setValue:y}]=(0,p.Mt)(null!=e?e:"simpleUploadPhotos"),[C,P]=u.useState([]),[v,x]=u.useState(!1);u.useEffect(()=>{(null==d?void 0:d.profile_page)&&x(!0)},[d]);let A=t.placeholder||"add_photos_video";u.useEffect(()=>{y(C)},[C]);let k=(0,u.useCallback)(()=>{n.present({component:"photo.dialog.ChooseAlbumItemDialog",props:{config:t,fileItems:C,setFileItems:P,isDetailAlbum:!0,formik:o}})},[]),E=Boolean(c.error&&(c.touched||o.submitCount));return u.useEffect(()=>{E&&(n.alert({message:c.error}),y([]))},[E,null==c?void 0:c.error,C]),u.createElement(b,{size:i,error:E,fullWidth:!0,margin:"normal","data-testid":m()(`field ${e}`)},u.createElement(h,null,u.createElement(g,{size:i,isProfilePage:v,onClick:k},u.createElement(f,{size:"medium",color:"primary",startIcon:u.createElement(a.s4,{icon:"ico-photos-plus-o"})},s.formatMessage({id:A})))))}}}]);