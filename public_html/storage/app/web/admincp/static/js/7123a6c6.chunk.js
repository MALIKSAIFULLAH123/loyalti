"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-PhotoDetail-Block"],{3103(e,t,o){o.r(t),o.d(t,{default:()=>d});var r=o(91557),n=o(38147),i=o(84680),l=o(96540),a=o(3556),u=o(8051);let c=(0,a.Ay)(u.A,{name:"ViewMediaPage",slot:"root"})(({theme:e})=>({padding:"0 !important",paddingTop:"0 !important",display:"flex",overflowY:"visible",[e.breakpoints.down("md")]:{height:"auto",flexFlow:"column",flexDirection:"column","& > div":{overflow:"inherit"}}})),s=(0,r.$MH)((0,n.F)(function({item:e,identity:t}){let{jsxBackend:o,usePageParams:n}=(0,r.PCX)(),{photo_set:a,photo_album:s,photo_id:d,media_type:f}=n(),m=o.get("media.ui.viewBlock"),[p,v]=l.useState({position:"fixed",left:0,right:0,bottom:0,top:0,zIndex:999}),h=l.useRef(),b=l.useRef(),g=l.useCallback(()=>{if(!h.current)return;let e=h.current;v(t=>({...t,top:e.getBoundingClientRect().top}))},[]);return(l.useEffect(()=>{var e;if(h.current)return b.current=new ResizeObserver(()=>{g()}),null===(e=b.current)||void 0===e||e.observe(h.current),()=>null==b?void 0:b.current.disconnect()},[g,h.current]),e)?l.createElement(i.eB,{testid:`detailview ${e.resource_name}`},l.createElement(i.tD,null,l.createElement(u.A,{ref:h},l.createElement(c,{sx:p},l.createElement(m,{photo_set:a,photo_album:s,identity:t,photo_id:d,media_type:f}))))):null},n.m,{tags:!0,categories:!0})),d=(0,r.WvA)({extendBlock:s,defaults:{blockLayout:"Photo Page View"}})},38147(e,t,o){o.d(t,{m:()=>n,F:()=>r.FB$});var r=o(91557);function n(e){return{}}}}]);