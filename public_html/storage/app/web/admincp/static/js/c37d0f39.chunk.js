"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-AlbumDetailMobile-Block"],{14438(e,t,a){a.r(t),a.d(t,{default:()=>_});var n=a(91557),l=a(53695),o=a(48212),i=a(90243),r=a(84680),m=a(76096),c=a(56995),s=a(40515),p=a(96540),d=a(3556),u=a(8051);let g="AlbumDetailMobile",b=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({maxWidth:720,margin:"auto",backgroundColor:e.palette.background.paper})),h=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({position:"absolute",top:e.spacing(1),right:e.spacing(1),"& > button":{padding:e.spacing(1),width:30,height:30,textAlign:"center"}})),y=(0,d.Ay)(n.N_E,{name:g})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"})),A=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({marginBottom:e.spacing(.5),overflow:"hidden"})),E=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({overflow:"hidden",padding:e.spacing(1.5,0),display:"flex",alignItems:"center",width:"100%"})),f=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),padding:e.spacing(1,0)})),x=(0,d.Ay)(n.N_E,{name:g})(({theme:e})=>({color:e.palette.text.primary,fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold})),v=(0,d.Ay)(u.A,{name:g})(({theme:e})=>({padding:e.spacing(2),position:"relative"})),k=(0,n.$MH)((0,l.F)(function({item:e,user:t,identity:a,handleAction:l,state:d,blockProps:g}){let{jsxBackend:k,ItemActionMenu:_,useGetItem:w,i18n:P,usePageParams:C}=(0,n.PCX)(),S=k.get("photo.block.pinView"),B=(0,n.IgF)(m.Zt,m.hO,"getAlbumItems"),F=w(null==e?void 0:e.owner),{comment_id:$}=C();if(!e)return null;let{apiUrl:M,apiMethod:V}=B||{},z=`photo-album/${e.id}`,{is_featured:I,is_sponsor:R,name:T,text_parsed:W,id:D,extra:N}=e,H=`/photo/album/${D}`,L="/photo/albums",Z=P.formatMessage({id:"all_albums"});return F&&(null==F?void 0:F.resource_name)!=="user"&&(L=`${null==F?void 0:F.link}/photo?stab=albums`,Z=P.formatMessage({id:"all_albums_from_name"},{name:(0,c.b6)(F.resource_name)})),p.createElement(r.eB,{blockProps:g,testid:`detailview ${e.resource_name}`},p.createElement(r.tD,null,p.createElement(b,null,p.createElement(v,null,p.createElement(h,null,p.createElement(_,{identity:a,state:d,handleAction:l},p.createElement(s.s4,{icon:"ico-dottedmore-vertical-o",sx:{fontSize:"13px"}}))),p.createElement(u.A,null,p.createElement(u.A,{sx:{mb:1}},p.createElement(y,{to:L,color:"primary",children:Z})),p.createElement(A,null,I||R?p.createElement(u.A,{sx:{display:"inline-flex",mr:1}},p.createElement(s.rL,{variant:"itemView",value:I}),p.createElement(s.FN,{value:R,variant:"itemView",item:e})):null,p.createElement(x,{to:H,children:T,variant:"h4"})),p.createElement(E,null,p.createElement(s.at,{item:e,sx:{mt:0}})),W?p.createElement(f,null,p.createElement(s.Zn,{truncateProps:{variant:"body1",lines:5}},p.createElement(s.np,null,p.createElement(i.Ay,{html:W})))):null),p.createElement(o.A,{identity:a,handleAction:l,borderBottom:!0,hideListComment:!$})),p.createElement(S,{title:"",numColumns:2,pagingId:z,dataSource:{apiUrl:M,apiMethod:V,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==N?void 0:N.can_upload_media}}))))},l.m,{tags:!0,categories:!0})),_=(0,n.WvA)({extendBlock:k,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base",pt:0,pb:2},headerStyle:{},footerStyle:{}}}})},53695(e,t,a){a.d(t,{m:()=>l,F:()=>n.FB$});var n=a(91557);function l(e){return{}}}}]);