"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-story-blocks-ReviewStoryBackgroundMobile-Block"],{24099(e,t,n){n.d(t,{A:()=>y});var o=n(98587),i=n(58168),r=n(96540),l=n(89452),a=n(68248),d=n(39599),s=n(73272),u=n(3556),c=n(92353),p=n(74848);let m=["component","direction","spacing","divider","children"],g=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],h=({ownerState:e,theme:t})=>{let n=(0,i.A)({display:"flex",flexDirection:"column"},(0,l.NI)({theme:t},(0,l.kW)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let o=(0,a.LX)(t),r=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),d=(0,l.kW)({values:e.direction,base:r}),u=(0,l.kW)({values:e.spacing,base:r});"object"==typeof d&&Object.keys(d).forEach((e,t,n)=>{let o=d[e];if(!o){let i=t>0?d[n[t-1]]:"column";d[e]=i}});let c=(t,n)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${g(n?d[n]:e.direction)}`]:(0,a._W)(o,t)}});n=(0,s.A)(n,(0,l.NI)({theme:t},u,c))}return(0,l.iZ)(t.breakpoints,n)},f=(0,u.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(h),v=r.forwardRef(function(e,t){let n=(0,c.A)({props:e,name:"MuiStack"}),l=(0,d.A)(n),{component:a="div",direction:s="column",spacing:u=0,divider:g,children:h}=l,v=(0,o.A)(l,m);return(0,p.jsx)(f,(0,i.A)({as:a,ownerState:{direction:s,spacing:u},ref:t},v,{children:g?function(e,t){let n=r.Children.toArray(e).filter(Boolean);return n.reduce((e,o,i)=>(e.push(o),i<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${i}`})),e),[])}(h,g):h}))}),y=v},2929(e,t,n){n.d(t,{A:()=>i});let o=e=>{let t=e.replaceAll("<br>","\n").replace(/&nbsp;/gm," ").replace("&amp;","&").replace(/(<([^>]+)>)/gi,"");return t},i=o},60596(e,t,n){n.d(t,{A:()=>P});var o=n(96540),i=n(84535),r=n(2109),l=n(7256),a=n(42421),d=n.n(a),s=n(96435),u=n(48946),c=n(5744),p=n(3556),m=n(8051),g=n(39120),h=n(10454);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}let v={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",hashtag:"editor-hashtag"},y="EditorStory",b=(0,p.Ay)(m.A,{name:y,slot:"PlaceHolder"})(({theme:e})=>({position:"absolute",color:e.palette.text.hint,overflow:"hidden",top:0,left:0,bottom:0,display:"flex",alignItems:"center",userSelect:"none",pointerEvents:"none",zIndex:1})),x=(0,p.Ay)(m.A,{name:y,slot:"EditorContainer"})(({theme:e})=>({position:"relative",width:"100%",border:"light"===e.palette.mode?e.mixins.border("secondary"):"solid 1px rgba(73, 73, 73, 0.2)",backgroundColor:e.palette.action.hover,minHeight:e.spacing(4),borderRadius:e.spacing(3),display:"flex",flexFlow:"wrap",transition:"all 200ms ease 0s",overflow:"hidden",[e.breakpoints.down("md")]:{minHeight:e.spacing(5)},padding:"4px 12px","& .editor-input":{width:"100%",outline:"none",position:"relative",zIndex:2,"& p":{margin:0,padding:0},"& .editor-hashtag, & .editor-mention":{color:e.palette.primary.main,".withBackgroundStatus &":{color:"inherit",textDecoration:"underline"}}}})),A=(0,p.Ay)(m.A,{name:y,slot:"EditorCompose"})(({theme:e})=>({position:"relative",width:"100%",display:"flex",alignItems:"center"}));function k(e){let{editorRef:t}=e,n={theme:v,onError(e){throw e},editorState(n){(0,g.le)(n,(null==e?void 0:e.value)||""),t.current.editor=n},...(null==e?void 0:e.initEditorConfig)||{}};return o.createElement(i.LexicalComposer,{initialConfig:n},o.createElement(E,f({},e)))}function E(e){let{onChange:t,value:n,plugins:i,placeholder:a,sx:p,sxInner:m,onFocus:v,onBlur:y,pluginsProps:b,submitting:k}=e,[E,w]=o.useState(!1),R=(0,g.pt)(),S=o.useRef(!1),I=o.useRef(),[P]=(0,c.useLexicalComposerContext)();o.useEffect(()=>{setImmediate(()=>{S.current=!0})},[]),o.useEffect(()=>{P.setEditable(!k)},[k,P]);let M=e=>{t(e)},_=o.useCallback((e,t)=>{e.read(()=>{let e=!(0,g.Un)(t.isComposing(),!0);if(e){var n;M(null===(n=(0,h.$rootTextContent)())||void 0===n?void 0:n.trim())}else M("");w(e)})},[w,M]);o.useEffect(()=>{R?v&&v():y&&y()},[R]),o.useEffect(()=>{S.current&&P.update(()=>{if(R)return;let e=(0,u.$generateHtmlFromNodes)(P,null);e!==n&&(0,g.le)(P,n)})},[n]);let F=()=>{P.focus()};return o.createElement(x,{ref:I,sx:p,onClick:F},o.createElement(A,{sx:m},o.createElement(r.PlainTextPlugin,{contentEditable:o.createElement(l.ContentEditable,{className:"editor-input",spellCheck:!1}),placeholder:o.createElement(C,{placeholder:a}),ErrorBoundary:d()}),o.createElement(s.OnChangePlugin,{onChange:_}),i.map((e,t)=>o.createElement(e,f({key:`plugin${t}`},b)))))}function C({placeholder:e}){return o.createElement(b,{className:"editor-placeholder"},e)}var w=n(53579);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function S({handleSubmit:e,isMobile:t}){let[n]=(0,c.useLexicalComposerContext)();return o.useLayoutEffect(()=>n.registerCommand(w.KEY_ENTER_COMMAND,o=>!t&&!!e&&(null!==o&&(o.preventDefault(),o.shiftKey)?n.dispatchCommand(w.INSERT_PARAGRAPH_COMMAND,void 0):(e(),!0)),w.COMMAND_PRIORITY_CRITICAL),[n,e,t]),null}function I({handleCancel:e}){let[t]=(0,c.useLexicalComposerContext)();return o.useLayoutEffect(()=>t.registerCommand(w.KEY_ESCAPE_COMMAND,t=>!!e&&(null!==t&&t.preventDefault(),e(),!0),w.COMMAND_PRIORITY_CRITICAL),[t,e]),null}function P(e){let{pluginsProps:t,initEditorConfig:n={}}=e;return o.createElement(k,R({},e,{initEditorConfig:{...n},pluginsProps:t,plugins:[()=>o.createElement(S,{key:"enter-submit",handleSubmit:e.handleSubmit,isMobile:e.isMobile}),()=>o.createElement(I,{key:"esc",handleCancel:e.handleCancel})]}))}},17511(e,t,n){n.d(t,{A:()=>u});var o=n(91557),i=n(40515),r=n(3556),l=n(63461),a=n(96540);let d=(0,r.Ay)(l.A,{name:"storyButtonAddLinkExpand",slot:"root"})(({theme:e})=>({width:"40px",height:"40px",color:e.palette.text.primary,backgroundColor:e.palette.background.default,"&:hover":{backgroundColor:e.palette.background.default},"& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightSemiBold},marginBottom:e.spacing(2)})),s=e=>{let{dialogBackend:t}=(0,o.PCX)(),n=()=>{t.present({component:"story.dialog.addExpandLink",props:e})};return a.createElement(d,{onClick:n},a.createElement(i.s4,{icon:"ico-link"}))},u=s},56903(e,t,n){n.d(t,{A:()=>q});var o=n(91557),i=n(44562),r=n(85332),l=n(3556),a=n(60780),d=n(8051),s=n(2491),u=n(87773),c=n(58156),p=n.n(c),m=n(62193),g=n.n(m),h=n(2404),f=n.n(h),v=n(90179),y=n.n(v),b=n(96540),x=n(13718),A=n(55949),k=n(88316),E=n(40515),C=n(26287),w=n(5605),R=n(60596),S=n(2929);let I=(0,C.Ay)({resolved:{},chunkName:()=>"reactDraggable",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("reactDraggable").then(n.t.bind(n,55794,23)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>55794}),P="StoryReview",M=(0,l.Ay)("div",{name:P,slot:"RootStyled"})(({theme:e})=>({height:"100%",width:"100%",position:"relative",display:"flex",flexDirection:"column",background:"#000",paddingTop:e.spacing(1),alignItems:"center"})),_=(0,l.Ay)("div",{name:P,slot:"root"})(({theme:e})=>({position:"relative",margin:"auto",height:"calc(100%)",alignItems:"center",display:"flex",justifyContent:"center",borderRadius:e.shape.borderRadius,flex:1,minHeight:0})),F=(0,l.Ay)("div",{name:P,slot:"StoryImageContainer",shouldForwardProp:e=>"width"!==e&&"height"!==e})(({theme:e,height:t,width:n})=>({height:t||"100%",width:n||"390px",position:"relative",overflow:"hidden",borderRadius:e.shape.borderRadius})),z=(0,l.Ay)(a.A,{name:P,slot:"backpage"})(({theme:e})=>({position:"absolute",top:16,left:8,color:"#fff",fontSize:e.spacing(3),minWidth:e.spacing(5),padding:0,margin:0,zIndex:2,"& span.ico":{fontWeight:e.typography.fontWeightBold}})),B=(0,l.Ay)("div",{name:P,slot:"StoryImage"})(({theme:e})=>({height:"100%",width:"100%"})),j=(0,l.Ay)("div",{name:P,slot:"EditorBlockStyled"})(({theme:e})=>({"& .editor-input":{minWidth:"16px"}})),T=(0,l.Ay)("div",{name:P,slot:"InputContent",shouldForwardProp:e=>"fontFamily"!==e&&"fontSize"!==e&&"width"!==e})(({theme:e,fontFamily:t,fontSize:n,width:o})=>({height:"100%",overflow:"hidden",position:"absolute",left:0,top:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",zIndex:1,fontWeight:e.typography.fontWeightRegular,fontSize:n?`${n}px !important`:"28px !important",wordBreak:"break-word",wordWrap:"break-word",color:"#fff","& a":{color:"#fff"},...t&&{fontFamily:t},"& .editor-placeholder":{overflow:"inherit",justifyContent:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#fff",height:"100%",width:o||"100vh"}})),W=(0,l.Ay)(d.A,{name:P,slot:"FooterStyled",shouldForwardProp:e=>"width"!==e&&"isMinHeight"!==e})(({theme:e,width:t,isMinHeight:n})=>({minHeight:"80px",zIndex:2,display:"flex",justifyContent:"space-between",alignItems:"center",background:"#000",padding:e.spacing(0,1),...t&&{width:t},...n&&{maxWidth:i.G9}})),O=(0,l.Ay)(d.A,{name:P,slot:"PrivacyStyled"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#fff",fontSize:e.mixins.pxToRem(20)})),H=(0,l.Ay)(d.A,{name:P,slot:"ButtonSubmit"})(({theme:e})=>({})),L=(0,l.Ay)(E.s4,{shouldForwardProp:e=>"open"!==e})(({theme:e,open:t})=>({marginBottom:e.spacing(1),...t&&{color:e.palette.primary.main}})),D=(0,l.Ay)(d.A,{name:P,slot:"ContentWrapper"})(({theme:e})=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flex:1,minHeight:0,position:"relative"})),N=(0,l.Ay)("div",{name:P,slot:"BackgroundBlur"})(({theme:e})=>({filter:"blur(30px)",WebkitFilter:"blur(30px)",overflow:"hidden",padding:e.spacing(1.5),height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",transform:"scale(2)"})),$=(0,l.Ay)(d.A,{name:P})(({theme:e})=>({position:"absolute",top:0,cursor:"move"})),X=(0,l.Ay)("img",{name:P,slot:"ImageUrl"})(({theme:e})=>({pointerEvents:"none",height:"100%",width:"100%"}));function Y(e,t=["extra","text"]){let n=y()({...Object.assign({},e)},t);return Object.fromEntries(Object.entries(n).filter(e=>e))}let q=function(){var e;let{i18n:t,eventCenter:n,dispatch:l,usePageParams:a,toastBackend:d}=(0,o.PCX)(),c=a(),[m,h]=b.useState({}),[v,y]=b.useState(!1),[C,P]=b.useState(),q=b.useRef(),[G,K]=b.useState([]),[U,V]=b.useState([]),[Z,Q]=b.useState(null),J=(0,s.A)("(max-height:667px)"),[ee,et]=b.useState(!1),{checkSetStatus:en,setIsDirty:eo,isSubmitting:ei,setIsSubmitting:er}=(0,r.Ay)(),el=b.useRef({}),ea=b.useRef(!0),[ed,es]=(0,r.Uf)(q),eu=b.useRef(!1),ec=b.useRef(),ep=b.useRef(),em=b.useRef(),[eg,eh]=b.useState({width:0,height:0}),[ef,ev]=b.useState(),[ey,eb]=b.useState({x:0,y:0}),[ex,eA]=b.useState(""),ek=b.useRef({}),eE=e=>(0,S.A)(e).trim(),eC=null===(e=em.current)||void 0===e?void 0:e.getBoundingClientRect(),ew=(null==eC?void 0:eC.height)/i.S1,eR=e=>{eA(e),h({...m,text:e})},eS=e=>{h({...m,...e})},eI=()=>{var e,t;let n=null===(e=ep.current)||void 0===e?void 0:e.getBoundingClientRect(),o=null===(t=em.current)||void 0===t?void 0:t.getBoundingClientRect(),i=(null==o?void 0:o.width)/2-(null==n?void 0:n.width)/2,r=(null==o?void 0:o.height)/2-(null==n?void 0:n.height)/2,l=100*i/ed,a=100*r/es;return{top:`${parseFloat(null==a?void 0:a.toFixed(2))}%`||0,left:`${parseFloat(null==l?void 0:l.toFixed(2))}%`||0}},eP=e=>{if(g()(e))return{x:0,y:0};let t=(null==e?void 0:e.x)*100/ed,n=(null==e?void 0:e.y)*100/es;return{top:`${parseFloat(null==n?void 0:n.toFixed(2))}%`||0,left:`${parseFloat(null==t?void 0:t.toFixed(2))}%`||0}},{background:eM,fontFamily:e_,size:eF}=m||{};b.useEffect(()=>{eo(!!eE(ex)||!f()(el.current,Y(m)))},[m,ex]),b.useEffect(()=>{var e;let t=null===(e=ep.current)||void 0===e?void 0:e.getBoundingClientRect(),n=(null==t?void 0:t.width)?`${t.width/(ed-2)*100}%`:"100%",o=[{text:null==m?void 0:m.text,fontFamily:e_,fontSize:eF,color:i.OT,textAlign:"center",width:n,transform:{rotation:0,scale:1,position:eI()}}];h({...m,extra:{isBrowser:!0,transform:{position:eP(ey),rotation:0,scale:eg.width/(null==ef?void 0:ef.width)},storyHeight:es,texts:o,size:{width:null==ef?void 0:ef.width,height:null==ef?void 0:ef.height}}})},[es,null==m?void 0:m.text,e_,eF,eg,ef,ey,ed,ep.current]);let ez=b.useCallback(()=>{setImmediate(()=>{var e,t;return null===(e=ek.current)||void 0===e?void 0:null===(t=e.editor)||void 0===t?void 0:t.focus()})},[]),eB=()=>{var e,t;if(!ec.current)return;let n=(null===(e=ec.current)||void 0===e?void 0:e.naturalWidth)||0,o=(null===(t=ec.current)||void 0===t?void 0:t.naturalHeight)||0,i=n/ed,r={width:parseInt(n/i),height:parseInt(o/i)},l={x:0,y:(es-r.height)/2};eb(l),ev({width:n,height:o}),eh(r)};b.useEffect(()=>{let e=n.on(i.ck,e=>{var t,n,o;let i=p()(e,"values");if(P(e),g()(i))return;let r=p()(e,"schema.elements.content.elements.basic.elements.expand_link");Q(null==r?void 0:r.name);let l=p()(e,"schema.elements.content.elements.basic.elements.font_style.options");K(null!=l?l:[]);let a=p()(e,"schema.elements.content.elements.basic.elements.background_id.options");V(a);let d=null==a?void 0:null===(t=a[0])||void 0===t?void 0:t.value,s=null==a?void 0:null===(n=a[0])||void 0===n?void 0:n.id;eu.current||(d=(null===(o=a.find(e=>e.id===i.background_id))||void 0===o?void 0:o.value)||d,s=i.background_id||s,eu.current=!0);let u={...Object.assign({},{...i,...m,fontFamily:(null==m?void 0:m.fontFamily)||(null==i?void 0:i.font_style),background:(null==m?void 0:m.background)||d,background_id:(null==m?void 0:m.background_id)||s})};ea.current&&(ea.current=!1,el.current=Y(u)),h(u)});return()=>{n.off(i.ck,e),eu.current=!1}},[null==m?void 0:m.background,null==m?void 0:m.background_id,null==m?void 0:m.fontFamily,null==m?void 0:m.size,null==m?void 0:m.expand_link]);let ej=()=>{en()},eT=b.useCallback(()=>{er(!1),eo(!1)},[]),eW=()=>{if(g()(null==m?void 0:m.text)){d.error(t.formatMessage({id:"text_required_field"}));return}er(!0),l({type:"story/submitFormAdd",payload:{...C,formSchema:null==C?void 0:C.schema,values:m,pageParams:c},meta:{onSuccess:eT}})},eO=()=>{y(e=>!e),v?et(!1):et(!0)},eH=(null==eg?void 0:eg.width)?eg.width:"100%",eL=(null==eg?void 0:eg.height)?eg.height:"100%",eD=b.useMemo(()=>J?"auto":window.screen.width<es?ed:i.G9,[J,es,ed]),eN=b.useMemo(()=>!J||window.screen.width<es?ed:i.G9,[J,es,ed]);return b.createElement(M,null,b.createElement(k.bQ,null),ei?b.createElement(k.Cj,null):null,b.createElement(D,{style:{width:eD,height:es||"100%"}},b.createElement(_,{ref:q},b.createElement(F,{height:es,width:ed},b.createElement(z,{onClick:ej},b.createElement(E.s4,{icon:"ico-angle-left"})),b.createElement(B,{ref:em,id:i.Yo},b.createElement(N,{style:{backgroundImage:`url(${eM})`}}),b.createElement(I,{key:eM,position:ey,disabled:!0},b.createElement($,null,b.createElement(X,{key:eM,ref:ec,onLoad:eB,src:eM,style:{width:eH,height:eL}}))),ee?null:b.createElement(T,{width:ed,fontSize:(eF||i.FV)*ew,fontFamily:e_,onClick:ez},b.createElement(j,{ref:ep},b.createElement(R.A,{onChange:eR,value:ex,editorRef:ek,placeholder:t.formatMessage({id:"start_typing"}),sx:{border:0,padding:"6px 12px",background:"none",overflow:"visible",minHeight:"32px"}})))),b.createElement(A.A,{item:m,updateItem:eS,optionFontStyle:G,optionBackground:U,hiddenActionText:ee,setHiddenActionText:et,nameFieldExpandLink:Z}),(null==m?void 0:m.expand_link)&&b.createElement(w.A,{link:null==m?void 0:m.expand_link}))),ei?null:b.createElement(k.S1,{open:v,setOpen:y,setHiddenActionText:et,isMinHeight:J})),b.createElement(W,{isMinHeight:J,width:eN},b.createElement(O,{onClick:eO},b.createElement(L,{icon:"ico-gear-o",color:"primary",open:v}),b.createElement(u.A,{component:"span",variant:"body2"},t.formatMessage({id:"privacy_settings"}))),b.createElement(H,null,b.createElement(x.A,{loading:ei,disabled:ei,onClick:eW,variant:"contained",color:"primary",size:"medium",type:"submit",role:"button"},t.formatMessage({id:"create"})))))}},72973(e,t,n){n.r(t),n.d(t,{default:()=>r});var o=n(91557),i=n(56903);let r=(0,o.WvA)({name:"StoryReviewMobile",extendBlock:i.A,defaults:{blockLayout:"Review Story Mobile"}})},55949(e,t,n){n.d(t,{A:()=>H});var o=n(44562),i=n(3556),r=n(8051),l=n(14931),a=n(18799),d=n(63461),s=n(97763),u=n(24099),c=n(15292),p=n(87773),m=n(96540),g=n(301),h=n(40515),f=n(84680),v=n(91557),y=n(62193),b=n.n(y),x=n(17511);let A="BackgroundPicker",k=(0,i.Ay)(r.A)(({theme:e})=>({width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0})),E=(0,i.Ay)(r.A,{name:"MuiButton",slot:"ColorPickerAdornment"})(({theme:e,background:t})=>({width:"40px",height:"40px",borderRadius:e.shape.borderRadius,backgroundImage:`url(${t})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"," span":{color:"#000",fontSize:e.mixins.pxToRem(24)}})),C=(0,i.Ay)(r.A)(({theme:e})=>({position:"absolute",top:"20%",left:0,zIndex:2})),w=(0,i.Ay)(l.Ay)(({theme:e})=>({color:"#fff","& .MuiSlider-rail":{width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"200px solid currentColor",backgroundColor:"transparent",borderRadius:0,opacity:"0.75"},"& .MuiSlider-track":{border:"none",backgroundColor:"transparent"}})),R=(0,i.Ay)(a.A)(({theme:e})=>({position:"absolute",bottom:0,width:"100%",height:"75%",borderRadius:0,backgroundColor:e.palette.background.paper,padding:e.spacing(2),paddingTop:e.spacing(2.5),display:"flex",flexDirection:"column",zIndex:99})),S=(0,i.Ay)(r.A,{name:A,slot:"HeaderBlock"})(({theme:e})=>({padding:e.spacing(2),paddingTop:0,display:"flex",alignItems:"center",justifyContent:"center"})),I=(0,i.Ay)(r.A,{name:A,slot:"HeaderTitle"})(()=>({})),P=(0,i.Ay)(r.A,{name:A,slot:"ContentBlock"})(({theme:e})=>({borderTop:e.mixins.border("secondary"),overflow:"hidden"})),M=(0,i.Ay)(d.A,{name:A})(()=>({marginRight:"auto",transform:"translate(4px,0)",position:"absolute",right:"16px"})),_=(0,i.Ay)(r.A,{slot:"ContetnWrapper"})(({theme:e})=>({paddingTop:e.spacing(2)})),F=(0,i.Ay)(r.A,{slot:"ContetnWrapper"})(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap"})),z=(0,i.Ay)(r.A,{slot:"ImageItem",shouldForwardProp:e=>"active"!==e&&"disabled"!==e})(({theme:e,active:t,disabled:n})=>({height:"40px",width:"40px",borderRadius:e.shape.borderRadius/2,margin:e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center",...t&&{"&:before":{content:'""',position:"absolute",height:"42px",width:"42px",border:e.mixins.border("primary"),borderWidth:"3px",..."dark"===e.palette.mode&&{borderColor:"#fff"},borderRadius:e.shape.borderRadius/2}},backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",cursor:n?"not-allowed":"pointer"})),B=(0,i.Ay)(r.A)(({theme:e})=>({position:"absolute",top:16,right:16,zIndex:2,"& > div":{marginBottom:e.spacing(2)}})),j=(0,i.Ay)(r.A)(({theme:e})=>({zIndex:2,border:e.mixins.border("secondary"),borderRadius:e.shape.borderRadius})),T=(0,i.Ay)(r.A)(({theme:e})=>({position:"absolute",bottom:0,right:0,width:"100%",height:"100%",zIndex:98}));function W(e){let{children:t,value:n}=e||{};return m.createElement(s.A,{enterTouchDelay:0,placement:"top",title:n},t)}let O=({item:e,updateItem:t,optionFontStyle:n,optionBackground:i=[],hiddenActionText:r=!1,setHiddenActionText:l=()=>{},nameFieldExpandLink:a})=>{var d;let{i18n:s}=(0,v.PCX)(),[y,A]=m.useState(!1),O=e=>{t&&t({size:e.target.value})},H=e=>{t&&t({background_id:null==e?void 0:e.id,background:null==e?void 0:e.value})},L=null===(d=null==i?void 0:i.find(t=>t.id===(null==e?void 0:e.background_id)))||void 0===d?void 0:d.label;return m.createElement(k,null,r||y?null:m.createElement(C,null,m.createElement(u.A,{direction:"row",sx:{height:200},alignItems:"center"},m.createElement(w,{orientation:"vertical",valueLabelDisplay:"auto",slots:{valueLabel:W},"aria-label":"custom thumb label",defaultValue:12,value:e.size||o.FV,onChange:O,min:12,max:80}))),m.createElement(B,null,b()(i)?null:m.createElement(j,null,m.createElement(E,{background:L,onClick(){A(!0),l(!0)}})),r||y||b()(n)?null:m.createElement(g.A,{option:n,updateItem:t,item:e}),a&&m.createElement(x.A,{updateItem:t,item:e,nameField:a})),m.createElement(c.A,{in:y,orientation:"vertical"},m.createElement(T,null,m.createElement(R,{"data-testid":"content-viewDetail"},m.createElement(S,null,m.createElement(I,null,m.createElement(p.A,{variant:"h4",color:"text.primary"},s.formatMessage({id:"background"}))),m.createElement(M,{size:"small",onClick(){A(!1),l(!1)},"data-testid":"buttonClose",role:"button"},m.createElement(h.s4,{icon:"ico-close"}))),m.createElement(P,null,m.createElement(f.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"100%"},m.createElement(_,null,m.createElement(F,null,i.map((t,n)=>m.createElement(z,{key:t.id,active:t.id===(null==e?void 0:e.background_id),onClick:()=>H(t),style:{backgroundImage:`url(${null==t?void 0:t.label})`}}))))))))))},H=O},301(e,t,n){n.d(t,{A:()=>g});var o=n(91557),i=n(3556),r=n(8051),l=n(63009),a=n(57660),d=n(62193),s=n.n(d),u=n(96540);let c=(0,i.Ay)(r.A)(({theme:e})=>({width:"40px",height:"40px",padding:e.spacing(1.25),borderRadius:"50%",backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center","& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightSemiBold}})),p=(0,i.Ay)(r.A)(({theme:e})=>({})),m=e=>{let{i18n:t}=(0,o.PCX)(),[n,i]=u.useState(!1),d=u.useRef(),{option:m,updateItem:g,item:h}=e||{};if(s()(m))return;let f=e=>{g&&g({fontFamily:e.value}),i(!1)};return u.createElement(u.Fragment,null,u.createElement(p,{ref:d},u.createElement(c,{onClick:()=>i(!0)},u.createElement("span",null,t.formatMessage({id:"Aa"})))),u.createElement(l.Ay,{disablePortal:!1,open:n,anchorEl:d.current,onClose:()=>i(!1),style:{zIndex:9999},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},u.createElement(r.A,{width:160},m.map(e=>u.createElement(a.A,{value:e.value,key:e.value,onClick:()=>f(e)},u.createElement(r.A,{sx:(null==h?void 0:h.fontFamily)===e.value&&{fontWeight:"bold"}},e.label))))))},g=m},5605(e,t,n){n.d(t,{A:()=>s});var o=n(91557),i=n(3556),r=n(96540),l=n(91262);let a=(0,i.Ay)(o.vxq,{name:"seeMoreLinkStory",slot:"SeeMoreLink",shouldForwardProp:e=>"isPreview"!==e})(({theme:e,isPreview:t})=>({...t&&{position:"absolute",left:"50%",bottom:16,transform:"translate(-50%, 0)"},color:"#fff",borderColor:"#fff",borderRadius:e.spacing(3),zIndex:3})),d=({link:e,sx:t,variant:n="outlined",fire:i,isPreview:d=!0})=>{let{i18n:s}=(0,o.PCX)();if(!e)return;let u=()=>{i&&i({type:"setForcePause",payload:l.ZR.No})},c=()=>{i&&i({type:"setForcePause",payload:l.ZR.Pause})};return r.createElement(a,{isPreview:d,to:e,variant:n,sx:t,onClick:c,onCancel:u},s.formatMessage({id:"visit_link"}))},s=d}}]);