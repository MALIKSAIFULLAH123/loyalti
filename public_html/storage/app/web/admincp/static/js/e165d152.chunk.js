"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-admincp-blocks-AdminSideMenu-AsSubMenu"],{66599(e,t,n){n.r(t),n.d(t,{default:()=>x});var o=n(91557),l=n(40515),a=n(96540),i=n(67725),r=n(3556),c=n(8051),m=n(18799),u=n(2491),s=n(83445),d=n(87773),p=n(84680),g=n(42877),b=n.n(g);let f="AdminCpAsSubMenu",h="#354661",A=(0,r.Ay)(c.A,{name:f,slot:"MenuItemStyled",shouldForwardProp:e=>"menuItemMinimize"!==e&&"menuItemMinimizeOpen"!==e&&"menuItemActive"!==e})(({theme:e,menuItemMinimize:t,menuItemMinimizeOpen:n,menuItemActive:o})=>({fontSize:14,display:"flex",alignItems:"center",minHeight:24,justifyContent:"center",cursor:"pointer",userSelect:"none",position:"relative","&:before":{content:'""',position:"absolute",top:0,bottom:0,left:0,width:"3px",background:"transparent"},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:"rgb(238, 238, 238)","&:before":{content:'""',position:"absolute",top:0,bottom:0,left:0,width:"3px",background:e.palette.common.white}},...t&&{"& span.ico":{margin:"0 !important",textAlign:"center"},"& > a":{padding:e.spacing(1.5)}},...n&&{"&:before":{background:e.palette.common.white},"& span.ico":{color:e.palette.common.white}},...o&&{backgroundColor:h,color:e.palette.common.white,"& > a":{color:e.palette.common.white},...t&&{backgroundColor:`${h} !important`,color:"rgb(255, 255, 255)","& span.ico":{color:"rgb(255, 255, 255) !important",textAlign:"center"}}}})),k=(0,r.Ay)(c.A,{name:f,slot:"MenuItemLink"})(({theme:e})=>({padding:e.spacing(1.5),flex:1,display:"flex",alignItems:"center",lineHeight:e.spacing(3),minHeight:48,color:"rgba(238,238,238,0.7)",cursor:"pointer","&:hover":{"& span.ico":{color:e.palette.common.white},color:e.palette.common.white}})),E=(0,r.Ay)(l.s4,{name:f,slot:"MenuItemIcon"})(({theme:e})=>({width:24,fontSize:18,color:"rgb(238, 238, 238,0.6)",display:"inline-block",textAlign:"center"})),y=(0,r.Ay)(m.A,{name:f,slot:"SubMenu"})(({theme:e})=>({background:"rgb(35, 48, 68)",width:"208px",borderRadius:0})),M=(0,r.Ay)(o.Wti,{name:f,slot:"SubMenuItemLink",shouldForwardProp:e=>"minimize"!==e})(({theme:e,minimize:t})=>({padding:e.spacing(1.5,2),color:"rgba(238, 238, 238, 0.7)",fontSize:13,display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:e.palette.common.white},...!t&&{padding:e.spacing(1.5,2,1.5,6)}})),w=(0,r.Ay)(c.A,{name:f,slot:"MenuItemLinkPoper"})(({theme:e})=>({padding:e.spacing(1.5,2),color:"rgba(238, 238, 238, 0.7)",fontSize:13,display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)",color:e.palette.common.white}})),I=(0,r.Ay)(c.A,{name:f,slot:"SubMenuItem",shouldForwardProp:e=>"subMenuItemActive"!==e})(({theme:e,subMenuItemActive:t})=>({...t&&{backgroundColor:h,color:e.palette.common.white,fontWeight:"bold","& > a":{color:e.palette.common.white}}})),v=(0,r.Ay)(l.s4,{name:f,slot:"MenuItemIcon"})(({theme:e})=>({marginLeft:"auto",color:"rgb(238, 238, 238,0.6)",fontSize:13}));function x(e){let{item:t,pathname:n,active:r,minimize:m,activeHover:g,handlePopoverClose:f,handlePopoverOpen:h}=e,x=a.useRef(),{useSession:S,getAcl:z,getSetting:C,useTheme:L}=(0,o.PCX)(),[H,P]=a.useState(r),_=S(),R=z(),F=C(),W=a.useRef(),O=L(),$=a.useRef(),j=()=>P(e=>!e),q=(0,u.A)(O.breakpoints.up("md")),B=(0,o.zy2)();a.useEffect(()=>{q||f()},[B.pathname,q]),(0,a.useEffect)(()=>{P(r)},[r]);let U=(0,i.Ue)(null==t?void 0:t.items,{session:_,acl:R,setting:F}),X=m&&g;if(!(null==U?void 0:U.length))return null;let D=(null==t?void 0:t.order_by)?b()(U,[null==t?void 0:t.order_by]):U;return a.createElement(a.Fragment,null,a.createElement(A,{menuItemMinimize:m,menuItemMinimizeOpen:X,menuItemActive:r&&m,onClick:m?h:j,"data-testid":t.testid||t.name,onMouseEnter:h,onMouseLeave:f,ref:x},a.createElement(k,null,a.createElement(E,{icon:t.icon}),m?null:a.createElement("span",{style:{marginLeft:8}},t.label),m?null:a.createElement(v,{icon:H?"ico-angle-up":"ico-angle-down"}))),H&&!m?a.createElement(c.A,null,D.map((e,t)=>a.createElement(I,{subMenuItemActive:r&&e.to===n,key:t.toString(),onClick:null},a.createElement(M,{minimize:m,to:e.to,"data-testid":e.testid||e.name,target:e.target},a.createElement("span",null,e.label))))):null,X?a.createElement(l.qB,{onClickAway:f,excludeRef:x},a.createElement(s.A,{id:`k${t.name}`,open:X,placement:"right-start",anchorEl:x.current,style:{zIndex:O.zIndex.modal},onMouseEnter:h},a.createElement(y,{ref:W},a.createElement(p.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"70vh",ref:$},a.createElement("div",{onMouseLeave:f},a.createElement(w,null,a.createElement(d.A,{fontWeight:600,sx:{color:"#fff !important"}},t.label)),a.createElement("div",null,D.map((e,t)=>a.createElement(I,{subMenuItemActive:r&&e.to===n,key:t.toString(),onClick:null},a.createElement(M,{minimize:m,to:e.to,"data-testid":e.testid||e.name,target:e.target},a.createElement("span",null,e.label)))))))))):null)}}}]);