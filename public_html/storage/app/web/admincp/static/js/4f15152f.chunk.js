"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-emoney-blocks-Dashboard-Block"],{29243(e,l,t){t.r(l),t.d(l,{default:()=>R});var a=t(91557),n=t(3556),r=t(8051),i=t(97763),o=t(67131),c=t(87773),m=t(84680),d=t(96540),s=t(2677),u=t(67725),p=t(5640),E=t(40515),v=t(62193),b=t.n(v);function g(){return(g=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}let x=(0,n.Ay)(r.A)(({theme:e})=>({fontSize:e.mixins.pxToRem(20),fontWeight:"bold",marginBottom:e.spacing(1)})),y=(0,n.Ay)(r.A)(({theme:e})=>({fontSize:e.mixins.pxToRem(40),marginBottom:e.spacing(2)})),f=(0,n.Ay)(r.A,{name:"Emoney",slot:"balances",overridesResolver:(e,l)=>[l.balances]})(({theme:e})=>({fontSize:e.mixins.pxToRem(16),background:e.palette.border.secondary,padding:e.spacing(2),width:"100%",maxWidth:"400px",borderRadius:e.spacing(1),marginBottom:e.spacing(2),display:"flex",flexDirection:"column",gap:e.spacing(1)})),_=(0,n.Ay)(r.A)(({theme:e})=>({display:"flex"})),A=(0,n.Ay)(r.A)(({theme:e})=>({flex:1,borderBottom:"2px dotted",margin:e.spacing(0,.5,.5,.5)})),w=(0,n.Ay)(r.A)(({theme:e})=>({display:"flex",flexFlow:"wrap",[e.breakpoints.down("sm")]:{flexDirection:"column"}})),h=(0,n.Ay)(r.A)(({theme:e})=>({whiteSpace:"nowrap",marginBottom:e.spacing(2)})),k=(0,n.Ay)(r.A,{name:"Emoney",slot:"itemBalance",overridesResolver:(e,l)=>[l.itemBalance]})(({theme:e})=>({display:"flex",flexDirection:"column",fontSize:e.mixins.pxToRem(18),width:"auto",paddingRight:e.spacing(2),[e.breakpoints.up("lg")]:{width:"50%"},[e.breakpoints.down("lg")]:{width:"50%"},[e.breakpoints.down("md")]:{width:"100%"},[e.breakpoints.down("sm")]:{paddingRight:e.spacing(0)}})),B=({data:e})=>{let{i18n:l}=(0,a.PCX)();return b()(e)?null:d.createElement(r.A,null,e.map(e=>d.createElement(r.A,{key:e.price},l.formatMessage({id:"conversion_rate"},{base_currency:e.base_currency,price:e.price,target_currency:e.target_currency}))))};function M({title:e,emptyPage:l="core.block.no_results",...t}){let{useFetchDetail:n,i18n:v,useSession:M}=(0,a.PCX)(),{user:R}=M(),D=(0,a.IgF)(p.fT,p.CE,"viewItem"),[S,T,C]=n({dataSource:{apiUrl:(0,u.vi)(D.apiUrl,R)},ttl:36e6,cachePrefix:"dashboard",cacheKey:"ewallet",forceReload:!1});return d.createElement(m.eB,g({testid:"activityPointBlock"},t),d.createElement(m.Tw,{title:e}),d.createElement(m.tD,null,d.createElement(r.A,{p:{xs:2,md:4}},d.createElement(s.A,{loading:T,error:C},S&&d.createElement(d.Fragment,null,d.createElement(x,null,v.formatMessage({id:"balance"})),d.createElement(y,null,null==S?void 0:S.user_balance),d.createElement(r.A,{marginBottom:2,sx:{display:"inline-block"}},null==S?void 0:S.balance_description,!b()(null==S?void 0:S.exchange_rates)&&d.createElement(i.A,{title:d.createElement(B,{data:null==S?void 0:S.exchange_rates})},d.createElement(E.s4,{sx:{ml:1},icon:"ico-question-circle-o"}))),d.createElement(r.A,{mb:2},v.formatMessage({id:"ewallet_available"})),d.createElement(f,null,null==S?void 0:S.balances.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value))),d.createElement(o.A,{sx:{mb:2}}),d.createElement(w,null,d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"total_amount_in"}))),d.createElement(f,null,null==S?void 0:S.earned.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"withdrawn"}))),d.createElement(f,null,null==S?void 0:S.withdraw.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"pending_withdrawal"}))),d.createElement(f,null,null==S?void 0:S.pending_withdraw.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"pending_amount_in"}))),d.createElement(f,null,null==S?void 0:S.pending_transaction.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"purchased"}))),d.createElement(f,null,null==S?void 0:S.purchased.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"ewallet_sent_by_admin"}))),d.createElement(f,null,null==S?void 0:S.sent_by_admin.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value)))),d.createElement(k,null,d.createElement(h,null,d.createElement(c.A,{variant:"body1"},v.formatMessage({id:"ewallet_reduced_by_admin"}))),d.createElement(f,null,null==S?void 0:S.reduced_by_admin.map((e,l)=>d.createElement(_,{key:l},null==e?void 0:e.label,d.createElement(A,{sx:{flex:1}}),null==e?void 0:e.value))))))))))}M.displayName="Ewallet_Dashboard";let R=(0,a.WvA)({extendBlock:M})}}]);