"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-form-elements-AttachPollField-AttachPollField"],{73384(e,t,l){l.r(t),l.d(t,{default:()=>f});var a=l(91557),r=l(30261),n=l(96540),o=l(59262),i=l(3556),d=l(60780),c=l(20687),s=l(8051),u=l(84058),m=l.n(u),h=l(40515);let v=(0,i.Ay)(d.A,{name:"AttachPollButton"})(()=>({fontWeight:"bold"})),p=({config:e,name:t,disabled:l,formik:i})=>{var d;let{jsxBackend:u,dialogBackend:p,i18n:f}=(0,a.PCX)(),{disabled:A,formUrl:b,fullWidth:g=!0,margin:E="normal",size:P}=e,[k,C,{setValue:_}]=(0,r.Mt)(null!=t?t:"AttachPollField"),w=e.placeholder||f.formatMessage({id:"attach_poll"}),x=n.useCallback(()=>{p.present({component:"poll.dialog.AttachPollDialog",props:{formUrl:b}}).then(e=>{e&&_(e)})},[p,b,_]),F=null==k?void 0:k.value,S=C.error;return n.createElement(c.A,{fullWidth:g,margin:E,size:P,"data-testid":m()(`field ${t}`)},n.createElement("div",null,n.createElement(v,{variant:"outlined",size:"small",color:"primary","data-testid":m()(`button ${t}`),onClick:x,disabled:A||l||i.isSubmitting||!!F,startIcon:n.createElement(h.s4,{icon:"ico-barchart-o"})},w)),F?n.createElement(s.A,{mt:2},u.render({component:"AttachPollPreview",props:{value:F,formUrl:b,handleRemove:()=>_(null),handleEdit:_}})):null,C.error&&!S?n.createElement(o.A,{error:null===(d=C.error)||void 0===d?void 0:d.toString()}):null)},f=p},59262(e,t,l){l.d(t,{A:()=>i});var a=l(96540),r=l(23805),n=l.n(r);let o=e=>e?n()(e)?o(Object.values(e)[0]):e.toString():null;function i({error:e,className:t="invalid-feedback order-last"}){return e?a.createElement("div",{"data-testid":"error",className:t},o(e)):null}}}]);