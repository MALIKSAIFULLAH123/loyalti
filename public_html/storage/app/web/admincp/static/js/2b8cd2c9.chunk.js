"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-AttachPollPreview"],{19598(e,l,t){t.r(l),t.d(l,{default:()=>b});var n=t(91557),a=t(40515),o=t(8051),i=t(60780),r=t(87773),s=t(3556),d=t(96540),m=t(95093),u=t.n(m),c=t(30261);let p=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),padding:e.spacing(3)})),g=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:e.shape.borderRadius/2,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)}));function b({value:e,formUrl:l,handleEdit:t,handleRemove:s}){var m,b,f;let{i18n:h,dialogBackend:v}=(0,n.PCX)(),_=(0,c.j7)(),x=d.useCallback(()=>{v.confirm({message:h.formatMessage({id:"are_you_sure"})}).then(e=>{e&&s&&s()})},[]),E=()=>{v.present({component:"poll.dialog.AttachPollDialog",props:{initialValues:e,formUrl:l,isEdit:!0}}).then(e=>{e&&t(e)})};if(!e)return null;let{permissions:A}=e,k=null===(b=null==A?void 0:A.can_edit)||void 0===b||b,w=null===(f=null==A?void 0:A.can_delete)||void 0===f||f;return d.createElement(p,null,d.createElement(a.mE,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2}},e.poll_question),d.createElement("div",null,null===(m=e.poll_answers)||void 0===m?void 0:m.map((e,l)=>e.answer?d.createElement(g,{key:l.toString()},e.answer):null)),d.createElement(a.Fu,null,k?d.createElement(i.A,{disabled:null==_?void 0:_.isSubmitting,variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:E},h.formatMessage({id:"edit"})):null,w?d.createElement(i.A,{disabled:null==_?void 0:_.isSubmitting,variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:x},h.formatMessage({id:"remove"})):null),e.poll_close_time&&e.enable_close?d.createElement(o.A,{sx:{mt:2}},d.createElement(r.A,{variant:"body2",color:"text.hint",fontWeight:"bold"},h.formatMessage({id:"expire_on"})," ",u()(e.poll_close_time).format("LLL"))):null)}}}]);