"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["dialog.BgStatusPicker"],{29704(e,t,n){n.r(t),n.d(t,{default:()=>I});var l=n(91557),o=n(73349),r=n(84680),a=n(2491),i=n(8051),c=n(30719),s=n(96540),d=n(87773),u=n(77299),m=n(67725),p=n(3556);let g="BgStatusPicker",b=(0,p.Ay)(i.A,{name:g,slot:"ItemRoot"})(({theme:e})=>({cursor:"pointer",paddingBottom:"60%",position:"relative"})),f=(0,p.Ay)(i.A,{name:g,slot:"ItemBg",shouldForwardProp:e=>"selected"!==e})(({theme:e,selected:t})=>({position:"absolute",left:0,top:0,bottom:0,right:0,display:"block",backgroundSize:"cover","&:before":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",border:"4px solid transparent"},...t&&{"&:before":{borderColor:e.palette.primary.main}}}));function k({item:e,isHide:t,onClick:n,labelLoadmore:l,onClickLoadMore:o,selected:r}){if(t)return null;let a=(0,m.AE)(e.image,"200");return s.createElement(u.Ay,{item:!0,md:2.4,sm:4,xs:6},s.createElement(b,{"data-testid":"itemBackgroundStatus",onClick:o?void 0:n},s.createElement(f,{selected:r,style:{backgroundImage:`url("${a}")`}}),o?s.createElement(i.A,{onClick:o,sx:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.4)",color:"#fff",fontSize:"24px"}},l):null))}function h(e){var t;let{onSelectItem:n,selectedId:l,data:o}=e,r=o.backgrounds.map(e=>null==e?void 0:e.id),[a,c]=s.useState(l&&r.includes(l));return(null==o?void 0:null===(t=o.backgrounds)||void 0===t?void 0:t.length)?s.createElement(i.A,{sx:{"&:not(:last-child)":{mb:3}}},s.createElement(d.A,{variant:"h4",mb:2},null==o?void 0:o.name),s.createElement(u.Ay,{container:!0,spacing:1},o.backgrounds.map((e,t)=>s.createElement(k,{key:e.id.toString(),item:e,onClick:()=>n(e),isHide:!a&&t>=10,selected:l===e.id,onClickLoadMore:!a&&t+1===10&&o.backgrounds.length>10?()=>c(!0):void 0,labelLoadmore:`+${o.backgrounds.length-10}`})))):null}var E=n(56449),v=n.n(E),A=n(71468),y=n(52705);function x(){return s.createElement(i.A,null,s.createElement(y.A,{width:"30%"}),s.createElement(y.A,{height:"80px",width:"100%"}))}var C=n(78516);let S=function({emptyPage:e="core.block.no_results",handleSelect:t,selectedId:n}){let{jsxBackend:o,dispatch:r}=(0,l.PCX)(),{collections:a,ended:c,loading:d}=(0,A.d4)(C.T),u=()=>{r({type:"bgstatus/LOAD",payload:{}})};return((0,l.ksV)(()=>{c||d||u()}),s.useEffect(()=>{c||d||u()},[]),!a.length&&c)?o.render({component:e}):s.createElement(i.A,null,v()(a)&&a.map(e=>s.createElement(h,{key:null==e?void 0:e.id.toString(),data:e,onSelectItem:t,selectedId:n})),c?null:s.createElement(x,null))};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function I(e){let{useDialog:t,i18n:n}=(0,l.PCX)(),{dialogProps:d,setDialogValue:u,closeDialog:m}=t(),{onSelectItem:p,selectedId:g}=e,b=(0,c.A)(),f=(0,a.A)(b.breakpoints.down("sm")),k=e=>{p&&p(e),u(e),m()};return s.createElement(o.lG,w({maxWidth:"sm",fullWidth:!0},d),s.createElement(o.L3,{enableBack:!0,disableClose:!0},n.formatMessage({id:"select_background_status"})),s.createElement(o.Cf,{variant:"fitScroll"},s.createElement(r.P,w({},f?{autoHeightMax:"none"}:{}),s.createElement(i.A,{sx:{p:2}},s.createElement(S,{handleSelect:k,selectedId:g})))))}}}]);