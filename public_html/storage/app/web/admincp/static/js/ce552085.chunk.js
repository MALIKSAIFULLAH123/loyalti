"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["comment"],{84307(e,t,r){r.r(t),r.d(t,{default:()=>f});var l=r(96540),i=r(91557),n=r(40515),a=r(8051),o=r(56525),c=r(85838),s=r(1813);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}let u=(0,o.A)(e=>(0,c.A)({item:{display:"block"},itemOuter:{display:"flex",borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),backgroundColor:e.mixins.backgroundColor("paper"),overflow:"hidden"},title:{textDecoration:"none","& a":{color:e.palette.text.primary,"& h2":{fontWeight:e.typography.fontWeightBold}}},description:{color:e.palette.text.secondary,"& p":{margin:0},"& img":{maxWidth:"100%"}},subInfo:{},boxLink:{flex:1,display:"flex","&:hover":{textDecoration:"none!important"},overflow:"hidden"},itemInner:{flex:1,minWidth:0,padding:e.spacing(0,2),display:"flex",flexDirection:"column",alignSelf:"center"}}),{name:"FeedEmbedComment"}),d=e=>{let{title:t,maxLinesTitle:r=1,short_description:o,description:c,maxLinesDescription:d=2,link:p,host:h}=e,f=u();return l.createElement(s.A,m({},e),l.createElement(i.N_E,m({},h?{to:{pathname:p},target:"_blank"}:{to:p},{className:f.boxLink}),l.createElement(a.A,{className:f.itemInner,"data-testid":"embedview"},l.createElement(a.A,{className:f.title,mb:1,fontWeight:600},l.createElement(n.mE,{variant:"h4",lines:r},t)),l.createElement(a.A,{className:f.description},l.createElement(n.mE,{variant:"body1",lines:d},null!=o?o:c)))))};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}let h=e=>l.createElement(d,p({variant:"list",widthImage:"90px",mediaRatio:"11"},e)),f=h},1813(e,t,r){r.d(t,{A:()=>u});var l=r(40515),i=r(67725),n=r(56525),a=r(85838),o=r(20053),c=r(96540);let s=(0,n.A)(e=>(0,a.A)({item:{display:"block",marginBottom:e.spacing(2)},itemOuter:{display:"flex",borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),overflow:"hidden"},media:{width:e=>`${e.widthImage}`,height:e=>`${e.heightImage}`},grid:{"& $itemOuter":{flexDirection:"column","& $media":{width:"100%"}}},list:{"& $itemOuter":{flexDirection:"row",[e.breakpoints.down("xs")]:{flexDirection:"column","& $media":{width:"100%"}}}}}),{name:"MuiFeedEmbedCardBlock"}),m=e=>{let{image:t,widthImage:r="200px",heightImage:n="auto",mediaRatio:a="11",variant:m="list",children:u,link:d,playerOverlay:p=!1,playerOverlayProps:h={},resource_name:f}=e,g=s({widthImage:r,heightImage:n}),v=!0,_=(0,i.rI)(t);return"blog"===f&&_&&(v=!1),c.createElement("div",{className:(0,o.default)(g.item,g[m])},c.createElement("div",{className:g.itemOuter},v&&t&&c.createElement("div",{className:g.media},c.createElement(l._V,{link:d,src:(0,i.AE)(t),aspectRatio:a,playerOverlay:p,playerOverlayProps:h})),u))},u=m},2168(e,t,r){r.r(t),r.d(t,{default:()=>d});var l=r(8022),i=r(91557),n=r(40515),a=r(3556),o=r(97763),c=r(84058),s=r.n(c),m=r(96540);let u=(0,a.Ay)("div")(({theme:e})=>({fontSize:e.spacing(1.875),padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",minWidth:"28px",color:"light"===e.palette.mode?e.palette.grey["700"]:e.palette.text.primary,cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover,borderRadius:50}})),d=m.memo(function({rid:e,previewRef:t,filesUploadRef:r,control:a}){let{i18n:c}=(0,i.PCX)(),d=m.useRef(),[,,p]=(0,l.A)(),h=()=>{var e,l;if(!d.current.files.length)return;let i=p(d.current.files,!0);i&&(t&&(null===(e=t.current)||void 0===e||e.attachFiles(d.current.files)),(null==r?void 0:r.current)&&(null===(l=r.current)||void 0===l||l.attachFiles(d.current.files)))},f=()=>{d.current.click()};return m.createElement("div",null,m.createElement(o.A,{title:c.formatMessage({id:"send_photo"}),placement:"top"},m.createElement(u,{"data-testid":s()("_chat attachment composer"),onClick:f},m.createElement(n.s4,{icon:"ico-photo-o"}))),m.createElement("input",{"data-testid":"inputAttachPhoto",onChange:h,multiple:!0,ref:d,style:{display:"none"},type:"file",accept:"image/*"}))},(e,t)=>e.rid===t.rid)},8022(e,t,r){r.d(t,{A:()=>c});var l=r(91557),i=r(96540),n=r(62193),a=r.n(n),o=r(67725);function c(e){let{initialValues:t,messageAcceptFail:r,inputRef:n}=e||{},{dialogBackend:c,i18n:s,getSetting:m}=(0,l.PCX)(),[u,d]=i.useState(t||[]),p=i.useRef(!1),h=m("core.attachment.maximum_file_size_each_attachment_can_be_uploaded"),f=m("core.attachment.maximum_number_of_attachments_that_can_be_uploaded"),g=()=>{(null==n?void 0:n.current)&&(n.current.value=null)},v=(e,t=!1)=>{if(a()(e))return;let l=[],i=[],n=(t?0:u.length)+(null==e?void 0:e.length);if(f<n){c.alert({title:"Oops!",message:s.formatMessage({id:"could_not_select_more_than_limit_files"},{limit:f})});return}for(let m=0;m<e.length;++m){let v=e[m],_=v.size,y={file_name:v.name,file_size:v.size,file_type:v.type,file:v};if(!(0,o.HH)(null==v?void 0:v.type,"image/*")){c.alert({message:r||s.formatMessage({id:"file_accept_type_fail"})}).then(()=>p.current=!1).catch(()=>p.current=!1),p.current=!0,g();break}_>h&&0!==h?(y.max_size=h,i.push(y)):l.push(y.file)}if(!p.current){if(l.length&&d([...u||[],...l]),i.length>0){var b;c.alert({message:1===i.length?s.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,o.Tu)(i[0].file_name,30),fileSize:(0,o.lT)(i[0].file_size),maxSize:(0,o.lT)(null===(b=i[0])||void 0===b?void 0:b.max_size)}):s.formatMessage({id:"warning_upload_limit_multi_image"},{numberFile:i.length,photoMaxSize:(0,o.lT)(h)})}),g();return}return g(),!0}};return[u,d,v]}},75530(e,t,r){r.d(t,{A:()=>m});var l=r(26287),i=r(91557),n=r(40515),a=r(83445),o=r(18799),c=r(96540);let s=(0,l.Ay)({resolved:{},chunkName:()=>"EmojiPicker",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e("EmojiPicker").then(r.bind(r,72937)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>72937});function m({onEmojiClick:e,multiple:t=!0,disabled:r,scrollRef:l,scrollClose:m,placement:u="top",disablePortal:d=!1,label:p="insert_an_emoji",control:h}){let{i18n:f,useIsMobile:g}=(0,i.PCX)(),v=f.formatMessage({id:p}),[_,y]=c.useState(null),b=c.useRef(),[k,E]=c.useState(!1),x=g(),A=c.useCallback(()=>{E(!1)},[]),C=c.useCallback(e=>{E(e=>!e),y(_?null:e.currentTarget)},[]),w=c.useCallback((r,l)=>{e&&e(r,l),t||E(!1)},[t,e]);return c.useEffect(()=>{if(k&&l&&l.current&&m){let e=()=>E(!1);return l.current.addEventListener("scroll",e),()=>{null==l||l.current.removeEventListener("scroll",e)}}},[k]),c.createElement(c.Fragment,null,c.createElement(n.qB,{excludeRef:b,onClickAway:A},c.createElement(h,{onClick:C,disabled:r,title:v,"data-testid":"buttonAttachEmoji",testid:"buttonAttachEmoji",icon:"ico-smile-o"})),c.createElement(a.A,{ref:b,open:k,anchorEl:_,placement:x?"top-end":u,disablePortal:d,role:"presentation",sx:{zIndex:1300}},c.createElement(o.A,{"data-testid":"dialogEmojiPicker",sx:{width:290,height:"auto",display:"flex",flexDirection:"column",bgcolor:"background.paper",paddingTop:1}},c.createElement(s,{onEmojiClick:w}))))}},18944(e,t,r){r.r(t),r.d(t,{default:()=>o});var l=r(96540),i=r(75530),n=r(53579);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}let o=l.memo(function(e){let t=t=>{let{editor:r}=e.editorRef.current;r.update(()=>{(0,n.$insertNodes)([(0,n.$createTextNode)(t)])})};return l.createElement(i.A,a({size:"small",multiple:!0,onEmojiClick:t},e))},()=>!0)},12639(e,t,r){r.r(t),r.d(t,{default:()=>a});var l=r(91557),i=r(96540),n=r(67725);function a({onAttachFiles:e,previewRef:t,control:r}){let{i18n:a,useLimitFileSize:o,dialogBackend:c}=(0,l.PCX)(),s=i.useRef(),{photo:m}=o(),u=()=>{s.current.click()},d=()=>{if(!s.current.files.length)return;let r=s.current.files,l=r[0],i=l.size;if(i>m&&0!==m){c.alert({message:a.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,n.Tu)(l.name,30),fileSize:(0,n.lT)(l.size),maxSize:(0,n.lT)(m)})}),s.current.value=null;return}if(t){var o;null===(o=t.current)||void 0===o||o.attachFiles(s.current.files)}e&&e(s.current.files)};return i.createElement(i.Fragment,null,i.createElement(r,{title:a.formatMessage({id:"attach_a_photo"}),onClick:u,testid:"buttonAttachPhoto",icon:"ico-photo-o"}),i.createElement("input",{"data-testid":"inputAttachPhoto",onChange:d,multiple:!1,ref:s,className:"srOnly",type:"file",accept:"image/*"}))}},88755(e,t,r){r.r(t),r.d(t,{default:()=>h});var l=r(26287),i=r(91557),n=r(40515),a=r(3556),o=r(63461),c=r(83445),s=r(96540);let m=(0,l.Ay)({resolved:{},chunkName:()=>"StickerPicker",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e("vendors-node_modules_slick-carousel_slick_slick-theme_css-node_modules_slick-carousel_slick_s-220e6e"),r.e("StickerPicker")]).then(r.bind(r,48987)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return r(t)},resolve:()=>48987}),u="AttachStickerButton",d=(0,a.Ay)(o.A,{name:u,slot:"attachBtn"})(({theme:e})=>({padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center",width:e.spacing(3.5),height:e.spacing(3.5),minWidth:e.spacing(3.5),color:`${e.palette.text.secondary} !important`})),p=(0,a.Ay)(n.s4,{name:u,slot:"attachBtnIcon"})(({theme:e})=>({fontSize:e.mixins.pxToRem(14)}));function h({title:e,icon:t="ico-sticker-o",multiple:r,onStickerClick:l}){let{i18n:a}=(0,i.PCX)(),o=null!=e?e:a.formatMessage({id:"post_a_sticker"}),u=s.useRef(),h=s.useRef(),[f,g]=s.useState(!1),v=s.useCallback(()=>{g(!1)},[]),_=s.useCallback(()=>{g(e=>!e)},[]),y=s.useCallback(e=>{r||g(!1),l&&l(e)},[r,l]);return s.createElement(s.Fragment,null,s.createElement(n.m_,{title:o},s.createElement(d,{size:"smaller",onClick:_,ref:u,"data-testid":"buttonAttachSticker",role:"button"},s.createElement(p,{icon:t}))),f?s.createElement(n.qB,{onClickAway:v},s.createElement(c.A,{ref:h,anchorEl:u.current,style:{zIndex:1300},open:f&&Boolean(u.current),placement:"top-end"},s.createElement(m,{multiple:!1,onStickerClick:y}))):null)}}}]);