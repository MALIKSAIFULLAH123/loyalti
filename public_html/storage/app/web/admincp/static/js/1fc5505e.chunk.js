"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-subscription-blocks-SubscriptionDetail-Block"],{31589(e,t,a){a.d(t,{A:()=>v});var r=a(98587),o=a(58168),l=a(96540),i=a(20053),n=a(75659),s=a(58752),d=a(92353),p=a(3556),c=a(38413),m=a(31609);function u(e){return(0,m.A)("MuiTable",e)}(0,c.A)("MuiTable",["root","stickyHeader"]);var g=a(74848);let b=["className","component","padding","size","stickyHeader"],y=e=>{let{classes:t,stickyHeader:a}=e;return(0,n.A)({root:["root",a&&"stickyHeader"]},u,t)},A=(0,p.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,o.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,o.A)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),f="table",h=l.forwardRef(function(e,t){let a=(0,d.A)({props:e,name:"MuiTable"}),{className:n,component:p=f,padding:c="normal",size:m="medium",stickyHeader:u=!1}=a,h=(0,r.A)(a,b),v=(0,o.A)({},a,{component:p,padding:c,size:m,stickyHeader:u}),x=y(v),k=l.useMemo(()=>({padding:c,size:m,stickyHeader:u}),[c,m,u]);return(0,g.jsx)(s.A.Provider,{value:k,children:(0,g.jsx)(A,(0,o.A)({as:p,role:p===f?null:"table",ref:t,className:(0,i.default)(x.root,n),ownerState:v},h))})}),v=h},58752(e,t,a){a.d(t,{A:()=>l});var r=a(96540);let o=r.createContext(),l=o},60228(e,t,a){a.d(t,{A:()=>l});var r=a(96540);let o=r.createContext(),l=o},22920(e,t,a){a.d(t,{A:()=>x});var r=a(58168),o=a(98587),l=a(96540),i=a(20053),n=a(75659),s=a(60228),d=a(92353),p=a(3556),c=a(38413),m=a(31609);function u(e){return(0,m.A)("MuiTableBody",e)}(0,c.A)("MuiTableBody",["root"]);var g=a(74848);let b=["className","component"],y=e=>{let{classes:t}=e;return(0,n.A)({root:["root"]},u,t)},A=(0,p.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),f={variant:"body"},h="tbody",v=l.forwardRef(function(e,t){let a=(0,d.A)({props:e,name:"MuiTableBody"}),{className:l,component:n=h}=a,p=(0,o.A)(a,b),c=(0,r.A)({},a,{component:n}),m=y(c);return(0,g.jsx)(s.A.Provider,{value:f,children:(0,g.jsx)(A,(0,r.A)({className:(0,i.default)(m.root,l),as:n,ref:t,role:n===h?null:"rowgroup",ownerState:c},p))})}),x=v},25914(e,t,a){a.d(t,{A:()=>E});var r=a(98587),o=a(58168),l=a(96540),i=a(20053),n=a(75659),s=a(24279),d=a(75630),p=a(58752),c=a(60228),m=a(92353),u=a(3556),g=a(38413),b=a(31609);function y(e){return(0,b.A)("MuiTableCell",e)}let A=(0,g.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var f=a(74848);let h=["align","className","component","padding","scope","size","sortDirection","variant"],v=e=>{let{classes:t,variant:a,align:r,padding:o,size:l,stickyHeader:i}=e,s={root:["root",a,i&&"stickyHeader","inherit"!==r&&`align${(0,d.A)(r)}`,"normal"!==o&&`padding${(0,d.A)(o)}`,`size${(0,d.A)(l)}`]};return(0,n.A)(s,y,t)},x=(0,u.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,d.A)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,d.A)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,d.A)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,o.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?(0,s.a)((0,s.X4)(e.palette.divider,1),.88):(0,s.e$)((0,s.X4)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${A.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),k=l.forwardRef(function(e,t){let a;let n=(0,m.A)({props:e,name:"MuiTableCell"}),{align:s="inherit",className:d,component:u,padding:g,scope:b,size:y,sortDirection:A,variant:k}=n,E=(0,r.A)(n,h),R=l.useContext(p.A),w=l.useContext(c.A),C=w&&"head"===w.variant;a=u||(C?"th":"td");let T=b;!T&&C&&(T="col");let M=k||w&&w.variant,$=(0,o.A)({},n,{align:s,component:a,padding:g||(R&&R.padding?R.padding:"normal"),size:y||(R&&R.size?R.size:"medium"),sortDirection:A,stickyHeader:"head"===M&&R&&R.stickyHeader,variant:M}),H=v($),_=null;return A&&(_="asc"===A?"ascending":"descending"),(0,f.jsx)(x,(0,o.A)({as:a,ref:t,className:(0,i.default)(H.root,d),"aria-sort":_,scope:T,ownerState:$},E))}),E=k},26282(e,t,a){a.d(t,{A:()=>f});var r=a(58168),o=a(98587),l=a(96540),i=a(20053),n=a(75659),s=a(92353),d=a(3556),p=a(38413),c=a(31609);function m(e){return(0,c.A)("MuiTableContainer",e)}(0,p.A)("MuiTableContainer",["root"]);var u=a(74848);let g=["className","component"],b=e=>{let{classes:t}=e;return(0,n.A)({root:["root"]},m,t)},y=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),A=l.forwardRef(function(e,t){let a=(0,s.A)({props:e,name:"MuiTableContainer"}),{className:l,component:n="div"}=a,d=(0,o.A)(a,g),p=(0,r.A)({},a,{component:n}),c=b(p);return(0,u.jsx)(y,(0,r.A)({ref:t,as:n,className:(0,i.default)(c.root,l),ownerState:p},d))}),f=A},50594(e,t,a){a.d(t,{A:()=>x});var r=a(58168),o=a(98587),l=a(96540),i=a(20053),n=a(75659),s=a(24279),d=a(60228),p=a(92353),c=a(3556),m=a(38413),u=a(31609);function g(e){return(0,u.A)("MuiTableRow",e)}let b=(0,m.A)("MuiTableRow",["root","selected","hover","head","footer"]);var y=a(74848);let A=["className","component","hover","selected"],f=e=>{let{classes:t,selected:a,hover:r,head:o,footer:l}=e;return(0,n.A)({root:["root",a&&"selected",r&&"hover",o&&"head",l&&"footer"]},g,t)},h=(0,c.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${b.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,s.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,s.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),v=l.forwardRef(function(e,t){let a=(0,p.A)({props:e,name:"MuiTableRow"}),{className:n,component:s="tr",hover:c=!1,selected:m=!1}=a,u=(0,o.A)(a,A),g=l.useContext(d.A),b=(0,r.A)({},a,{component:s,hover:c,selected:m,head:g&&"head"===g.variant,footer:g&&"footer"===g.variant}),v=f(b);return(0,y.jsx)(h,(0,r.A)({as:s,ref:t,className:(0,i.default)(v.root,n),role:"tr"===s?null:"row",ownerState:b},u))}),x=v},30854(e,t,a){a.r(t),a.d(t,{default:()=>_});var r=a(91557),o=a(11514),l=a(90243),i=a(84680),n=a(40515),s=a(67725),d=a(3556),p=a(8051),c=a(87773),m=a(97763),u=a(96540),g=a(22920),b=a(50594),y=a(26282),A=a(31589),f=a(25914),h=a(62193),v=a.n(h);let x="TransactionBlock",k=(0,d.Ay)(g.A,{name:x,slot:"tableCustom"})(({theme:e})=>({minWidth:958,"& .MuiTableCell-root":{fontSize:e.mixins.pxToRem(15),color:e.palette.text.secondary,borderBottom:0,minWidth:"200px",height:"56px",background:e.palette.background.default,"&:first-of-type":{borderTopLeftRadius:e.shape.borderRadius,borderBottomLeftRadius:e.shape.borderRadius},"&:last-child":{borderTopRightRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius}}})),E=(0,d.Ay)(b.A,{name:x,slot:"RowTitle"})(({theme:e})=>({"& .MuiTableCell-root":{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightBold,background:e.palette.background.paper}}));function R({tableFields:e,transactions:t}){return v()(e)||v()(t)?null:u.createElement(p.A,{sx:{position:"relative"}},u.createElement(y.A,null,u.createElement(A.A,{sx:{width:"100%",borderCollapse:"separate",borderSpacing:"0 8px"}},u.createElement(k,null,u.createElement(E,null,e.map(e=>u.createElement(f.A,{key:e.value},u.createElement(n.mE,{lines:1,variant:"body1",sx:{maxWidth:"300px"},fontWeight:600},e.label)))),t.map(t=>u.createElement(b.A,{key:`r${t.id}`},e.map(e=>u.createElement(f.A,{key:`${t.id}${e.value}`},(null==e?void 0:e.isDate)?u.createElement(n.Gl,{"data-testid":"publishedDate",value:t[e.value],format:"MMMM DD,YYYY HH:mm:ss"}):t[e.value]))))))))}R.displayName="TransactionBlock";let w="SubscriptionDetailView",C=(0,d.Ay)(p.A,{name:w,slot:"transactionContainer"})(({theme:e})=>({width:"100%"})),T=(0,d.Ay)(p.A,{name:w,slot:"imageWrapper"})(({theme:e})=>({width:"100%",maxWidth:100,img:{width:100,height:100}})),M=(0,d.Ay)("div",{slot:"Price"})(({theme:e})=>({display:"flex",alignItems:"center",marginTop:e.spacing(1),[e.breakpoints.down("sm")]:{alignItems:"flex-start",flexDirection:"column","& p":{marginLeft:"0",flexWrap:"wrap",height:"auto",justifyContent:"flex-start",marginBottom:e.spacing(1)}}}));function $({user:e,identity:t,item:a,state:o,actions:d,handleAction:g}){let{i18n:b,jsxBackend:y,assetUrl:A,useTheme:f,useIsMobile:h}=(0,r.PCX)(),v=h(),x=f();if(!a)return null;let{package_title:k,price:E,recurring_price:w,expired_at:$,payment_status:H,payment_status_label:_,upgraded_membership:B,payment_buttons:S,table_fields:z,transactions:D,activated_at:N,expired_description:W}=a,j=(0,s.AE)(a.image,"240",A("subscription.no_image"));return u.createElement(i.eB,{testid:`detailview ${a.resource_name}`},u.createElement(i.tD,null,u.createElement(p.A,{mb:2},u.createElement(r.N_E,{color:"primary",to:"/subscription"},b.formatMessage({id:"back_to_all_subscriptions"}))),u.createElement(p.A,{sx:{display:"flex"}},u.createElement(T,{mr:2},u.createElement(n._V,{src:j,alt:k,aspectRatio:"11"})),u.createElement(p.A,null,u.createElement(c.A,{variant:"h4",color:"text.primary"},k),u.createElement(M,null,u.createElement(c.A,{variant:"body1",color:"primary.main",fontWeight:"bold"},E),w?u.createElement(n.TW,{backgroundColor:"dark"===x.palette.mode?x.palette.grey[600]:x.palette.grey[100],variant:"body2",color:"text.primary",sx:{marginLeft:"4px"}},u.createElement(l.Ay,{html:w})):null),u.createElement(n.J7,{mt:1},_&&H?y.render({component:"subscription.ui.statusLabel",props:{label:_,type:H}}):null,N?u.createElement(c.A,{component:"span",variant:"body2",color:"text.secondary"},u.createElement(n.Gl,{"data-testid":"expiredDate",value:N,format:"ll",phrase:"activation_date_time"}),$?u.createElement(p.A,{sx:{display:"inline-flex",marginLeft:"4px"}},"(",u.createElement(n.Gl,{"data-testid":"expiredDate",value:$,format:"ll",phrase:"expires_on_time"}),")"):null,W?u.createElement(p.A,{sx:{display:"inline-flex",marginLeft:"4px"}},"(",W,")"):null):null),u.createElement(p.A,{mt:1},u.createElement(c.A,{variant:"body2",color:"text.secondary"},b.formatMessage({id:"acquired_membership"}),u.createElement(m.A,{title:b.formatMessage({id:"membership_question_mark"}),enterTouchDelay:v?0:500},u.createElement(n.s4,{sx:{p:.5},icon:" ico-question-circle-o"})),": ",u.createElement("b",null,B))),S&&S.length?u.createElement(p.A,{mt:2,sx:{button:{marginRight:x.spacing(1),marginBottom:x.spacing(1)}}},S.map((e,a)=>y.render({component:"subscription.ui.paymentButton",props:{...e,identity:t,key:`k${a}`}}))):null)),D&&D.length?u.createElement(C,{mt:5},u.createElement(R,{tableFields:z,transactions:D})):null))}$.LoadingSkeleton=function({wrapAs:e,wrapProps:t}){return u.createElement(n.ne,{testid:"skeleton",wrapAs:e,wrapProps:t})},$.displayName="SubscriptionDetailView";let H=(0,r.$MH)((0,o.F)($,o.m,{})),_=(0,r.WvA)({extendBlock:H,defaults:{blockProps:{titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{pl:2,pt:3,pr:2,pb:3,mt:0,mb:0,sx:{bgcolor:"background.paper",borderRadius:0}}}}})}}]);