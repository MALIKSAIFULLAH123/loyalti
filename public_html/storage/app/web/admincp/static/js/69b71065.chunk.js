"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-SidebarAppMobile-Block"],{25669(e,t,n){n.d(t,{A:()=>c});var o=n(58168),a=n(98587),i=n(96540);let r=["getTrigger","target"];function l(e,t){let{disableHysteresis:n=!1,threshold:o=100,target:a}=t,i=e.current;return a&&(e.current=void 0!==a.pageYOffset?a.pageYOffset:a.scrollTop),(!!n||void 0===i||!(e.current<i))&&e.current>o}let p="undefined"!=typeof window?window:null;function c(e={}){let{getTrigger:t=l,target:n=p}=e,c=(0,a.A)(e,r),s=i.useRef(),[d,m]=i.useState(()=>t(s,c));return i.useEffect(()=>{let e=()=>{m(t(s,(0,o.A)({target:n},c)))};return e(),n.addEventListener("scroll",e,{passive:!0}),()=>{n.removeEventListener("scroll",e,{passive:!0})}},[n,t,JSON.stringify(c)]),d}},70118(e,t,n){n.r(t),n.d(t,{default:()=>w});var o,a,i=n(91557),r=n(84680),l=n(40515),p=n(3556),c=n(63009),s=n(63461),d=n(8051),m=n(25669),u=n(96540);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}let g=(0,p.Ay)("div",{name:"Root"})(({theme:e,visibleAppBar:t,minHeight:n})=>({position:"fixed",top:n,left:0,right:0,zIndex:e.zIndex.speedDial,transitionDuration:".5s",boxShadow:"0px 2px 1px 0 rgba(0, 0, 0, 0.05), 0px -2px 1px 0 rgba(0, 0, 0, 0.05)",...!t&&{top:0}})),v=(0,p.Ay)("div",{name:"HeightFixed"})(({heightApp:e})=>({height:e})),b=(0,p.Ay)(c.Ay,{name:"PopoverWrapper"})(({theme:e,visibleAppBar:t,top:n})=>{var i,r;return{paddingTop:e.mixins.pxToRem(16),minWidth:"100%",top:null!==(o=null===(i=e.appBarMobileConfig)||void 0===i?void 0:i.brand)&&void 0!==o?o:"48px",bottom:0,".appbar-bottom &":{bottom:null!==(a=null===(r=e.appBarMobileConfig)||void 0===r?void 0:r.bottom)&&void 0!==a?a:"48px"},"& .MuiPopover-paper":{maxWidth:"100%",width:"100%",borderRadius:0,top:`${n}px !important`,bottom:0,left:"0 !important"},"& .MuiPaper-elevation8":{overflow:"hidden",boxShadow:"unset"},...!t&&{top:0,bottom:"0 !important"}}}),h=(0,p.Ay)("div",{name:"HeaderBlock"})(({theme:e})=>({width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:e.palette.background.paper,padding:e.spacing(2,2)})),x=(0,p.Ay)(s.A,{name:"IconBack",shouldForwardProp:e=>"backPage"!==e})(({theme:e,backPage:t})=>({marginLeft:e.spacing(-1),marginRight:e.spacing(.5),"& .ico":{fontSize:e.mixins.pxToRem(18),color:e.palette.text.primary,fontWeight:e.typography.fontWeightBold}})),y=(0,p.Ay)(d.A,{name:"TitleWrapper"})(({theme:e})=>({display:"flex",alignItems:"center"})),A=(0,p.Ay)("div",{name:"Title"})(({theme:e})=>({display:"flex",alignItems:"center",fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightMedium})),k=(0,p.Ay)(s.A,{name:"Icon"})(({theme:e})=>({minWidth:e.mixins.pxToRem(32),padding:0})),E=(0,p.Ay)("div",{name:"ContentWrapper"})(({theme:e})=>({width:"100%"})),w=(0,i.WvA)({extendBlock:function({blockProps:e,appName:t,menuName:n,contents:o,title:a,keepMounted:p=!1}){var c,s;let{usePageParams:w,jsxBackend:M,i18n:B,goSmartBack:C,useTheme:R}=(0,i.PCX)(),S=R(),{appName:W,backPage:P}=w(),z=(0,i.$lg)(W,"homepageHeader"),{pathname:T,search:O,state:H}=(0,i.zy2)(),I=(0,m.A)(),_=null!==(s=null===(c=S.appBarMobileConfig)||void 0===c?void 0:c.nav)&&void 0!==s?s:48,j=(0,u.useRef)(null),[D,F]=(0,u.useState)(0);(0,u.useEffect)(()=>{F(j.current.clientHeight)},[]);let[L,N]=(0,u.useState)(!1),Y=(0,u.useRef)(null),$=(null==H?void 0:H.as)||T,q=(null==o?void 0:o.length)>0?o.map(e=>({name:M.get(e.name),props:e.props||{}})).filter(e=>e.name):[];if((0,u.useEffect)(()=>()=>{N(!1)},[$,O]),!z)return null;let{title:J}=z,X=()=>{N(!1)},G=()=>{N(e=>!e)};return u.createElement(u.Fragment,null,u.createElement(v,{heightApp:D}),u.createElement(g,{ref:j,minHeight:_,visibleAppBar:!I},u.createElement(d.A,null,u.createElement(h,null,u.createElement(y,null,P?u.createElement(x,{size:"small",onClick:()=>C()},u.createElement(l.s4,{icon:"ico-angle-left"})):null,u.createElement(A,null,B.formatMessage({id:a||J}))),u.createElement(k,{onClick:G,variant:"outlined-square",size:"small",color:"primary",ref:Y,disableRipple:"true"},u.createElement(l.s4,{icon:L?"ico-angle-up":"ico-angle-down"})),u.createElement(b,{visibleAppBar:!I,top:D,open:L,keepMounted:p,anchorEl:Y.current,onClose:X,disablePortal:!0,transitionDuration:0,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},u.createElement(r.P,{autoHide:!0,autoHeightMax:"100%"},u.createElement(E,null,q.map((e,t)=>u.createElement(e.name,f({key:t.toString()},e.props,{isSidebarAppMobile:!0,visibleAppBar:!I}))))))))))},defaults:{blockProps:{testid:"sidebarMenu",title:"App Menu Mobile"},contents:[{name:"core.block.searchBox"},{name:"core.block.sidebarAppMenu"},{name:"core.dividerBlock"},{name:"core.categoryBlock"}]}})}}]);