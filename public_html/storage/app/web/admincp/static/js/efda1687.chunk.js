"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-blog-blocks-ViewBlog-Block"],{28102(e,t,a){a.d(t,{A:()=>i});function i(e){return{deleteItem:()=>e("deleteItem"),approveItem:()=>e("approveItem")}}},34652(e,t,a){a.r(t),a.d(t,{DetailView:()=>A,LoadingSkeleton:()=>k,default:()=>_});var i=a(28102),n=a(91557),l=a(90243),o=a(84680),r=a(40515),d=a(67725),m=a(3556),s=a(8051),c=a(87773),g=a(96540);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}let u="BlogDetailView",h=(0,m.Ay)("div",{name:u,slot:"bgCover",shouldForwardProp:e=>"isModalView"!==e})(({theme:e,isModalView:t})=>({position:"relative",zIndex:2,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",height:320,...t&&{marginLeft:e.spacing(-2),marginRight:e.spacing(-2)},[e.breakpoints.down("sm")]:{height:179}})),f=(0,m.Ay)("div",{name:u,slot:"bgCover",shouldForwardProp:e=>"isModalView"!==e})(({theme:e})=>({position:"absolute",left:0,right:0,bottom:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:1,backgroundColor:e.palette.background.default,filter:"blur(100px)"})),v=(0,m.Ay)("div",{name:u,slot:"blogViewContainer"})(({theme:e})=>({width:"100%",marginLeft:"auto",marginRight:"auto",padding:e.spacing(2),position:"relative",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius})),b=(0,m.Ay)("div",{name:u,slot:"blogContent"})(({theme:e})=>({fontSize:e.mixins.pxToRem(15),lineHeight:1.33})),x=(0,m.Ay)("div",{name:u,slot:"tagItem",overridesResolver:(e,t)=>[t.tagItem]})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),fontWeight:e.typography.fontWeightBold,borderRadius:e.shape.borderRadius/2,background:"light"===e.palette.mode?e.palette.background.default:e.palette.action.hover,marginRight:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(0,1.5),height:e.spacing(3),lineHeight:e.spacing(3),display:"block",color:"light"===e.palette.mode?"#121212":"#fff"})),y=(0,m.Ay)("div",{name:u,slot:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(2),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),E=(0,m.Ay)("div",{name:u,slot:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between",[e.breakpoints.down("sm")]:{flexDirection:"column"}})),w=(0,m.Ay)("div",{name:u,slot:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"calc(50% - 8px)",minWidth:300,maxWidth:"100%"}));function k(e){return g.createElement(r.ne,p({},e))}function A({user:e,identity:t,item:a,state:i,actions:m,handleAction:p,isModalView:u}){let{ItemActionMenu:k,ItemDetailInteraction:A,useGetItems:R,i18n:_,jsxBackend:B}=(0,n.PCX)(),I=R(null==a?void 0:a.categories),C=R(null==a?void 0:a.attachments),W=B.get("core.itemView.pendingReviewCard");if(!e||!a)return null;let z=(0,d.AE)(null==a?void 0:a.image,"origin"),{tags:V}=a;return g.createElement(o.eB,{testid:`detailview ${a.resource_name}`},g.createElement(o.tD,null,z?g.createElement(s.A,{sx:{position:"relative",overflow:"hidden"}},g.createElement(h,{isModalView:u,style:{backgroundImage:`url(${z})`}}),g.createElement(f,{style:{backgroundImage:`url(${z})`}})):null,W&&g.createElement(W,{sxWrapper:{p:2,pb:0},item:a}),g.createElement(v,null,g.createElement(r.sZ,{sx:{position:"absolute",top:8,right:8}},g.createElement(k,{identity:t,icon:"ico-dottedmore-vertical-o",state:i,menuName:"detailActionMenu",handleAction:p,size:"smaller"})),g.createElement(r.h4,{data:I,sx:{mb:1,mr:2}}),g.createElement(r.Et,{variant:"h3",component:"div",pr:2,showFull:!0},g.createElement(r.rL,{variant:"itemView",value:a.is_featured}),g.createElement(r.FN,{variant:"itemView",value:a.is_sponsor,item:a}),g.createElement(r.CH,{value:a.is_draft,variant:"h3",component:"span",sx:{verticalAlign:"middle",fontWeight:"normal"}}),g.createElement(c.A,{component:"h1",variant:"h3",sx:{pr:2.5,display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},null==a?void 0:a.title)),g.createElement(r.at,{item:a}),g.createElement(b,null,g.createElement(r.np,null,g.createElement(l.Ay,{html:(null==a?void 0:a.text)||""}))),(null==V?void 0:V.length)>0?g.createElement(s.A,{mt:4,display:"flex",flexWrap:"wrap"},V.map(e=>g.createElement(x,{key:e},g.createElement(n.N_E,{to:`/blog/search?q=%23${encodeURIComponent(e)}`},e)))):null,(null==C?void 0:C.length)>0&&g.createElement(g.Fragment,null,g.createElement(y,null,_.formatMessage({id:"attachments"})),g.createElement(E,null,C.map((e,t)=>g.createElement(w,{key:e.id.toString()},g.createElement(r.Hg,{fileName:e.file_name,downloadUrl:e.download_url,isImage:e.is_image,fileSizeText:e.file_size_text,size:"large",image:null==e?void 0:e.image,identity:null==e?void 0:e._identity,index:t}))))),g.createElement(A,{identity:t,state:i,handleAction:p}))))}A.LoadingSkeleton=k,A.displayName="BlogItem_DetailView";let R=(0,n.$MH)((0,n.FB$)(A,i.A,{categories:!0,attachments:!0})),_=(0,n.WvA)({extendBlock:R,defaults:{blockLayout:"Detail - Paper - Radius Bottom"}})}}]);