"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-forum-blocks-ForumSlider-Block"],{75189(e,t,n){n.r(t),n.d(t,{default:()=>w});var i=n(91557),l=n(84680),r=n(40515),a=n(3556),s=n(8051),o=n(63461),c=n(96540),u=n(4589);n(3094),n(24078);var d=n(23181),m=n.n(d),f=n(58156),p=n.n(f);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let h="ForumItemMainCard",k=(0,a.Ay)(s.A,{name:h,slot:"navSliderWrapperStyled"})(({theme:e})=>({display:"inline-flex",alignItems:"center"})),v=(0,a.Ay)(u.A,{name:h,slot:"forumSliderStyled"})(({theme:e})=>({"& .slick-list":{margin:e.spacing(0,-1),"& .slick-slide":{padding:e.spacing(0,1)},"& .slick-track":{marginLeft:0,marginRight:0}},"& .slick-arrow":{display:"none !important"}}));function S({title:e,themeId:t,itemView:n}){let{jsxBackend:a,useFetchItems:s,getAcl:u,i18n:d}=(0,i.PCX)(),[f,h]=c.useState(!1),[S,w]=c.useState("start"),b=c.useRef(null),y=u(),E=p()(y,"forum.forum.view"),[C,T]=s({dataSource:{apiParams:"view=quick_navigation",apiUrl:"/forum"},normalize:!0,data:[],cache:!0}),A=a.get(n),x=a.get(`${n}.skeleton`);c.useEffect(()=>{if(b&&b.current){var e,t;let n=b.current,i=null===(e=n.state)||void 0===e?void 0:e.breakpoint,l=n.props,r=null===(t=l.responsive.find(e=>e.breakpoint===i))||void 0===t?void 0:t.settings,a={...n.props,...r},s=a.slidesToShow;h(C.length>s)}},[C.length]);let _=(e,t)=>{let n="";switch(e){case 0:n="start";break;case C.length-t:n="end"}w(n)},B={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,useTransform:!1,adaptiveHeight:!0,accessibility:!1,afterChange(e){_(e,4)},responsive:[{breakpoint:375,settings:{infinite:1<C.length,slidesToShow:1,afterChange(e){_(e,1)}}},{breakpoint:1024,settings:{infinite:2<C.length,slidesToShow:2,afterChange(e){_(e,2)}}},{breakpoint:1199,settings:{infinite:3<C.length,slidesToShow:3,afterChange(e){_(e,3)}}}]},F=()=>{b.current.slickNext()},P=()=>{b.current.slickPrev()};return E?c.createElement(l.eB,null,c.createElement(l.Tw,null,c.createElement(l.E9,null,d.formatMessage({id:e})),f&&c.createElement(k,null,c.createElement(o.A,{disabled:"start"===S,size:"small",color:"default",onClick:P},c.createElement(r.s4,{icon:"ico-angle-left"})),c.createElement(o.A,{disabled:"end"===S,size:"small",color:"default",onClick:F},c.createElement(r.s4,{icon:"ico-angle-right"})))),c.createElement(l.tD,null,c.createElement(v,g({ref:e=>b.current=e},B),T&&x?m()(0,4).map(e=>c.createElement(x,null)):null,C&&C.map(e=>{var t;return c.createElement(A,{identity:`forum.entities.forum.${e.id}`,key:null===(t=e.id)||void 0===t?void 0:t.toString()})})))):null}S.displayName="ForumSliderBlock";let w=(0,i.WvA)({extendBlock:S,name:"forums",defaults:{gridLayout:"Forum - Slider",itemView:"forum.itemView.mainCard",dataSource:{apiUrl:"/forum"}}})}}]);