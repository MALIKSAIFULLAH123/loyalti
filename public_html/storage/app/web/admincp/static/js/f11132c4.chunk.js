"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["friend","metafox-friend-components-Friend-SmallCard-LoadingSkeleton"],{27778(e,t,l){l.r(t),l.d(t,{default:()=>c});var n=l(9438),r=l(84680),a=l(40515),i=l(8051),o=l(87773),d=l(95093),u=l.n(d),s=l(96540);function m({item:e,user:t,identity:l,handleAction:n,state:d,wrapAs:m,wrapProps:c,actions:p}){let{itemProps:{media:E}={}}=(0,r.lA)();if(!e)return null;let{link:f,birthday:v,age:y,birthday_format:_}=e,h=u()(v,_).format(y?"LL":"MMMM D");return s.createElement(a.ne,{wrapAs:m,wrapProps:c,testid:`${e.resource_name}`,"data-eid":l},s.createElement(a.Qm,null,s.createElement(a.H8,{user:e,size:Number.parseInt(null==E?void 0:E.width)})),s.createElement(a.p4,null,s.createElement(a.Et,null,s.createElement(a.xE,{to:f,user:e,color:"inherit"})),s.createElement(i.A,null,v&&s.createElement(a.CN,null,s.createElement(o.A,{variant:"body2",color:"text.secondary"},h)))),s.createElement(i.A,null,s.createElement(o.A,{variant:"body2",color:"text.secondary"},null==e?void 0:e.new_age_phrase)))}m.displayName="FriendItemViewMainCard";let c=(0,n.F)(m,n.m)},59300(e,t,l){l.r(t),l.d(t,{default:()=>c});var n=l(9438),r=l(84680),a=l(40515),i=l(8051),o=l(87773),d=l(95093),u=l.n(d),s=l(96540);function m({item:e,user:t,identity:l,handleAction:n,state:d,wrapAs:m,wrapProps:c,actions:p}){let{itemProps:{media:E}={}}=(0,r.lA)();if(!e)return null;let{link:f,birthday:v,age:y,birthday_format:_}=e,h=u()(v,_).format(y?"LL":"MMMM D");return s.createElement(a.ne,{wrapAs:m,wrapProps:c,testid:`${e.resource_name}`,"data-eid":l},s.createElement(a.Qm,null,s.createElement(a.H8,{user:e,size:Number.parseInt(null==E?void 0:E.width)})),s.createElement(a.p4,null,s.createElement(a.Et,null,s.createElement(a.xE,{to:f,user:e,color:"inherit"})),s.createElement(i.A,null,v&&s.createElement(a.CN,null,s.createElement(o.A,{variant:"body2",color:"text.secondary"},h)))))}m.displayName="FriendItemViewMainCard";let c=(0,n.F)(m,n.m)},50097(e,t,l){l.r(t),l.d(t,{default:()=>p});var n=l(9438),r=l(91557),a=l(84680),i=l(40515),o=l(97763),d=l(63461),u=l(8051),s=l(87773),m=l(96540);function c({item:e,user:t,identity:l,handleAction:n,state:c,wrapAs:p,wrapProps:E,actions:f}){var v;let{ItemActionMenu:y,dispatch:_,useSession:h,i18n:w,useIsMobile:A}=(0,r.PCX)(),{user:C}=h(),x=A(!0),{itemProps:{media:F}={}}=(0,a.lA)();if(!e)return null;let k=(null==C?void 0:C.id)===e.id,{statistic:M,link:g,profile_settings:b}=e,I=null==e?void 0:null===(v=e.extra)||void 0===v?void 0:v.can_message,N=()=>{_({type:"chat/room/openChatRoom",payload:{identity:e._identity,isMobile:x}})},P=k?null:m.createElement(i.Fu,null,I?m.createElement(o.A,{title:w.formatMessage({id:"message"})},m.createElement(d.A,{"aria-label":"message",size:"medium",color:"primary",variant:"outlined-square","data-testid":"itemActionMessage",onClick:N},m.createElement(i.s4,{icon:"ico-comment-o"}))):null,m.createElement(y,{identity:l,state:c,handleAction:n,size:"medium",color:"primary",variant:"outlined-square",icon:"ico-dottedmore-o",tooltipTitle:w.formatMessage({id:"more_options"})}));return m.createElement(i.ne,{wrapAs:p,wrapProps:E,testid:`${e.resource_name}`,"data-eid":l},m.createElement(i.Qm,null,m.createElement(i.H8,{user:e,size:Number.parseInt(null==F?void 0:F.width)||80})),m.createElement(i.p4,null,m.createElement(u.A,{pr:e.is_featured?2:0,sx:{display:"flex"}},m.createElement(i.xE,{to:g,user:e,color:"inherit",InnerWrapAs:i.Et,sx:{display:"inline-flex",maxWidth:"100%",wordBreak:"break-word"},showFeaturedBadge:!0})),(null==b?void 0:b.profile_view_profile)?m.createElement(u.A,null,!k&&M.total_mutual>0?m.createElement(i.CN,{role:"button",onClick:f.showMutualFriends},m.createElement(i.C8,{values:M,display:"total_mutual"})):m.createElement(i.CN,null,m.createElement(s.A,{variant:"body2",color:"text.secondary"},e.country_name&&e.country_state_name?`${e.country_state_name}, ${e.country_name}`:w.formatMessage({id:"joined_at"},{joined_date:()=>m.createElement(i.Gl,{"data-testid":"joinedDate",value:e.joined,format:"LL"})})))):null,m.createElement(u.A,{sx:{display:{xs:"block",md:"none"},pt:1}},P)),m.createElement(u.A,{sx:{display:{xs:"none",md:"block"}}},P))}c.displayName="FriendItemViewMainCard";let p=(0,n.F)(c,n.m)},24919(e,t,l){l.r(t),l.d(t,{default:()=>v});var n=l(9438),r=l(91557),a=l(62938),i=l(40515),o=l(3556),d=l(8051),u=l(60780),s=l(96540);let m=(0,o.Ay)(i.ne,{slot:"root",name:"FriendItem"})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center"})),c=(0,o.Ay)("div",{slot:"ItemContent",name:"FriendItem"})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"100%"})),p=(0,o.Ay)(i.Qm,{slot:"ItemMediaStyled",name:"FriendItem"})(({theme:e})=>({alignSelf:"flex-start"})),E=[{id:a.xl,text:"add_friend",value:"user/addFriend"},{id:a.uY,text:"cancel_request",value:"user/cancelRequest"}];function f({identity:e,item:t,wrapProps:l,wrapAs:n,actions:o}){let{user:f}=(0,r.wVH)(),{i18n:v,dispatch:y}=(0,r.PCX)();if(!t)return null;let{statistic:_,link:h,extra:w,friendship:A,profile_settings:C}=t,x=(null==f?void 0:f.id)===t.id,F=A!==a.xl||(null==w?void 0:w.can_add_friend)?E.find(e=>e.id===t.friendship):void 0,k=t=>{y({type:t,payload:{identity:e}})};return s.createElement(m,{wrapAs:n,wrapProps:l,testid:`${t.resource_name}`,"data-eid":e},s.createElement(c,null,s.createElement(p,null,s.createElement(i.H8,{user:t,size:48})),s.createElement(i.p4,null,s.createElement(i.Et,{lines:1},s.createElement(r.N_E,{to:h,color:"inherit",hoverCard:`/user/${null==t?void 0:t.id}`},t.full_name)),(null==C?void 0:C.profile_view_profile)&&!x&&(null==_?void 0:_.total_mutual)>0?s.createElement(i.CN,{role:"button",onClick:o.showMutualFriends},s.createElement(i.C8,{values:_,display:"total_mutual"})):null,F&&s.createElement(d.A,{mt:.5},s.createElement(u.A,{variant:"outlined",color:"primary",size:"small",onClick:()=>k(F.value)},v.formatMessage({id:F.text}))))))}f.displayName="FriendItemSmallCard";let v=(0,n.F)(f,n.m)},7081(e,t,l){l.r(t),l.d(t,{default:()=>i});var n=l(40515),r=l(52705),a=l(96540);function i({wrapAs:e,wrapProps:t}){return a.createElement(n.ne,{wrapAs:e,wrapProps:t},a.createElement(n.Qm,null,a.createElement(r.A,{variant:"avatar",width:48,height:48})),a.createElement(n.p4,null,a.createElement(n.Et,null,a.createElement(r.A,{variant:"text",width:"50%"})),a.createElement(r.A,{variant:"text",width:"120px"})))}},81077(e,t,l){l.r(t),l.d(t,{default:()=>y});var n=l(9438),r=l(91557),a=l(62938),i=l(40515),o=l(3556),d=l(60780),u=l(96540),s=l(7081),m=l(36025);let c=(0,o.Ay)(i.ne,{slot:"root",name:"FriendItem"})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center"})),p=(0,o.Ay)("div",{slot:"ItemContent",name:"FriendItem"})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"100%",flex:1,overflow:"hidden",marginRight:e.spacing(1)})),E=(0,o.Ay)(d.A,{slot:"ButtonStyled",name:"FriendItem"})(({theme:e})=>({fontSize:e.spacing(1.625)})),f=[{id:a.xl,text:"add_friend",value:"user/addFriend"},{id:a.uY,text:"cancel_request",value:"user/cancelRequest"}];function v({identity:e,item:t,wrapProps:l,wrapAs:n,actions:a}){let{user:o}=(0,r.wVH)(),{i18n:d,dispatch:s,dialogBackend:v}=(0,r.PCX)(),y=v.items.some(e=>"friend.dialog.presentMutualFriends"===e.props.content.component);if(!t)return null;let{statistic:_,link:h,module_name:w,profile_settings:A}=t,C=(null==o?void 0:o.id)===t.id,x=f.find(e=>e.id===t.friendship),F=w===m.wk;return u.createElement(c,{wrapAs:n,wrapProps:l,testid:`${t.resource_name}`,"data-eid":e},u.createElement(p,null,u.createElement(i.Qm,null,u.createElement(i.H8,{user:t,size:48})),u.createElement(i.p4,null,u.createElement(i.Et,null,u.createElement(r.N_E,{to:h,children:t.full_name,color:"inherit"})),(null==A?void 0:A.profile_view_profile)&&!C&&(null==_?void 0:_.total_mutual)>0?u.createElement(i.CN,{role:"button",onClick:y?null:a.showMutualFriends},u.createElement(i.C8,{values:_,display:"total_mutual"})):null)),x&&F&&u.createElement(E,{variant:"contained",color:"primary",onClick:()=>s({type:x.value,payload:{identity:`user.entities.user.${t.id}`}})},d.formatMessage({id:x.text})))}v.LoadingSkeleton=s.default,v.displayName="FriendItemSmallCard";let y=(0,n.F)(v,n.m)},8608(e,t,l){l.r(t),l.d(t,{default:()=>f});var n=l(9438),r=l(91557),a=l(62938),i=l(40515),o=l(67725),d=l(3556),u=l(60780),s=l(8051),m=l(87773),c=l(96540);let p=(0,d.Ay)(i.xE,{slot:"userName"})(({theme:e})=>({wordBreak:"break-word"}));function E({item:e,user:t,identity:l,handleAction:n,state:d,wrapAs:E,wrapProps:f,actions:v}){let{ItemActionMenu:y,useSession:_,i18n:h,useIsMobile:w,useResourceMenu:A,getAcl:C,getSetting:x}=(0,r.PCX)(),{user:F}=_(),k=w(!0),M=_(),g=C(),b=x(),I=A(a.HR,a.T,"itemActionMenu");if(!e)return null;let N=(null==F?void 0:F.id)===e.id,{statistic:P,link:$,profile_settings:z}=e,j=(0,o.Ue)(I.items,{item:e,acl:g,setting:b,session:M}),q=j.slice(0,1),L=j.slice(1),R=!N&&j.length?c.createElement(i.Fu,null,q.map((e,t)=>c.createElement(u.A,{key:e.label,"data-testid":null==e?void 0:e.name,variant:(null==e?void 0:e.variant)||"outlined",startIcon:(null==e?void 0:e.icon)&&c.createElement(i.s4,{icon:e.icon}),onClick:()=>n(e.value,{isMobile:k}),color:e.color||"primary",size:(null==e?void 0:e.size)||"medium"},e.label)),(null==L?void 0:L.length)?c.createElement(y,{items:L,handleAction:n,size:"medium",color:"primary",variant:"outlined-square",icon:"ico-dottedmore-o",tooltipTitle:h.formatMessage({id:"more_options"})}):null):null;return c.createElement(i.ne,{wrapAs:E,wrapProps:f,testid:`${e.resource_name}`,"data-eid":l},c.createElement(i.Qm,null,c.createElement(i.H8,{user:e,size:80,hoverCard:`/user/${null==e?void 0:e.id}`})),c.createElement(i.p4,null,c.createElement(s.A,{sx:{display:"flex",alignItems:"baseline"}},c.createElement(i.Et,null,c.createElement(p,{to:$,user:e,color:"inherit",hoverCard:`/user/${null==e?void 0:e.id}`})),c.createElement(i.MC,{icon:"ico-check-circle",value:e.is_featured})),(null==z?void 0:z.profile_view_profile)?c.createElement(s.A,null,!N&&P.total_mutual>0?c.createElement(i.CN,{role:"button",onClick:v.showMutualFriends},c.createElement(i.C8,{values:P,display:"total_mutual"})):c.createElement(i.CN,null,c.createElement(m.A,{variant:"body2",color:"text.secondary"},e.country_name&&e.country_state_name?`${e.country_state_name}, ${e.country_name}`:h.formatMessage({id:"joined_at"},{joined_date:()=>c.createElement(i.Gl,{"data-testid":"joinedDate",value:e.joined,format:"LL"})})))):null,c.createElement(s.A,{sx:{display:{xs:"block",md:"none"},pt:1}},R)),c.createElement(s.A,{sx:{display:{xs:"none",md:"block"}}},R))}E.displayName="FriendItemViewMainCard";let f=(0,n.F)(E,n.m)},27045(e,t,l){l.r(t),l.d(t,{default:()=>f});var n=l(9438),r=l(91557),a=l(84680),i=l(40515),o=l(3556),d=l(8051),u=l(97763),s=l(57047),m=l(96540);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let p=(0,o.Ay)(({className:e,...t})=>m.createElement(u.A,c({},t,{classes:{popper:e}})))(({theme:e})=>({marginTop:`-${e.spacing(2)}!important`,[`& .${s.A.arrow}`]:{display:"none"}}));function E({item:e,user:t,identity:l,handleAction:n,state:o,wrapAs:u,wrapProps:s,actions:c}){let{i18n:E,moment:f}=(0,r.PCX)(),{itemProps:{media:v}={}}=(0,a.lA)(),{birthday:y,age:_,birthday_format:h}=e||{},w=f(y,h).format(_?"LL":"MMMM D");return e?m.createElement(p,{title:E.formatMessage({id:"user_birthday_is_date"},{full_name:e.full_name,value:y?w:null}),placement:"bottom"},m.createElement(d.A,{p:1},m.createElement(i.Qm,null,m.createElement(i.H8,{user:e,size:Number.parseInt(null==v?void 0:v.width),hoverCard:!1})))):null}E.displayName="FriendItemViewMainCard";let f=(0,n.F)(E,n.m)},70696(e,t,l){l.r(t),l.d(t,{default:()=>m});var n=l(91557),r=l(40515),a=l(3556),i=l(96540);let o=(0,a.Ay)("div")(({theme:e})=>({flex:1,display:"flex",justifyContent:"space-between",alignItems:"center"})),d=(0,a.Ay)(n.N_E)(({theme:e})=>({flex:1,display:"flex","&:hover":{textDecoration:"none !important"},"&:hover .ItemView-title":{textDecoration:"underline"}})),u=(0,a.Ay)(r.Et)(()=>({"& > *":{whiteSpace:"inherit",wordBreak:"break-word"}})),s=({item:e,identity:t,handleAction:l,state:a,itemProps:s,wrapAs:m,wrapProps:c})=>{let{ItemActionMenu:p,usePageParams:E}=(0,n.PCX)(),{list_id:f}=E(),v=f==e.id;if(!e)return null;let y=`/friend/list/${e.id}`;return i.createElement(r.ne,{wrapAs:m,wrapProps:c,testid:`${e.resource_name}`,"data-eid":t,color:"inherit"},i.createElement(o,null,i.createElement(d,{color:v?"primary":"inherit",to:y},i.createElement(r.Qm,null,i.createElement(r.s4,{icon:"ico-list-bullet",sx:{fontSize:"1rem",color:v?"primary":"text.primary"}})),i.createElement(r.p4,{color:v?"primary":"text.primary"},i.createElement(u,null,e.name),i.createElement(r.CN,null,i.createElement(r.C8,{values:{total_friend:e.total_friend},display:"total_friend",skipZero:!1})))),s.showActionMenu?i.createElement(r.sZ,{visible:"hover"},i.createElement(p,{identity:t,icon:"ico-dottedmore-vertical-o",state:a,handleAction:l})):null))},m=(0,n.FB$)(s,function(e){return{presentMutualFriends:()=>e("friend/presentMutualFriends")}})},84009(e,t,l){l.r(t),l.d(t,{default:()=>c});var n=l(62230),r=l(91557),a=l(62938),i=l(40515),o=l(84475),d=l(8051),u=l(60780),s=l(96540);function m({item:e,identity:t,user:l,wrapAs:n,wrapProps:m,actions:c}){let{i18n:p,dispatch:E,navigate:f,useSession:v}=(0,r.PCX)(),[y,_]=s.useState(!1),{user:h}=v();if(!e||!l||a.fB!==e.friendship)return null;let{friendship:w}=e,{statistic:A,link:C,profile_settings:x}=l,F=(null==h?void 0:h.id)===e.id,k=()=>{_(!1)},M=e=>{e&&(e.preventDefault(),e.stopPropagation());let n=`user.entities.user.${l.id}`;E({type:"user/denyFriendRequest",payload:{identity:n,idRequest:t}})},g=e=>{e&&(e.preventDefault(),e.stopPropagation());let n=`user.entities.user.${l.id}`;E({type:"user/acceptFriendRequest",payload:{identity:n,idRequest:t}})},b=e=>{_(!0),f({pathname:e},{state:{asChildPage:!0}})},I=e=>{e&&(e.preventDefault(),e.stopPropagation()),c.showMutualFriends()};return s.createElement(o.A,{onClickAway:k},s.createElement(i.ne,{testid:`${e.resource_name}`,"data-eid":t,wrapAs:n,wrapProps:m,selected:y,onClick:()=>b(C),role:"button"},s.createElement(i.Qm,null,s.createElement(i.H8,{user:l,size:48,noLink:!0})),s.createElement(i.p4,null,s.createElement(i.Et,null,l.full_name),!F&&A.total_mutual>0&&(null==x?void 0:x.profile_view_profile)?s.createElement(d.A,null,s.createElement(i.CN,{role:"button",onClick:I},s.createElement(i.C8,{values:A,display:"total_mutual"}))):null,a.fB===w?s.createElement(i.Fu,{variant:"fillWidth",spacing:"medium"},s.createElement(u.A,{variant:"contained",color:"primary",size:"small",onClick:g,startIcon:s.createElement(i.s4,{icon:"ico-check"})},p.formatMessage({id:"confirm"})),s.createElement(u.A,{size:"small",variant:"outlined",color:"primary",startIcon:s.createElement(i.s4,{icon:"ico-close"}),onClick:M},p.formatMessage({id:"delete"}))):null)))}m.displayName="FriendRequestSmallCard";let c=(0,n.F)(m,n.m)},88796(e,t,l){l.r(t),l.d(t,{default:()=>s});var n=l(62230),r=l(91557),a=l(62938),i=l(40515),o=l(60780),d=l(96540);function u({item:e,user:t,identity:l,actions:n,wrapAs:u,wrapProps:s}){let{i18n:m}=(0,r.PCX)();if(!e||!t||a.uY!==e.friendship)return null;let{friendship:c}=e,{link:p}=t;return d.createElement(i.ne,{wrapAs:u,wrapProps:s,testid:`${e.resource_name}`,"data-eid":l},d.createElement(i.Qm,null,d.createElement(r.N_E,{to:p,color:"inherit",role:"link"},d.createElement(i.H8,{user:t,size:80}))),d.createElement(i.p4,null,d.createElement(i.Et,null,d.createElement(r.N_E,{to:p,color:"inherit",role:"link",hoverCard:`/user/${null==t?void 0:t.id}`},t.full_name)),a.uY===c?d.createElement(i.Fu,{variant:"fillFirst",spacing:"medium"},d.createElement(o.A,{variant:"contained",color:"primary",size:"small",onClick:n.cancelFriendRequest,startIcon:d.createElement(i.s4,{icon:"ico-user2-del-o"}),sx:{fontWeight:700,flex:"unset !important"}},m.formatMessage({id:"cancel_request"}))):null))}u.displayName="FriendRequestMainCard";let s=(0,n.F)(u,n.m)},9438(e,t,l){l.d(t,{m:()=>r,F:()=>n.FB$});var n=l(91557);function r(e){return{showMutualFriends:()=>e("friend/presentMutualFriends"),showFriends:()=>e("friend/presentFriends")}}},62230(e,t,l){l.d(t,{m:()=>a,F:()=>n.FB$});var n=l(91557),r=l(67725);function a(e){return{deleteFriendRequest:(0,r.jo)(()=>e("friend_request/deny")),acceptFriendRequest:(0,r.jo)(()=>e("friend_request/accept")),cancelFriendRequest:(0,r.jo)(()=>e("friend_request/cancel")),showMutualFriends:(0,r.jo)(()=>e("friend/presentMutualFriends"))}}}}]);