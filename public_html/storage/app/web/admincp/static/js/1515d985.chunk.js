"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-activity-point-blocks-Dashboard-Block"],{61190(e,t,a){a.r(t),a.d(t,{default:()=>x});var n=a(91557),r=a(54499),i=a(3556),l=a(8051),o=a(87773),c=a(97763),s=a(84680),m=a(96540),d=a(40515),p=a(2677);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let g=(0,i.Ay)(l.A,{name:"StatisticPointWrapper"})(()=>({display:"flex",flexWrap:"wrap",marginBottom:"-48px",marginTop:"40px"})),y=(0,i.Ay)(l.A,{name:"ActivityPoint",slot:"statisticPoint",overridesResolver:(e,t)=>[t.statisticPoint]})(({theme:e})=>({paddingBottom:e.spacing(6),width:"25%",[e.breakpoints.down("sm")]:{width:"50%"}})),v=(0,i.Ay)(l.A,{name:"Wrapper"})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap","& .MuiAvatar-root":{marginRight:e.spacing(4)},[e.breakpoints.down("sm")]:{flexDirection:"column",alignItems:"flex-start","& .MuiAvatar-root":{marginRight:e.spacing(0),marginBottom:e.spacing(2)}}})),f=(0,i.Ay)(o.A,{name:"numberStyle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(40)})),h=(0,i.Ay)(l.A,{name:"ActivityPoint",slot:"activityDashboard",overridesResolver:(e,t)=>[t.activityDashboard]})(({theme:e})=>({padding:e.spacing(4)})),A=({data:e})=>{let{useIsMobile:t}=(0,n.PCX)(),a=t(),{label:r,value:i,hint:l}=e;return m.createElement(y,null,m.createElement(o.A,{variant:"body1",color:"text.secondary",sx:{mb:1}},r,m.createElement(c.A,{title:l,enterTouchDelay:a?0:500},m.createElement(d.s4,{sx:{ml:1},icon:" ico-question-circle-o"}))),m.createElement(f,null,i?m.createElement(d.K2,{value:i}):0))};function E({title:e,emptyPage:t="core.block.no_results",...a}){let{useFetchDetail:i,usePageParams:c,i18n:y,jsxBackend:E,dispatch:x}=(0,n.PCX)(),b=c(),k=(0,n.IgF)(r.Oy,r.Oy,"getStatistic"),[_,w,P,B]=i({dataSource:k,pageParams:{id:b.authId,purchase_id:b.purchase_id}});(0,m.useEffect)(()=>{var e;(null==B?void 0:null===(e=B.data)||void 0===e?void 0:e.message)&&x({type:"@handleActionFeedback",payload:B})},[B]);let D=null,{items:W,user:O,available_points:R}=Object.assign({},_);return W&&O||(D=E.render({component:t})),W&&O&&(D=m.createElement(m.Fragment,null,m.createElement(v,null,m.createElement(l.A,{width:"100%"},m.createElement(o.A,{sx:{fontWeight:"fontWeightRegular",fontSize:"1.5rem"}},y.formatMessage({id:"current_points"})),m.createElement(f,null,R?m.createElement(d.K2,{value:R}):0),m.createElement(o.A,{variant:"body1",color:"text.secondary"},y.formatMessage({id:"current_points_description"}))),m.createElement(l.A,null,m.createElement(n.vxq,{sx:{mt:2},variant:"outlined",startIcon:m.createElement(d.s4,{icon:"ico-text-file-search"}),to:"/activitypoint/transactions-history"},y.formatMessage({id:"view_all_transactions"})))),m.createElement(g,null,W.map((e,t)=>m.createElement(A,{data:e,key:t}))))),m.createElement(s.eB,u({testid:"activityPointBlock"},a),m.createElement(s.Tw,{title:e}),m.createElement(s.tD,null,m.createElement(h,null,m.createElement(p.A,{loading:w,error:P},D))))}E.displayName="ActivityPoint_Dashboard";let x=(0,n.WvA)({extendBlock:E})}}]);