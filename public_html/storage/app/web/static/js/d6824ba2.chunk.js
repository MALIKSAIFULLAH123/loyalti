"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-story-blocks-ReviewStoryPhotoMobile-Block"],{24099(e,t,n){n.d(t,{A:()=>y});var o=n(98587),r=n(58168),l=n(96540),i=n(89452),a=n(68248),u=n(39599),c=n(73272),s=n(3556),d=n(92353),f=n(74848);let p=["component","direction","spacing","divider","children"],h=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],m=({ownerState:e,theme:t})=>{let n=(0,r.A)({display:"flex",flexDirection:"column"},(0,i.NI)({theme:t},(0,i.kW)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let o=(0,a.LX)(t),l=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),u=(0,i.kW)({values:e.direction,base:l}),s=(0,i.kW)({values:e.spacing,base:l});"object"==typeof u&&Object.keys(u).forEach((e,t,n)=>{let o=u[e];if(!o){let r=t>0?u[n[t-1]]:"column";u[e]=r}});let d=(t,n)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${h(n?u[n]:e.direction)}`]:(0,a._W)(o,t)}});n=(0,c.A)(n,(0,i.NI)({theme:t},s,d))}return(0,i.iZ)(t.breakpoints,n)},v=(0,s.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(m),g=l.forwardRef(function(e,t){let n=(0,d.A)({props:e,name:"MuiStack"}),i=(0,u.A)(n),{component:a="div",direction:c="column",spacing:s=0,divider:h,children:m}=i,g=(0,o.A)(i,p);return(0,f.jsx)(v,(0,r.A)({as:a,ownerState:{direction:c,spacing:s},ref:t},g,{children:h?function(e,t){let n=l.Children.toArray(e).filter(Boolean);return n.reduce((e,o,r)=>(e.push(o),r<n.length-1&&e.push(l.cloneElement(t,{key:`separator-${r}`})),e),[])}(m,h):m}))}),y=g},60596(e,t,n){n.d(t,{A:()=>I});var o=n(96540),r=n(84535),l=n(2109),i=n(7256),a=n(42421),u=n.n(a),c=n(96435),s=n(48946),d=n(5744),f=n(3556),p=n(8051),h=n(39120),m=n(10454);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}let g={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",hashtag:"editor-hashtag"},y="EditorStory",b=(0,f.Ay)(p.A,{name:y,slot:"PlaceHolder"})(({theme:e})=>({position:"absolute",color:e.palette.text.hint,overflow:"hidden",top:0,left:0,bottom:0,display:"flex",alignItems:"center",userSelect:"none",pointerEvents:"none",zIndex:1})),x=(0,f.Ay)(p.A,{name:y,slot:"EditorContainer"})(({theme:e})=>({position:"relative",width:"100%",border:"light"===e.palette.mode?e.mixins.border("secondary"):"solid 1px rgba(73, 73, 73, 0.2)",backgroundColor:e.palette.action.hover,minHeight:e.spacing(4),borderRadius:e.spacing(3),display:"flex",flexFlow:"wrap",transition:"all 200ms ease 0s",overflow:"hidden",[e.breakpoints.down("md")]:{minHeight:e.spacing(5)},padding:"4px 12px","& .editor-input":{width:"100%",outline:"none",position:"relative",zIndex:2,"& p":{margin:0,padding:0},"& .editor-hashtag, & .editor-mention":{color:e.palette.primary.main,".withBackgroundStatus &":{color:"inherit",textDecoration:"underline"}}}})),E=(0,f.Ay)(p.A,{name:y,slot:"EditorCompose"})(({theme:e})=>({position:"relative",width:"100%",display:"flex",alignItems:"center"}));function w(e){let{editorRef:t}=e,n={theme:g,onError(e){throw e},editorState(n){(0,h.le)(n,(null==e?void 0:e.value)||""),t.current.editor=n},...(null==e?void 0:e.initEditorConfig)||{}};return o.createElement(r.LexicalComposer,{initialConfig:n},o.createElement(C,v({},e)))}function C(e){let{onChange:t,value:n,plugins:r,placeholder:a,sx:f,sxInner:p,onFocus:g,onBlur:y,pluginsProps:b,submitting:w}=e,[C,k]=o.useState(!1),R=(0,h.pt)(),S=o.useRef(!1),_=o.useRef(),[I]=(0,d.useLexicalComposerContext)();o.useEffect(()=>{setImmediate(()=>{S.current=!0})},[]),o.useEffect(()=>{I.setEditable(!w)},[w,I]);let M=e=>{t(e)},z=o.useCallback((e,t)=>{e.read(()=>{let e=!(0,h.Un)(t.isComposing(),!0);if(e){var n;M(null===(n=(0,m.$rootTextContent)())||void 0===n?void 0:n.trim())}else M("");k(e)})},[k,M]);o.useEffect(()=>{R?g&&g():y&&y()},[R]),o.useEffect(()=>{S.current&&I.update(()=>{if(R)return;let e=(0,s.$generateHtmlFromNodes)(I,null);e!==n&&(0,h.le)(I,n)})},[n]);let F=()=>{I.focus()};return o.createElement(x,{ref:_,sx:f,onClick:F},o.createElement(E,{sx:p},o.createElement(l.PlainTextPlugin,{contentEditable:o.createElement(i.ContentEditable,{className:"editor-input",spellCheck:!1}),placeholder:o.createElement(A,{placeholder:a}),ErrorBoundary:u()}),o.createElement(c.OnChangePlugin,{onChange:z}),r.map((e,t)=>o.createElement(e,v({key:`plugin${t}`},b)))))}function A({placeholder:e}){return o.createElement(b,{className:"editor-placeholder"},e)}var k=n(53579);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function S({handleSubmit:e,isMobile:t}){let[n]=(0,d.useLexicalComposerContext)();return o.useLayoutEffect(()=>n.registerCommand(k.KEY_ENTER_COMMAND,o=>!t&&!!e&&(null!==o&&(o.preventDefault(),o.shiftKey)?n.dispatchCommand(k.INSERT_PARAGRAPH_COMMAND,void 0):(e(),!0)),k.COMMAND_PRIORITY_CRITICAL),[n,e,t]),null}function _({handleCancel:e}){let[t]=(0,d.useLexicalComposerContext)();return o.useLayoutEffect(()=>t.registerCommand(k.KEY_ESCAPE_COMMAND,t=>!!e&&(null!==t&&t.preventDefault(),e(),!0),k.COMMAND_PRIORITY_CRITICAL),[t,e]),null}function I(e){let{pluginsProps:t,initEditorConfig:n={}}=e;return o.createElement(w,R({},e,{initEditorConfig:{...n},pluginsProps:t,plugins:[()=>o.createElement(S,{key:"enter-submit",handleSubmit:e.handleSubmit,isMobile:e.isMobile}),()=>o.createElement(_,{key:"esc",handleCancel:e.handleCancel})]}))}},17511(e,t,n){n.d(t,{A:()=>s});var o=n(91557),r=n(40515),l=n(3556),i=n(63461),a=n(96540);let u=(0,l.Ay)(i.A,{name:"storyButtonAddLinkExpand",slot:"root"})(({theme:e})=>({width:"40px",height:"40px",color:e.palette.text.primary,backgroundColor:e.palette.background.default,"&:hover":{backgroundColor:e.palette.background.default},"& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightSemiBold},marginBottom:e.spacing(2)})),c=e=>{let{dialogBackend:t}=(0,o.PCX)(),n=()=>{t.present({component:"story.dialog.addExpandLink",props:e})};return a.createElement(u,{onClick:n},a.createElement(r.s4,{icon:"ico-link"}))},s=c},51871(e,t,n){n.d(t,{A:()=>er,n:()=>G});var o=n(91557),r=n(44562),l=n(85332),i=n(3556),a=n(8051),u=n(60780),c=n(2491),s=n(87773),d=n(14425),f=n.n(d),p=n(58156),h=n.n(p),m=n(62193),v=n.n(m),g=n(2404),y=n.n(g),b=n(69843),x=n.n(b),E=n(90179),w=n.n(E),C=n(97200),A=n.n(C),k=n(96540),R=n(40515),S=n(13718),_=n(67725),I=n(26287),M=n(32890),z=n(88316),F=n(81925),N=n(56600),P=n(5605),O=n(60596),W=n(76355);let T=(0,I.Ay)({resolved:{},chunkName:()=>"reactDraggable",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("reactDraggable").then(n.t.bind(n,55794,23)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>55794}),B="StoryReview",L=(0,i.Ay)("div",{name:B,slot:"RootStyled"})(({theme:e})=>({height:"100%",width:"100%",position:"relative",display:"flex",flexDirection:"column",background:"#000",paddingTop:e.spacing(1),alignItems:"center"})),j=(0,i.Ay)("div",{name:B,slot:"ItemWrapper"})(({theme:e})=>({position:"relative",margin:"auto",height:"100%",borderRadius:e.shape.borderRadius,overflow:"hidden",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"})),D=(0,i.Ay)(a.A,{name:B,slot:"FooterStyled",shouldForwardProp:e=>"width"!==e&&"isMinHeight"!==e})(({theme:e,width:t,isMinHeight:n})=>({minHeight:"80px",zIndex:2,display:"flex",justifyContent:"space-between",alignItems:"center",background:"#000",padding:e.spacing(0,1),...t&&{width:t},...n&&{maxWidth:r.G9}})),H=(0,i.Ay)("div",{name:B,slot:"StoryImageContainer",shouldForwardProp:e=>"width"!==e&&"height"!==e&&"init"!==e})(({theme:e,height:t,width:n,init:o})=>({height:t||"100%",width:n||"390px",position:"relative",overflow:"hidden",borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),borderColor:"#fff",...o&&{opacity:.1,borderWidth:0}})),$=(0,i.Ay)(u.A,{name:B,slot:"backpage"})(({theme:e})=>({position:"absolute",top:16,left:8,color:"#fff",fontSize:e.spacing(3),minWidth:e.spacing(5),padding:0,margin:0,zIndex:2,"& span.ico":{fontWeight:e.typography.fontWeightBold}})),V=(0,i.Ay)(u.A,{name:B,slot:"mutedIcon"})(({theme:e})=>({position:"absolute",top:16,right:60,color:"#fff",fontSize:e.spacing(3),minWidth:e.spacing(5),padding:0,margin:0,zIndex:2,"& span.ico":{fontWeight:e.typography.fontWeightBold}})),U=(0,i.Ay)("div",{name:B,slot:"StoryImage"})(({theme:e})=>({height:"100%"})),q=(0,i.Ay)("div",{name:B,slot:"BackgroundBlur",shouldForwardProp:e=>"type"!==e})(({theme:e,type:t})=>({filter:"blur(30px)",WebkitFilter:"blur(30px)",overflow:"hidden",padding:e.spacing(1.5),height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",transform:`scale(${"video"===t?4:2})`})),K=(0,i.Ay)("div",{name:B,slot:"EditorBlockStyled"})(({theme:e})=>({position:"absolute",left:0,top:"100px",right:0,margin:e.spacing(0,3)})),X=(0,i.Ay)("div",{name:B,slot:"InputContent",shouldForwardProp:e=>"fontFamily"!==e})(({theme:e,fontFamily:t})=>({height:"100%",overflow:"hidden",padding:e.spacing(3),position:"absolute",left:0,top:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",zIndex:1,fontWeight:e.typography.fontWeightRegular,fontSize:e.mixins.pxToRem(28),wordBreak:"break-word",wordWrap:"break-word",color:"#fff","& a":{color:"#fff"},...t&&{fontFamily:t}})),Y=(0,i.Ay)(a.A,{name:B})(({theme:e})=>({position:"absolute",top:0,cursor:"move"})),G=(0,i.Ay)("div",{name:B,slot:"TextContent",shouldForwardProp:e=>"fontFamily"!==e&&"position"!==e})(({theme:e,fontFamily:t,position:n})=>({maxHeight:"100%",position:"absolute",left:0,top:0,bottom:0,right:0,textAlign:"center",zIndex:1,fontWeight:e.typography.fontWeightRegular,fontSize:e.mixins.pxToRem(28),wordBreak:"break-word",wordWrap:"break-word",color:"#fff","& a":{color:"#fff"},...t&&{fontFamily:t},width:"fit-content",height:"fit-content",boxSizing:"border-box",border:e.mixins.border("primary"),borderColor:"transparent",cursor:"move",lineHeight:"normal","&:hover":{borderColor:"#fff"}})),Z=(0,i.Ay)(a.A,{name:B,slot:"PrivacyStyled"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#fff",fontSize:e.mixins.pxToRem(20)})),J=(0,i.Ay)(a.A,{name:B,slot:"ButtonSubmit"})(({theme:e})=>({})),Q=(0,i.Ay)(a.A)(({theme:e})=>({width:"40px",height:"40px",padding:e.spacing(1.25),borderRadius:"50%",backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center","& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightBold}})),ee=(0,i.Ay)(a.A)(({theme:e})=>({position:"absolute",top:16,right:16})),et=(0,i.Ay)(R.s4,{shouldForwardProp:e=>"open"!==e})(({theme:e,open:t})=>({marginBottom:e.spacing(1),...t&&{color:e.palette.primary.main}})),en=(0,i.Ay)(a.A,{name:B,slot:"ContentWrapper"})(({theme:e})=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flex:1,minHeight:0,position:"relative"})),eo=(0,i.Ay)("img",{name:"PreviewDv",slot:"Root"})(({theme:e})=>({pointerEvents:"none",objectFit:"contain",maxWidth:"unset"})),er=function(){var e,t,n;let{i18n:i,eventCenter:u,useTheme:d,usePageParams:p,dispatch:m}=(0,o.PCX)(),g=p(),[b,E]=k.useState([]),[C,I]=k.useState(null),[B,er]=k.useState(null),[el,ei]=k.useState([]),[ea,eu]=k.useState(),[ec,es]=k.useState(),[ed,ef]=k.useState({}),[ep,eh]=k.useState(!1),[em,ev]=k.useState(),eg=(0,c.A)("(max-height:667px)"),ey=k.useRef(null),eb=(0,l.Ay)(),{checkSetStatus:ex,filePhoto:eE,uploading:ew,setIsDirty:eC,isSubmitting:eA,setIsSubmitting:ek}=eb||{},eR=d(),[eS,e_]=k.useState(""),eI=k.useRef(),eM=k.useRef(),ez=k.useRef(),eF=k.useRef(),eN=k.useRef(),eP=k.useRef(),eO=k.useRef(!0),[eW,eT]=k.useState(!0),[eB,eL]=k.useState({width:0,height:0}),[ej,eD]=k.useState(0),[eH,e$]=k.useState(""),eV=k.useRef({});z.EW.imageSrc=ea;let[eU,eq]=k.useReducer(z.hC,{...z.EW}),[eK,eX]=(0,l.Uf)(ez),{position:eY,rotation:eG,zoom:eZ,bound:eJ,isDirty:eQ}=eU;k.useEffect(()=>{if(eN.current&&eA){var e;null===(e=eN.current)||void 0===e||e.pause()}},[eA]);let e0=k.useCallback(()=>{var e,t,n,o,r,l;if(!eO.current||!eN.current&&!eP.current||!eK)return;let i=(null===(e=eP.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=eN.current)||void 0===t?void 0:t.videoWidth)||0,a=(null===(n=eP.current)||void 0===n?void 0:n.naturalHeight)||(null===(o=eN.current)||void 0===o?void 0:o.videoHeight)||0,u=i/eK,c={width:parseInt(i/u),height:parseInt(a/u)};"video"===ec&&eN.current&&(null===(r=e2.current)||void 0===r||r.setFieldValue("duration",parseInt(null===(l=eN.current)||void 0===l?void 0:l.duration)));let s={x:0,y:(eX-c.height)/2};eL(c),eq({type:"setInitImage",payload:{width:c.width,height:c.height,widthContainer:eK,heightContainer:eX,position:s}}),eO.current=!1},[eK,ec,eX]);k.useEffect(()=>{eK&&e0()},[e0,eK]);let e1=el.find(e=>e.id===B),e5=k.useCallback(()=>{setImmediate(()=>{var e,t;return null===(e=eV.current)||void 0===e?void 0:null===(t=e.editor)||void 0===t?void 0:t.focus()})},[]);k.useEffect(()=>{if(!ew&&eE){let e=(null==eE?void 0:eE.temp_file)?null==eE?void 0:eE.url:URL.createObjectURL(eE),t=(0,_.EL)(null==eE?void 0:eE.type)?"video":"photo";es(t),eu(e)}},[eE,ew]),k.useEffect(()=>{if(ew){let e=async()=>{let e=await (0,F.TA)(eE);m({type:o.F7S,payload:{item:{source:e,file:eE,type:"photo",file_type:"photo"}},meta:{onUploadProgress(e){let t=Math.round(100*e.loaded/e.total);t>99||eD(t)},onParseFile(e){let{preUploadFile:t}=e;eb.setFilePhoto(t),eb.setUploading(!1)},onError(){eb.setUploading(!1)}}})};e()}},[eE,ew]);let e2=k.useRef(),e6=(e,t=!1)=>{var n;if(v()(e))return{x:0,y:0};let o=null==e?void 0:e.x,r=null==eF?void 0:null===(n=eF.current)||void 0===n?void 0:n.getBoundingClientRect();t&&(null==eF?void 0:eF.current)&&(o-=r.width/2);let l=100*o/eK,i=(null==e?void 0:e.y)*100/eX;return{top:`${parseFloat(null==i?void 0:i.toFixed(2))}%`||0,left:`${parseFloat(null==l?void 0:l.toFixed(2))}%`||0}};k.useEffect(()=>{var e,t,n;let o=u.on(r.ck,e=>{let t=h()(e,"form");y()(t,e2.current)||(e2.current=t)});if(!e2.current)return;let l=el.map(e=>w()({...e,textAlign:"center",transform:{rotation:0,scale:1,position:e6(null==e?void 0:e.position,null==e?void 0:e.isNew)}},r.cn));return null===(e=e2.current)||void 0===e||e.setFieldValue("file",eE),null===(t=e2.current)||void 0===t||t.setFieldValue("type",ec),null===(n=e2.current)||void 0===n||n.setFieldValue("extra",{transform:{position:e6(eY),rotation:eG,scale:eZ},storyHeight:eX,texts:l,size:{width:eB.width,height:eB.height}}),()=>u.off(r.ck,o)},[eE,eY,eG,eZ,eK,eX,ec,el,eB]),k.useEffect(()=>{let e=u.on(r.ck,e=>{let t=h()(e,"values");ev(e);let n=h()(e,"schema.elements.content.elements.basic.elements.expand_link");I(null==n?void 0:n.name);let o=h()(e,"schema.elements.content.elements.basic.elements.font_style.options");E(null!=o?o:[]),v()(t)||ef(e=>({...e,...t}))});return()=>u.off(r.ck,e)},[]);let e4=()=>{B&&(ei(e=>e.filter(e=>e.text).map(e=>{if(e.isNew){var t,n;let o=null==eF?void 0:null===(t=eF.current)||void 0===t?void 0:t.getBoundingClientRect(),r=(null==e?void 0:null===(n=e.position)||void 0===n?void 0:n.x)-(null==o?void 0:o.width)/2;return{...e,position:{x:r||0,y:150},visible:!0,isNew:!1}}return{...e,visible:!0}})),er(null),e_(""),e$(""))},e3=e=>{e_(e.text),ei(t=>t.map(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id)?{...t,visible:!1}:t)),er(e.id),e$(f()(e.text))},e9=e=>{ei(t=>t.filter(t=>t.id!==e.id)),e4()},e8=e=>{var t;(null==eI?void 0:eI.current)&&(null===(t=eI.current)||void 0===t?void 0:t.contains(null==e?void 0:e.target))||e4()},e7=e=>{ei(t=>t.map(t=>(null==t?void 0:t.id)===B?{...t,...e}:t))},te=e=>{ef(t=>({...t,...e}))},tt=e=>{e$(e),e_(e)};k.useEffect(()=>{B&&ei(e=>e.map(e=>{if((null==e?void 0:e.id)===B){var t;let n=null==eF?void 0:null===(t=eF.current)||void 0===t?void 0:t.getBoundingClientRect(),o=(null==n?void 0:n.width)?`${n.width/(eK-2)*100}%`:"100%";return{...e,width:o,text:eS,visible:!1}}return e}))},[B,eS,eK,null==e1?void 0:e1.fontSize,null==e1?void 0:e1.fontFamily]);let tn=()=>{ex()},to=k.useCallback(()=>{ek(!1),eC(!1)},[]),tr=e=>{let t=el.map(e=>w()({...e,textAlign:"center",transform:{rotation:0,scale:1,position:e6(null==e?void 0:e.position,null==e?void 0:e.isNew)}},r.cn));return{...e||{},file:eE,type:ec,extra:{transform:{position:e6(eY),rotation:eG,scale:eZ},storyHeight:eX,texts:t,size:{width:eB.width,height:eB.height}}}},tl=()=>{let e=tr({...null==em?void 0:em.values,...ed});"video"===ec&&(0,N.C)(eN.current),e4(),ek(!0),m({type:"story/submitFormAdd",payload:{...em,formSchema:null==em?void 0:em.schema,values:e,pageParams:g},meta:{onSuccess:to}})},ti=()=>{eh(e=>!e),e4()},ta=()=>{if(eA)return;let e=A()("add_text");if(y()(ey.current,e))return;ey.current=e,er(e);let t=el.find(t=>t.id===e);if(!t){var n,o;let l=null===(n=eM.current)||void 0===n?void 0:n.getBoundingClientRect(),i=l.width/2;ei([...el,{id:e,text:"",visible:!1,fontFamily:(null==b?void 0:null===(o=b[0])||void 0===o?void 0:o.value)||r.fm,textAlign:"center",fontSize:r.FV,width:"100%",color:r.OT,isNew:!0,position:{x:i,y:150}}]),e5()}},tu=k.useMemo(()=>eg?"auto":window.screen.width<eX?eK:r.G9,[eg,eX,eK]),tc=k.useMemo(()=>eK||eX?!eg||window.screen.width<eX?eK:r.G9:tu,[eg,eX,eK,tu]);if(x()(ea)&&!ew)return null;let ts=(null==eB?void 0:eB.width)?eB.width*eZ:0,td=(null==eB?void 0:eB.height)?eB.height*eZ:0,tf=(td-ts)/2,tp=!eK&&!eX,th=()=>{eT(e=>!e)};return k.createElement(L,null,k.createElement(z.bQ,null),tp||eA?k.createElement(z.Cj,null):null,ew?k.createElement(z.ZJ,{progressFile:ej}):null,k.createElement(en,{style:{width:tu,height:eX||"100%"}},k.createElement(j,null,k.createElement(H,{init:tp,height:eX,width:eK,ref:ez},k.createElement($,{onClick:tn},k.createElement(R.s4,{icon:"ico-angle-left"})),"video"===ec&&k.createElement(V,{size:"medium",onClick:th},k.createElement(R.s4,{icon:eW?"ico-volume-del":"ico-volume-increase"})),k.createElement(U,{ref:eM,id:r.Yo},"photo"===ec?k.createElement(q,{style:{backgroundImage:`url(${ea})`}}):k.createElement(q,{type:ec},k.createElement("video",{src:ea,draggable:!1,controls:!1,autoPlay:!1,playsInline:!0,muted:!0,id:"videoThumbMobileId",style:{borderRadius:eR.shape.borderRadius,width:"100%",height:"100%",border:0,...eA&&{visibility:"hidden"}}})),k.createElement(T,{bounds:eG%4==0?eJ:{top:eJ.top-tf,left:eJ.left+tf,right:eJ.right+tf,bottom:eJ.bottom-tf},key:`${ea}${eZ}${eG}`,position:eY,positionOffset:eG%4==0?void 0:{x:0-tf,y:tf},onDrag(e,t){eq({type:"setDrag",payload:{position:t}})}},k.createElement(Y,{sx:{width:eG%4==0?ts:td,height:eG%4==0?td:ts}},"photo"===ec?k.createElement(eo,{key:`${ea}${eZ}`,src:ea,ref:eP,onLoad:e0,style:{transform:F.U[eG],transformOrigin:"0 0",width:ts,height:td,position:"absolute",left:0,top:0}}):k.createElement(k.Fragment,null,k.createElement("video",{autoPlay:!eA,loop:!eA,muted:eW,playsInline:!0,src:ea,ref:eN,id:"videoMobileId",onLoadedMetadata:e0,className:eA?"srOnly":"",style:{transform:F.U[eG],transformOrigin:"0 0",width:ts,height:td,position:"absolute",left:0,top:0,...eA&&{visibility:"hidden"}},controls:!1}),k.createElement("div",{id:"captureVideoId",className:eA?"":"srOnly",style:{transform:F.U[eG],transformOrigin:"0 0",width:ts,height:td,position:"absolute",left:0,top:0}})))),k.createElement(X,{style:{display:B?"inline-block":"none",color:null!==(e=null==e1?void 0:e1.color)&&void 0!==e?e:r.OT,fontSize:null!==(t=null==e1?void 0:e1.fontSize)&&void 0!==t?t:r.FV},fontFamily:null==e1?void 0:e1.fontFamily,onClick:e8},k.createElement(K,{ref:eI},k.createElement(O.A,{onChange:tt,value:eH,editorRef:eV,placeholder:i.formatMessage({id:"start_typing"}),sx:{border:0,padding:"6px 12px",background:"none",overflow:"visible",minHeight:"32px"},sxInner:{"& .editor-placeholder":{overflow:"inherit",left:0,right:0,justifyContent:"center",color:"#fff"}}}))),eS?k.createElement(T,{bounds:"parent",position:{x:0,y:0}},k.createElement(G,{ref:eF,fontFamily:null==e1?void 0:e1.fontFamily,style:{visibility:"hidden",fontSize:null!==(n=null==e1?void 0:e1.fontSize)&&void 0!==n?n:r.FV,border:"none"}},k.createElement(a.A,{sx:{whiteSpace:"pre-line"}},eS))):null,(null==el?void 0:el.length)?k.createElement(k.Fragment,null,el.filter(e=>e.visible).map(e=>k.createElement(W.A,{key:null==e?void 0:e.id,item:e,setListText:ei,widthContainer:eK,heightContainer:eX,onSelectItemText:e3}))):null),k.createElement(ee,null,k.createElement(Q,{onClick:ta},k.createElement(R.s4,{icon:"ico-plus"}))),(null==ed?void 0:ed.expand_link)&&k.createElement(P.A,{link:null==ed?void 0:ed.expand_link})),B?k.createElement(M.A,{itemSelect:e1,handleDeleteText:e9,item:ed,updateItem:e7,optionFontStyle:b,nameFieldExpandLink:C,updateExpandData:te}):null),eA?null:k.createElement(z.S1,{open:ep,setOpen:eh,isMinHeight:eg})),k.createElement(z.q2,{open:eQ,fire:eq,state:eU}),k.createElement(D,{isMinHeight:eg,width:tc},k.createElement(Z,{onClick:ti},k.createElement(et,{icon:"ico-gear-o",color:"primary",open:ep}),k.createElement(s.A,{component:"span",variant:"body2"},i.formatMessage({id:"privacy_settings"}))),k.createElement(J,null,k.createElement(S.A,{loading:eA,disabled:eA,onClick:tl,variant:"contained",color:"primary",size:"medium",type:"submit",role:"button"},i.formatMessage({id:"create"})))))}},15653(e,t,n){n.r(t),n.d(t,{default:()=>l});var o=n(91557),r=n(51871);let l=(0,o.WvA)({name:"StoryReviewMobile",extendBlock:r.A,defaults:{blockLayout:"Review Story Mobile"}})},301(e,t,n){n.d(t,{A:()=>h});var o=n(91557),r=n(3556),l=n(8051),i=n(63009),a=n(57660),u=n(62193),c=n.n(u),s=n(96540);let d=(0,r.Ay)(l.A)(({theme:e})=>({width:"40px",height:"40px",padding:e.spacing(1.25),borderRadius:"50%",backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center","& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightSemiBold}})),f=(0,r.Ay)(l.A)(({theme:e})=>({})),p=e=>{let{i18n:t}=(0,o.PCX)(),[n,r]=s.useState(!1),u=s.useRef(),{option:p,updateItem:h,item:m}=e||{};if(c()(p))return;let v=e=>{h&&h({fontFamily:e.value}),r(!1)};return s.createElement(s.Fragment,null,s.createElement(f,{ref:u},s.createElement(d,{onClick:()=>r(!0)},s.createElement("span",null,t.formatMessage({id:"Aa"})))),s.createElement(i.Ay,{disablePortal:!1,open:n,anchorEl:u.current,onClose:()=>r(!1),style:{zIndex:9999},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},s.createElement(l.A,{width:160},p.map(e=>s.createElement(a.A,{value:e.value,key:e.value,onClick:()=>v(e)},s.createElement(l.A,{sx:(null==m?void 0:m.fontFamily)===e.value&&{fontWeight:"bold"}},e.label))))))},h=p},32890(e,t,n){n.d(t,{A:()=>C});var o=n(3556),r=n(8051),l=n(63009),i=n(96540),a=n(64596),u=n(40515);let c=(0,o.Ay)(r.A,{name:"MuiButton",slot:"ColorPickerAdornment"})(({theme:e,color:t})=>({width:"40px",height:"40px",borderRadius:"50%",backgroundColor:t,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"," span":{color:"#000",fontSize:e.mixins.pxToRem(24)}})),s=e=>{var t,n;let[o,r]=i.useState(!1),s=i.useRef(),{defaultValue:d="#fff",picker:f="chrome",item:p,updateItem:h}=e,m=e=>{h&&h({color:e})};return i.createElement(i.Fragment,null,i.createElement(c,{ref:s,color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:d,onClick:()=>r(!0)},i.createElement(u.s4,{icon:"ico-color-palette"})),i.createElement(l.Ay,{disablePortal:!1,open:o,anchorEl:s.current,onClose:()=>r(!1),style:{zIndex:9999},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},i.createElement(a.A,{color:null!==(n=null==p?void 0:p.color)&&void 0!==n?n:d,onChange:m,picker:f})))};var d=n(14931),f=n(97763),p=n(24099),h=n(301),m=n(17511);let v=(0,o.Ay)(r.A)(({theme:e})=>({width:"100%",height:"100%",position:"absolute"})),g=(0,o.Ay)(r.A)(({theme:e})=>({position:"absolute",top:"20%",left:0,zIndex:2})),y=(0,o.Ay)(r.A)(({theme:e})=>({position:"absolute",top:100,right:16,zIndex:2,"& > div":{marginBottom:e.spacing(2)}})),b=(0,o.Ay)(r.A)(({theme:e})=>({zIndex:2,border:e.mixins.border("secondary"),borderRadius:"50%"})),x=(0,o.Ay)(d.Ay)(({theme:e})=>({color:"#fff","& .MuiSlider-rail":{width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"200px solid currentColor",backgroundColor:"transparent",borderRadius:0},"& .MuiSlider-track":{border:"none",backgroundColor:"transparent"}})),E=(0,o.Ay)(r.A)(({theme:e})=>({width:"40px",height:"40px",padding:e.spacing(1.25),borderRadius:"50%",backgroundColor:e.palette.background.default,display:"flex",justifyContent:"center",alignItems:"center","& span":{fontSize:e.mixins.pxToRem(16),fontWeight:e.typography.fontWeightSemiBold}}));function w(e){let{children:t,value:n}=e;return i.createElement(f.A,{enterTouchDelay:0,placement:"top",title:n},t)}let C=function({itemSelect:e,optionFontStyle:t,item:n,updateItem:o,handleDeleteText:r,nameFieldExpandLink:l,updateExpandData:a}){if(!n)return null;let c=e=>{o&&o({fontSize:e.target.value})};return i.createElement(v,null,i.createElement(g,null,i.createElement(p.A,{direction:"row",sx:{height:200},alignItems:"center"},i.createElement(x,{orientation:"vertical",valueLabelDisplay:"auto",slots:{valueLabel:w},"aria-label":"custom thumb label",defaultValue:12,value:(null==e?void 0:e.fontSize)||(null==n?void 0:n.fontSize),onChange:c,min:12,max:80}))),i.createElement(y,null,i.createElement(b,null,i.createElement(s,{defaultValue:(null==e?void 0:e.color)||n.color,item:n,updateItem:o})),t?i.createElement(h.A,{option:t,updateItem:o,item:e||n}):null,l&&i.createElement(m.A,{updateItem:a,item:n,nameField:l}),i.createElement(E,{onClick:()=>r(e)},i.createElement(u.s4,{icon:"ico-trash-alt-o"}))))}},76355(e,t,n){n.d(t,{A:()=>s});var o=n(96540),r=n(26287),l=n(91557),i=n(51871),a=n(44562),u=n(8051);let c=(0,r.Ay)({resolved:{},chunkName:()=>"reactDraggable",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("reactDraggable").then(n.t.bind(n,55794,23)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>55794}),s=function({item:e,setListText:t,widthContainer:n,heightContainer:r,onSelectItemText:s}){var d,f;let{i18n:p}=(0,l.PCX)(),h=o.useRef(),m=o.useRef(),v=o.useMemo(()=>{var e;let t=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect(),o=null==t?void 0:t.width,l=null==t?void 0:t.height;return o||l?{top:0,left:0,right:n-(o+2||0),bottom:r-(l+2||0)}:"parent"},[n,r,m]),g=e=>{s(e)},y=(e,{x:n,y:o},r)=>{r&&t(e=>e.map(e=>(null==e?void 0:e.id)===(null==r?void 0:r.id)?{...e,position:{x:n,y:o}}:e))};return o.createElement(c,{ref:m,bounds:v,key:e.id,position:null==e?void 0:e.position,onStop(t,n){y(t,n,e),h.current&&g(e)},onDrag(){h.current&&(h.current=!1)},onMouseDown(){h.current=!0}},o.createElement(i.n,{fontFamily:null==e?void 0:e.fontFamily,style:{color:null!==(d=null==e?void 0:e.color)&&void 0!==d?d:a.OT,fontSize:null!==(f=null==e?void 0:e.fontSize)&&void 0!==f?f:a.FV}},o.createElement(u.A,{sx:{whiteSpace:"pre-line"}},(null==e?void 0:e.text)||p.formatMessage({id:"start_typing"}))))}},64596(e,t,n){n.d(t,{A:()=>d});var o=n(3556),r=n(8051),l=n(771),i=n(96540),a=n(7612);let u=(0,o.Ay)(r.A,{name:"MuiButton",slot:"ColorPickerAdornment"})(({theme:e,color:t})=>({width:26,height:26,border:"1px solid rgba(0,0,0,0.1)",borderRadius:e.shape.borderRadius,backgroundColor:t,cursor:"pointer",margin:e.spacing(.4)})),c=(0,o.Ay)(r.A)(({theme:e})=>({display:"flex",flexWrap:"wrap",marginTop:e.spacing(2)})),s=["#fff","#000","#2a86ae","#702928","#f6724a","#f1c43a","#8e939c","#89be4c","#2b457c","#f83d3c","#dcd3ef","#fb3ea0"],d=function({color:e="#000",onChange:t}){try{e=/#/i.test(e)?e:(0,l.Ob)(e)}catch(n){}let[o,d]=i.useState(e);return i.useEffect(()=>{try{(0,l.E2)(o),t(o)}catch(e){}},[o]),i.createElement(r.A,{sx:{p:2,maxWidth:"230px"}},i.createElement(a.jI,{color:o,onChange:d,style:{height:"150px"}}),i.createElement(c,null,s.map(e=>i.createElement(u,{key:e,color:null!=e?e:o,onClick:()=>d(e)}))))}},5605(e,t,n){n.d(t,{A:()=>c});var o=n(91557),r=n(3556),l=n(96540),i=n(91262);let a=(0,r.Ay)(o.vxq,{name:"seeMoreLinkStory",slot:"SeeMoreLink",shouldForwardProp:e=>"isPreview"!==e})(({theme:e,isPreview:t})=>({...t&&{position:"absolute",left:"50%",bottom:16,transform:"translate(-50%, 0)"},color:"#fff",borderColor:"#fff",borderRadius:e.spacing(3),zIndex:3})),u=({link:e,sx:t,variant:n="outlined",fire:r,isPreview:u=!0})=>{let{i18n:c}=(0,o.PCX)();if(!e)return;let s=()=>{r&&r({type:"setForcePause",payload:i.ZR.No})},d=()=>{r&&r({type:"setForcePause",payload:i.ZR.Pause})};return l.createElement(a,{isPreview:u,to:e,variant:n,sx:t,onClick:d,onCancel:s},c.formatMessage({id:"visit_link"}))},c=u},56600(e,t,n){n.d(t,{C:()=>r});let o=[];function r(e){try{var t,n;let r=function(e){let t=document.createElement("canvas");t.width=e.clientWidth,t.height=e.clientHeight;let n=t.getContext("2d");return n.drawImage(e,0,0,e.clientWidth,e.clientHeight),t}(e),l=document.getElementById("captureVideoId"),i=document.getElementById("captureThumbId");if(!l)return;r.onclick=()=>{window.open(r.toDataURL("image/jpg"))},o.unshift(r),l.innerHTML="",l.appendChild(o[0]),i&&(i.innerHTML="",i.appendChild(o[0])),null===(t=document.getElementById("videoMobileId"))||void 0===t||t.remove(),null===(n=document.getElementById("videoThumbMobileId"))||void 0===n||n.remove()}catch(a){}}},7612(e,t,n){n.d(t,{dp:()=>U,jI:()=>D});var o=n(96540);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t.indexOf(n=l[o])>=0||(r[n]=e[n]);return r}function i(e){var t=(0,o.useRef)(e),n=(0,o.useRef)(function(e){t.current&&t.current(e)});return t.current=e,n.current}var a=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},u=function(e){return"touches"in e},c=function(e){return e&&e.ownerDocument.defaultView||self},s=function(e,t,n){var o=e.getBoundingClientRect(),r=u(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:a((r.pageX-(o.left+c(e).pageXOffset))/o.width),top:a((r.pageY-(o.top+c(e).pageYOffset))/o.height)}},d=function(e){u(e)||e.preventDefault()},f=o.memo(function(e){var t=e.onMove,n=e.onKey,a=l(e,["onMove","onKey"]),f=(0,o.useRef)(null),p=i(t),h=i(n),m=(0,o.useRef)(null),v=(0,o.useRef)(!1),g=(0,o.useMemo)(function(){var e=function(e){d(e),(u(e)?e.touches.length>0:e.buttons>0)&&f.current?p(s(f.current,e,m.current)):n(!1)},t=function(){return n(!1)};function n(n){var o=v.current,r=c(f.current),l=n?r.addEventListener:r.removeEventListener;l(o?"touchmove":"mousemove",e),l(o?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,o=f.current;if(o&&(d(t),(!v.current||u(t))&&o)){if(u(t)){v.current=!0;var r=t.changedTouches||[];r.length&&(m.current=r[0].identifier)}o.focus(),p(s(o,t,m.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),h({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]},[h,p]),y=g[0],b=g[1],x=g[2];return(0,o.useEffect)(function(){return x},[x]),o.createElement("div",r({},a,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:f,onKeyDown:b,tabIndex:0,role:"slider"}))}),p=function(e){return e.filter(Boolean).join(" ")},h=function(e){var t=e.color,n=e.left,r=e.top,l=p(["react-colorful__pointer",e.className]);return o.createElement("div",{className:l,style:{top:100*(void 0===r?.5:r)+"%",left:100*n+"%"}},o.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},m=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},v={grad:.9,turn:360,rad:360/(2*Math.PI)},g=function(e){return _(y(e))},y=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?m(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?m(parseInt(e.substring(6,8),16)/255,2):1}},b=function(e,t){return void 0===t&&(t="deg"),Number(e)*(v[t]||1)},x=function(e){var t=e.s,n=e.l;return{h:e.h,s:(t*=(n<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}},E=function(e){return S(k(e))},w=function(e){var t=e.s,n=e.v,o=e.a,r=(200-t)*n/100;return{h:m(e.h),s:m(r>0&&r<200?t*n/100/(r<=100?r:200-r)*100:0),l:m(r/2),a:m(o,2)}},C=function(e){var t=w(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},A=function(e){var t=w(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},k=function(e){var t=e.h,n=e.s,o=e.v,r=e.a;t=t/360*6,n/=100,o/=100;var l=Math.floor(t),i=o*(1-n),a=o*(1-(t-l)*n),u=o*(1-(1-t+l)*n),c=l%6;return{r:m(255*[o,a,i,i,u,o][c]),g:m(255*[u,o,o,a,i,i][c]),b:m(255*[i,i,u,o,o,a][c]),a:m(r,2)}},R=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},S=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,l=r<1?R(m(255*r)):"";return"#"+R(t)+R(n)+R(o)+l},_=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,l=Math.max(t,n,o),i=l-Math.min(t,n,o),a=i?l===t?(n-o)/i:l===n?2+(o-t)/i:4+(t-n)/i:0;return{h:m(60*(a<0?a+6:a)),s:m(l?i/l*100:0),v:m(l/255*100),a:r}},I=function(e){return{h:m(e.h),s:m(e.s),v:m(e.v),a:m(e.a,2)}},M=o.memo(function(e){var t=e.hue,n=e.onChange,r=p(["react-colorful__hue",e.className]);return o.createElement("div",{className:r},o.createElement(f,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:a(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":m(t),"aria-valuemax":"360","aria-valuemin":"0"},o.createElement(h,{className:"react-colorful__hue-pointer",left:t/360,color:C({h:t,s:100,v:100,a:1})})))}),z=o.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:C({h:t.h,s:100,v:100,a:1})};return o.createElement("div",{className:"react-colorful__saturation",style:r},o.createElement(f,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:a(t.s+100*e.left,0,100),v:a(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+m(t.s)+"%, Brightness "+m(t.v)+"%"},o.createElement(h,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:C(t)})))}),F=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},N=function(e,t){return e.toLowerCase()===t.toLowerCase()||F(y(e),y(t))};function P(e,t,n){var r=i(n),l=(0,o.useState)(function(){return e.toHsva(t)}),a=l[0],u=l[1],c=(0,o.useRef)({color:t,hsva:a});return(0,o.useEffect)(function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},u(n)}},[t,e]),(0,o.useEffect)(function(){var t;F(a,c.current.hsva)||e.equal(t=e.fromHsva(a),c.current.color)||(c.current={hsva:a,color:t},r(t))},[a,e,r]),[a,(0,o.useCallback)(function(e){u(function(t){return Object.assign({},t,e)})},[])]}var O,W="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,T=new Map,B=function(e){W(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!T.has(t)){var o=t.createElement("style");o.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',T.set(t,o);var r=O||n.nc;r&&o.setAttribute("nonce",r),t.head.appendChild(o)}},[])},L=function(e){var t=e.className,n=e.colorModel,i=e.color,a=void 0===i?n.defaultColor:i,u=e.onChange,c=l(e,["className","colorModel","color","onChange"]),s=(0,o.useRef)(null);B(s);var d=P(n,a,u),f=d[0],h=d[1],m=p(["react-colorful",t]);return o.createElement("div",r({},c,{ref:s,className:m}),o.createElement(z,{hsva:f,onChange:h}),o.createElement(M,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},j={defaultColor:"000",toHsva:g,fromHsva:function(e){return E({h:e.h,s:e.s,v:e.v,a:1})},equal:N},D=function(e){return o.createElement(L,r({},e,{colorModel:j}))},H=function(e){var t=e.className,n=e.hsva,r=e.onChange,l={backgroundImage:"linear-gradient(90deg, "+A(Object.assign({},n,{a:0}))+", "+A(Object.assign({},n,{a:1}))+")"},i=p(["react-colorful__alpha",t]),u=m(100*n.a);return o.createElement("div",{className:i},o.createElement("div",{className:"react-colorful__alpha-gradient",style:l}),o.createElement(f,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:a(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":u+"%","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"},o.createElement(h,{className:"react-colorful__alpha-pointer",left:n.a,color:A(n)})))},$=function(e){var t=e.className,n=e.colorModel,i=e.color,a=void 0===i?n.defaultColor:i,u=e.onChange,c=l(e,["className","colorModel","color","onChange"]),s=(0,o.useRef)(null);B(s);var d=P(n,a,u),f=d[0],h=d[1],m=p(["react-colorful",t]);return o.createElement("div",r({},c,{ref:s,className:m}),o.createElement(z,{hsva:f,onChange:h}),o.createElement(M,{hue:f.h,onChange:h}),o.createElement(H,{hsva:f,onChange:h,className:"react-colorful__last-control"}))},V={defaultColor:"0001",toHsva:g,fromHsva:E,equal:N},U=function(e){return o.createElement($,r({},e,{colorModel:V}))}}}]);