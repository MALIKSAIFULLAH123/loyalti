"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["feed","metafox-user-components-ManageHiddenItem-LoadingSkeleton","metafox-feed-components-TrendingHashtag-LoadingSkeleton"],{8160(e,t,n){n.r(t),n.d(t,{default:()=>v});var r=n(91557),a=n(3556),l=n(8051),o=n(92885),i=n(89481),d=n(96540),s=n(50305),c=n(67725);let u="DetectLanguageButton",m=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gm,p=(0,a.Ay)(l.A,{name:u,slot:"wrapper",overridesResolver:(e,t)=>[t.wrapper],shouldForwardProp:e=>"active"!==e})(({theme:e,active:t})=>({display:"block",...t&&{borderLeft:e.mixins.border("secondary"),borderWidth:"3px",paddingLeft:e.spacing(2)}})),f=(0,a.Ay)(o.A,{name:u,slot:"buttonTranslate",overridesResolver:(e,t)=>[t.buttonTranslate]})(({theme:e})=>({display:"inline-flex",color:`${e.palette.text.secondary} !important`,...e.typography.body2})),v=function(e){let{text:t,identity:n,onTranslateSuccess:a,sx:o,TranslateView:u}=e,{i18n:v,dispatch:g,getSetting:y}=(0,r.PCX)(),h=(0,r.wVH)(),{user:E}=h,_=y("translation.enable_translate"),[b,w]=d.useState(!1),[A,x]=d.useState(),[k,C]=d.useState(!1),[S,P]=d.useState(!0),F=null==E?void 0:E.language_id;d.useEffect(()=>{if(!F)return;let{length:e,cleanText:n}=function(e){let t=(0,c.Kq)(e).replace(m,""),n=null==t?void 0:t.replace(/\s/g,"").length;return{length:n,cleanText:t}}(t);e<20||g({type:s.wp,payload:{text:n},meta:{onSuccess(e){e&&w(F!==e)}}})},[]);let M=()=>{P(e=>!e)},I=()=>{k||g({type:s.b4,payload:{identity:n},meta:{onStart(){C(!0)},onSuccess(e){x(e),a&&a(e)},onFinally(){C(!1)}}})};return _&&b&&n&&F?d.createElement(p,{sx:o,active:!!(A&&S)},S&&A?d.createElement(u,{result:A}):null,d.createElement(l.A,{sx:{display:"flex",alignItems:"center"},mt:1},d.createElement(f,{"data-testid":"buttonTranslate",role:"button",onClick:A?M:I},v.formatMessage({id:A&&S?"hide_translation":"view_translation"})),k?d.createElement(i.A,{sx:{marginLeft:"4px",color:e=>e.palette.text.secondary},size:12}):null)):null}},2195(e,t,n){n.r(t),n.d(t,{default:()=>d});var r=n(91557),a=n(96540),l=n(84680);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let i=(0,r.WvA)({name:"HomeFeedListingBlock",extendBlock:function(e){let{jsxBackend:t}=(0,r.PCX)(),n=t.get("feed.ui.FeedContainer");return a.createElement(l.eB,null,a.createElement(l.tD,null,a.createElement(n,o({},e))))},overrides:{contentType:"feed",itemView:"feed.itemView.mainCard",gridVariant:"listView",gridItemProps:{xs:12},itemProps:{showActionMenu:!0},emptyPage:"core.block.no_content_with_description",authRequired:!1},defaults:{isTrackingSponsor:!0,title:"Recent Activities",canLoadMore:!0,canLoadSmooth:!0,gridLayout:"Feed - Main Card",itemLayout:"Feed - Main Card",moduleName:"feed",resourceName:"feed",actionName:"viewAll",showWhen:["truthy","setting.activity"]}}),d=i},37973(e,t,n){n.r(t),n.d(t,{default:()=>m});var r=n(91557),a=n(40515),l=n(3556),o=n(8051),i=n(60780),d=n(96540),s=n(71468);let c=(0,l.Ay)(o.A,{name:"FeedNotificationNews",slot:"wrapperStyled"})(({theme:e})=>({position:"fixed",top:e.spacing(9),display:"inline-flex",left:"50%",transform:"translateX(-50%)",zIndex:e.zIndex.appBar+10})),u=(0,r.WvA)({name:"FeedReload",extendBlock:function(){let{useSession:e,i18n:t,dispatch:n,getSetting:l,triggerScrollTop:o}=(0,r.PCX)(),{user:u}=e(),{key:m}=(0,r.zy2)(),[p,f]=d.useState(!1),v=d.useRef(),g=l("activity.feed.check_new_in_minutes"),y=6e4*parseFloat(g),h=u&&!!g,E=0>=y,_=function(){let e=(0,s.d4)(e=>e.feed.paging);return e}(),b=_.active,w=d.useCallback(()=>{o&&o()},[]),A=()=>{f(!1),w(),n({type:r.LPT,payload:{pagingId:b}})};return(d.useEffect(()=>{if(h&&!E)return(null==v?void 0:v.current)&&clearInterval(v.current),v.current=window.setInterval(()=>{p||n({type:"feed/checkNews",payload:{pagingId:b},meta:{onSuccess:()=>f(!0)}})},y),()=>clearInterval(v.current)},[b,p,h]),d.useEffect(()=>{f(!1)},[m]),h&&p&&!E)?d.createElement(c,null,d.createElement(i.A,{"data-testid":"buttonFetchNewFeed",role:"button",id:"buttonFetchNewFeed",autoFocus:!0,color:"primary",size:"smaller",variant:"contained",onClick:A,sx:{fontWeight:"400 !important",fontSize:"15px !important",borderRadius:"999px",padding:"16px 24px !important"},endIcon:d.createElement(a.s4,{sx:{fontSize:"16px !important"},icon:" ico-arrow-up"})},t.formatMessage({id:"new_updates"}))):null}}),m=u},83334(e,t,n){n.r(t),n.d(t,{default:()=>h});var r=n(91557),a=n(40515),l=n(3556),o=n(60780),i=n(16624),d=n(96540),s=n(3282),c=n(67725);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let m=(0,l.Ay)(a.ne)(({theme:e})=>({padding:e.spacing(0)})),p=(0,l.Ay)(o.A)(({theme:e})=>({height:e.spacing(4)})),f=(0,l.Ay)(i.A,{name:"LayoutItemCard",slot:"postsCard",overridesResolver:(e,t)=>[t.postsCard]})(({theme:e})=>({paddingTop:e.spacing(2)})),v=e=>{let{jsxBackend:t}=(0,r.PCX)();return t.render({component:"feed.itemView.content",props:e})},g=(0,r.vYD)({},()=>{})(v),y=({identity:e,wrapAs:t,wrapProps:n})=>{let{dispatch:l,useResourceMenu:o,getAcl:i,getSetting:v}=(0,r.PCX)(),y=o(s.RO,s.B5,"scheduledItemMenu"),h=i(),E=v(),_=(0,r.dx2)(e),b={item:_,acl:h,setting:E},w=(0,c.Zk)((0,c.Ue)(y.items,b),b);if(!e)return null;let A=t=>{l({type:t,payload:{identity:e}})};return d.createElement(m,{testid:"ReviewPostsCard",wrapAs:t,wrapProps:n},d.createElement(f,null,d.createElement(g,{identity:e,menuName:"itemActionMenu"})),w.length>0?d.createElement(a.Fu,{sx:{p:2,pt:0}},w.map((e,t)=>{let{label:n,value:r,buttonProps:a,disabled:l}=e||{};return d.createElement(p,u({key:`k${t}`,variant:"contained"},a,{onClick:()=>A(r),disabled:l}),n)})):null)},h=y},89454(e,t,n){n.r(t),n.d(t,{default:()=>c,getAppResourceSort:()=>d,useGetSortFeed:()=>s});var r=n(96540),a=n(91557),l=n(3282),o=n(84404);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let d=e=>{let{module_name:t,resource_name:n}=e||{};return t===l.RO?["user","home"]:[t,n]},s=()=>{let{getSetting:e,usePageParams:t,useSession:n}=(0,a.PCX)(),l=e("activity.feed.sort_default"),o=t(),{user:i}=n(),{sort_feed_preferences:s}=i||{},[c,u]=d(o),m=r.useMemo(()=>{var e;return(null==s?void 0:null===(e=s[c])||void 0===e?void 0:e[u])||l},[s,c,u]);return[m,c,u]},c=function(e){let{jsxBackend:t,dispatch:n,usePageParams:d,useLoggedIn:c}=(0,a.PCX)(),u=d(),m=c(),[p,f,v]=s(),g=r.useRef(p),y=g.current,h=(null==e?void 0:e.pagingId)||(0,o.U)(null==u?void 0:u.id,y),E=t.get("feed.ui.Listing"),_=t.get("ui.SortActivityFeed"),b=e=>{let t=null==e?void 0:e.sort;g.current=t,n({type:l.yQ,payload:{module_name:f,resource_name:v,sort:t}})};return r.createElement(r.Fragment,null,_&&m?r.createElement(_,{onSubmit:b,sort:y}):null,r.createElement(E,i({},e,{pagingId:h,sort:y})))}},36567(e,t,n){n.r(t),n.d(t,{default:()=>m});var r=n(91557),a=n(40515),l=n(3556),o=n(96540);let i="FeedItem",d=(0,l.Ay)("div",{name:i,slot:"FeedReactionRoot",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>({minHeight:e.spacing(2),display:"flex",alignItems:"center",flexDirection:"column-reverse"})),s=(0,l.Ay)("div",{name:i,slot:"Wrapper",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>({"& .MuiFeedCommentBlock-itemOuter":{border:"none"},width:"100%"})),c=(0,l.Ay)("div",{name:i,slot:"StatisticWrapper",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>{var t;return{flex:1,display:"flex",justifyContent:"flex-end",width:"100%",padding:e.spacing(.5,0),"&:not(:empty)":{borderBottom:"solid 1px",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary},"&:empty":{padding:0}}}),u=({identity:e,item:t,user:n,handleAction:l,handleLayoutWithAction:i})=>{var u,m;let{CommentActButton:p,ShareActButton:f,ReactionActButton:v,CommentReaction:g,useSession:y}=(0,r.PCX)(),h=y();if(!t||!n)return null;let{statistic:E,most_reactions_information:_,like_phrase:b}=t;return o.createElement(d,null,o.createElement(s,null,g?o.createElement(g,null,h.loggedIn&&(null===(u=t.extra)||void 0===u?void 0:u.can_like)&&v?o.createElement(v,{reacted:t.user_reacted,identity:e,handleAction:l}):null,h.loggedIn&&(null===(m=t.extra)||void 0===m?void 0:m.can_comment)&&p?o.createElement(p,{identity:e,handleAction:i}):null,h.loggedIn&&t.extra.can_share&&f?o.createElement(f,{handleAction:l,identity:e}):null):null),o.createElement(c,null,o.createElement(a.DN,{handleAction:i,identity:e,reactions:_,message:b,statistic:E})))},m=u},84255(e,t,n){n.r(t),n.d(t,{default:()=>o});var r=n(96540),a=n(91557);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=(0,a.WvA)({extendBlock:function(e){let{jsxBackend:t,dispatch:n}=(0,a.PCX)(),{pagingId:o,sort:i}=e||{},d=t.get("core.block.listview");return r.useEffect(()=>{n({type:"feed/pagingId",payload:o})},[o]),r.createElement(d,l({},e,{pagingId:o,pageParamsDefault:{...null==e?void 0:e.pageParamsDefault,sort:i}}))},overrides:{blockLayout:"Sort - Main Listings"}})},61960(e,t,n){n.r(t),n.d(t,{default:()=>m});var r=n(96540),a=n(91557),l=n(53975),o=n(3282),i=n(3556),d=n(8051);let s="SortActivityFeed",c=(0,i.Ay)(d.A,{name:s,slot:"RootStyled"})(({theme:e})=>({display:"flex",justifyContent:"flex-end",alignItems:"center"})),u=(0,i.Ay)(d.A,{name:s,slot:"SortWrapperStyled"})(({theme:e})=>({display:"inline-block",position:"relative",zIndex:9,overflow:"hidden"}));function m(e){let{onSubmit:t,sort:n}=e||{},i=(0,a.EkY)(o.RO,o.o2,"sort");return i?r.createElement(c,null,r.createElement(u,null,r.createElement(l.ok,{key:n,noHeader:!0,noBreadcrumb:!0,formSchema:i,onSubmit:t,pageParams:{sort:n},debounceSubmitTime:0}))):null}},32914(e,t,n){n.r(t),n.d(t,{default:()=>o});var r=n(40515),a=n(52705),l=n(96540);function o({wrapAs:e,wrapProps:t}){return l.createElement(r.ne,{wrapAs:e,wrapProps:t},l.createElement(r.p4,null,l.createElement(r.Et,null,l.createElement(a.A,{variant:"text",width:"60%"})),l.createElement("div",null,l.createElement(a.A,{width:"30%"}))))}},90956(e,t,n){n.r(t),n.d(t,{default:()=>u});var r=n(91557),a=n(40515),l=n(96540),o=n(32914),i=n(56525),d=n(85838);let s=(0,i.A)(e=>(0,d.A)({title:{"& a":{color:e.palette.text.primary,"&:hover":{textDecoration:"underline"}}}}),{name:"Hashtag_TrendingItem"});function c({item:e,identity:t,wrapAs:n,wrapProps:o}){var i;let d=s();return l.createElement(a.ne,{wrapAs:n,wrapProps:o,testid:`${e.resource_name}`,"data-eid":t},l.createElement(a.Et,{className:d.title},l.createElement(r.N_E,{to:null==e?void 0:e.link},null==e?void 0:e.text)),l.createElement(a.CN,null,l.createElement(a.C8,{values:{...null==e?void 0:e.statistic,total_post:null==e?void 0:null===(i=e.statistic)||void 0===i?void 0:i.total_item},display:"total_post",fontStyle:"minor"})))}c.LoadingSkeleton=o.default;let u=(0,r.FB$)(c,()=>{})},51028(e,t,n){n.r(t),n.d(t,{default:()=>c});var r=n(91557),a=n(58156),l=n.n(a),o=n(23511);let i=()=>({menuOpened:!1,commentOpened:!0,commentFocused:!1}),d=(0,r.vYD)(i,function(e){return{viewMoreComments:(t,n)=>e("comment/viewMoreComments",t,n)}}),s=(e,t)=>{let n=l()(e,t.identity);return n?{item:n,user:n.user?l()(e,n.user):void 0,parent_user:n.parent_user?l()(e,n.parent_user):void 0,tagged_friends:n.tagged_friends?n.tagged_friends.map(t=>l()(e,t)).filter(Boolean):void 0,embed_object:n.embed_object?l()(e,n.embed_object):void 0}:{}},c=(0,r.NgA)(s)(d(o.A))},86347(e,t,n){n.r(t),n.d(t,{default:()=>p});var r=n(91557),a=n(53975),l=n(24721),o=n(96540),i=n(73349),d=n(58156),s=n.n(d),c=n(62193),u=n.n(c);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p({value:e}){let{useDialog:t,i18n:n,moment:d,dialogBackend:c}=(0,r.PCX)(),p=t(),{closeDialog:f,setDialogValue:v,dialogProps:g,disableBackdropClick:y,setDialogResolveValue:h}=p,[E,_]=o.useState(e),[b,w]=o.useState(!0),A=o.useMemo(()=>({schedule_time:e||""}),[]),x=({values:e,form:t})=>{w(u()(t.errors)),_(s()(e,"schedule_time"))},k=()=>{b&&(v(E),f())},C=async()=>{if(E&&E!==e&&b){let t=await c.confirm({message:n.formatMessage({id:"the_change_you_made_will_not_be_saved"}),title:n.formatMessage({id:"unsaved_changes"})});if(!t)return}h(e),f()};o.useEffect(()=>{y(!0)});let S={component:"Form",elements:{basic:{component:"Container",name:"basic",testid:"field basic",variant:"horizontal",elements:{schedule_time:{component:"Datetime",variant:"outlined",name:"schedule_time",returnKeyType:"next",disabled:!1,displayFormat:"DD/MM/YYYY - HH:mm",minDateTime:d().toISOString(),timeFormat:24,timeSuggestion:!0,labelTimePicker:n.formatMessage({id:"time"}),labelDatePicker:n.formatMessage({id:"date"}),testid:"field schedule_time",nullable:!0},clear:{component:"FeedScheduleClear",name:"clear",schedule_time_key:"schedule_time",testid:"field sschedule_clear",label:n.formatMessage({id:"clear"})}}}},validation:{type:"object",properties:{schedule_time:{type:"date",errors:{typeError:n.formatMessage({id:"error_invalid_date"}),min:n.formatMessage({id:"you_cant_schedule_a_post_to_send_in_the_past"})},nullable:!0,min:d().toISOString(),label:null}}}};return o.createElement(l.A,m({},g,{maxWidth:"sm"}),o.createElement(i.L3,{onBackClick:C,onDoneClick:k,enableBack:!0,enableDone:!0,disableClose:!0},n.formatMessage({id:"schedule"})),o.createElement(i.Cf,null,o.createElement(a.ok,{initialValues:A,formSchema:S,onChange:x})))}},11894(e,t,n){n.r(t),n.d(t,{default:()=>o});var r=n(40515),a=n(52705),l=n(96540);function o({wrapAs:e,wrapProps:t}){return l.createElement(r.ne,{wrapAs:e,wrapProps:t},l.createElement(r.Qm,null,l.createElement(a.A,{variant:"avatar",width:48,height:48})),l.createElement(r.p4,null,l.createElement(r.Et,null,l.createElement(a.A,{variant:"text",width:"40%"}))),l.createElement(r.sZ,null,l.createElement(a.A,{variant:"text",width:68,height:30,animation:"wave"})))}},43634(e,t,n){n.r(t),n.d(t,{default:()=>s});var r=n(91557),a=n(40515),l=n(96540),o=n(11894),i=n(60780);function d({item:e,user:t,actions:n,identity:o,itemProps:d,wrapAs:s,wrapProps:c}){let{i18n:u,dispatch:m}=(0,r.PCX)(),p=()=>{m({type:"unSnooze",payload:{identity:o}})},f=()=>{m({type:"snoozeForever",payload:{identity:o}})};if(!e)return null;let{extra:v,link:g}=e,{can_snooze_forever:y,can_unsnooze:h}=v||{};return l.createElement(a.ne,{wrapAs:s,wrapProps:c,testid:`${e.resource_name}`,"data-eid":o},l.createElement(a.Qm,null,l.createElement(a.H8,{user:t,size:48})),l.createElement(a.p4,null,l.createElement(a.Et,null,l.createElement(a.xE,{to:g,user:t,color:"inherit",hoverCard:!1}))),l.createElement(a.sZ,null,h?l.createElement(i.A,{size:"medium",variant:"outlined",color:"primary",onClick:p},u.formatMessage({id:"unhide"})):null,y?l.createElement(i.A,{size:"medium",variant:"outlined",color:"primary",onClick:f},u.formatMessage({id:"undo"})):null))}d.LoadingSkeleton=o.default;let s=(0,r.FB$)(d,()=>{})}}]);