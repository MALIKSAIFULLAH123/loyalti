"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-search-blocks-SearchListing-Block"],{61795(e,t,a){a.d(t,{B6:()=>n.A,e6:()=>r.A}),a(52095),a(67336);var r=a(98414),n=a(60300)},86176(e,t,a){a.r(t),a.d(t,{default:()=>M});var r=a(91557),n=a(84680),i=a(3556),o=a(8051),l=a(96540),c=a(67725),s=a(55808),p=a.n(s),d=a(90179),h=a.n(d),m=a(60780),u=a(86663);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let g=(0,i.Ay)(o.A,{name:"SearchItem",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(1),[e.breakpoints.up("sm")]:{width:e.layoutSlot.points.sm,maxWidth:"100%"},[e.breakpoints.down("sm")]:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}));function y({item:e,searchSectionAction:t="viewAll",searchPreviewAction:a,isLimitMode:i}){let o=(0,n.HX)(),{ListView:s,navigate:d,i18n:y,layoutBackend:v,jsxBackend:b}=(0,r.PCX)(),{appName:w,resourceName:k,is_hashtag:S}=o,{view:A,id:C}=(0,n.HX)(),E=(0,r.zy2)(),L=e?h()(e,["id"]):{item_type:A},{item_type:$}=Object.assign({},L),O=!i||"feed"===$,P=a||t;t="all"!==A||O?t:P;let M=(0,r.IgF)(w,k,t),_=()=>{let e=u.stringify(Object.assign({},u.parse(E.search),{view:$})),t=C?`/${w}/search/${C}?${e}`:`/search/${$}${E.search}`;S&&(t=`/hashtag/search?${e}`),d(t)},j={canLoadMore:!0,canLoadSmooth:!0};O||(j={canLoadMore:!1,canLoadSmooth:!1});let x=v.getItemPreset(`${p()($)} - Search Card`)?`${p()($)} - Search Card`:`${p()($)} - Main Card`,B=b.has(`${$}.itemView.searchCard`)?`${$}.itemView.searchCard`:`${$}.itemView.mainCard`;return l.createElement(g,null,l.createElement(n.eB,null,l.createElement(n.tD,null,l.createElement(s,f({testid:"searchListing",blockLayout:"Search Main Lists",gridLayout:"Search - Main Card",itemLayout:x,itemView:B,dataSource:{apiUrl:M.apiUrl,apiParams:(0,c.A8)(M.apiParams,{...o,...L})}},j)),!O&&l.createElement(m.A,{variant:"link",onClick:_},y.formatMessage({id:"view_all_results_for_item"},{label:e.label})))))}var v=a(87773),b=a(2379),w=a(56449),k=a.n(w),S=a(61795),A=a(2677);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let E=(0,i.Ay)(v.A,{name:"SearchItem",slot:"TitleSearchContentItem",shouldForwardProp:e=>"isMobile"!==e,overridesResolver:(e,t)=>[t.TitleSearchContentItem]})(({theme:e,isMobile:t})=>({paddingLeft:t?e.spacing(2):0,paddingTop:e.spacing(2)}));function L({searchAllAction:e="viewSections",...t}){let a=(0,n.HX)(),{useIsMobile:i}=(0,r.PCX)(),{appName:c,resourceName:s}=a,p=(0,r.IgF)(c,s,e),d=i(),[h,m,f]=(0,S.B6)({dataSource:p,pageParams:a,cachePrefix:"search",cacheKey:u.stringify(a),ttl:36e5,forceReload:!1});return l.createElement(A.A,{error:f,loading:m,emptyComponent:(null==h?void 0:h.length)>0?void 0:"core.block.no_results"},l.createElement(o.A,{sx:{maxWidth:"100%"}},l.createElement(b.A,{disablePadding:!0},k()(h)?h.map((e,a)=>l.createElement(o.A,{key:a},l.createElement(E,{variant:"h4",isMobile:d},e.label),l.createElement(y,C({item:e,isLimitMode:!0},t)))):null)))}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let O=(0,i.Ay)(o.A,{name:"GlobalSearchResult",slot:"wrapper",overridesResolver:(e,t)=>[t.wrapper]})(({theme:e})=>({"& .error404Block":{"& img":{display:"none"}},[e.breakpoints.up("sm")]:{display:"flex",justifyContent:"center","& .error404Block":{"& h2":{fontSize:e.typography.h3.fontSize}}}})),P=(0,r.WvA)({name:"GlobalSearchResultBlock",extendBlock:function(e){let t=(0,n.HX)(),{view:a}=t;return l.useEffect(()=>{window.scrollTo(0,0)},[a]),l.createElement(O,null,"all"===a?l.createElement(L,$({},e)):l.createElement(y,$({},e)))},overrides:{contentType:"search",blockLayout:"Search Main Lists"}}),M=P}}]);