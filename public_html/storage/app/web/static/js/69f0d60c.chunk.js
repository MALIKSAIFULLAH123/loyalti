"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-Verification-Block"],{98940(e,t,r){r.r(t),r.d(t,{default:()=>_});var n=r(91557),l=r(84680),a=r(53975),i=r(8051),c=r(96540);let o=({action:e="resend"})=>{let t=(0,n.EkY)("user","user_verify",e);return t?c.createElement(i.A,{mt:2},c.createElement(a.ok,{navigationConfirmWhenDirty:!1,formSchema:t})):null};var u=r(3556),s=r(92885),m=r(89481),f=r(87773),d=r(71468);let p=(0,u.Ay)(s.A)(({theme:e})=>({marginTop:e.spacing(2),color:e.palette.primary.main})),E=(0,u.Ay)(i.A)(({theme:e})=>({display:"flex",justifyContent:"center"})),y=({loading:e,error:t,success:r})=>{let{i18n:l,navigate:a}=(0,n.PCX)(),[i,u]=c.useState(!1),s=()=>{u(!0)};if(e)return c.createElement(E,null,c.createElement(m.A,{variant:"indeterminate",size:38}));if(r)return c.createElement(f.A,null,l.formatMessage({id:"your_account_has_been_verified_successfully"}));if(!t)return a("/",{replace:!0}),null;let{title:d,resend:y,redirect:_,action:v}=t;return _?(a("/",{replace:!0}),null):d&&!y?c.createElement(f.A,null,d):y?c.createElement(c.Fragment,null,c.createElement(f.A,{component:"h1",variant:"h3"},d),c.createElement(p,{component:"button",variant:"body2",onClick:s},l.formatMessage({id:"did_not_receive_resend_verification"})),i?c.createElement(o,{action:v}):null):null},_=(0,n.WvA)({extendBlock:function({title:e}){let{usePageParams:t,dispatch:r,navigate:a}=(0,n.PCX)(),i=t(),{loading:o,error:u,success:s}=(0,d.d4)(e=>e.user.verify),m=u&&JSON.parse(u),{hash:f}=i;return c.useEffect(()=>{r({type:"user/verification",payload:{hash:f}})},[f]),s&&window.setTimeout(()=>a("/login",{replace:!0}),5e3),c.createElement(l.eB,null,c.createElement(l.Tw,{title:e}),c.createElement(l.tD,null,c.createElement(y,{loading:o,error:m,success:s})))},defaults:{title:"Verification",blockLayout:"Blocker"}})}}]);