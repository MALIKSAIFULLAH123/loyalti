"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-layout-LayoutSlot-SlotWithEditingPage"],{3997(e,t,o){o.d(t,{A:()=>C});var r=o(98587),i=o(58168),a=o(96540),n=o(20053),l=o(75659),d=o(24279),s=o(75630),u=o(3556),p=o(92353),c=o(38413),g=o(31609);function m(e){return(0,g.A)("MuiButtonGroup",e)}let v=(0,c.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var h=o(83804),f=o(74848);let x=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],b=(e,t)=>{let{ownerState:o}=e;return[{[`& .${v.grouped}`]:t.grouped},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}${(0,s.A)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.A)(o.variant)}${(0,s.A)(o.color)}`]},t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]},y=e=>{let{classes:t,color:o,disabled:r,disableElevation:i,fullWidth:a,orientation:n,variant:d}=e,u={root:["root",d,"vertical"===n&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${(0,s.A)(n)}`,`grouped${(0,s.A)(d)}`,`grouped${(0,s.A)(d)}${(0,s.A)(n)}`,`grouped${(0,s.A)(d)}${(0,s.A)(o)}`,r&&"disabled"]};return(0,l.A)(u,m,t)},A=(0,u.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:b})(({theme:e,ownerState:t})=>(0,i.A)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${v.grouped}`]:(0,i.A)({minWidth:40,"&:not(:first-of-type)":(0,i.A)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,i.A)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:(0,d.X4)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${v.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${v.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":(0,i.A)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,i.A)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"})})),R=a.forwardRef(function(e,t){let o=(0,p.A)({props:e,name:"MuiButtonGroup"}),{children:l,className:d,color:s="primary",component:u="div",disabled:c=!1,disableElevation:g=!1,disableFocusRipple:m=!1,disableRipple:v=!1,fullWidth:b=!1,orientation:R="horizontal",size:C="medium",variant:$="outlined"}=o,W=(0,r.A)(o,x),S=(0,i.A)({},o,{color:s,component:u,disabled:c,disableElevation:g,disableFocusRipple:m,disableRipple:v,fullWidth:b,orientation:R,size:C,variant:$}),B=y(S),E=a.useMemo(()=>({className:B.grouped,color:s,disabled:c,disableElevation:g,disableFocusRipple:m,disableRipple:v,fullWidth:b,size:C,variant:$}),[s,c,g,m,v,b,C,$,B.grouped]);return(0,f.jsx)(A,(0,i.A)({as:u,role:"group",className:(0,n.default)(B.root,d),ref:t,ownerState:S},W,{children:(0,f.jsx)(h.A.Provider,{value:E,children:l})}))}),C=R},48441(e,t,o){o.d(t,{A:()=>n});var r=o(8051),i=o(87773),a=o(96540);function n({slotName:e,children:t}){return a.createElement(r.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},a.createElement(i.A,{component:"span",variant:"body1"},e),t)}},56521(e,t,o){o.r(t),o.d(t,{default:()=>C});var r=o(91557),i=o(40515),a=o(3556),n=o(3997),l=o(97763),d=o(63461),s=o(77299),u=o(8051),p=o(84058),c=o.n(p),g=o(96540),m=o(5079),v=o(25044),h=o(1472),f=o(48441),x=o(49531);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let y=(0,a.Ay)("div")({textAlign:"right",padding:8,"&:hover":{opacity:1}}),A=e=>{let{slotName:t,pageName:o,elementPath:a,pageSize:s,templateName:u}=e,{dispatch:p,i18n:c}=(0,r.PCX)(),m=()=>p({type:"@layout/createBlock",payload:{templateName:u,pageName:o,pageSize:s,elementPath:a,slotName:t}});return g.createElement(y,null,g.createElement(n.A,{size:"small",color:"primary"},g.createElement(l.A,{title:c.formatMessage({id:"create_layout_block"})},g.createElement("span",null,g.createElement(d.A,{onClick:m},g.createElement(i.s4,{icon:"ico-plus"}))))))};function R(e,t,o){if(!t)return 0;let r=o?e.height/o:-1;return Math.floor((t.y-e.y)/r)}function C(e){let{elementPath:t,templateName:o,slotName:i,flexWeight:a,xs:n,rootStyle:l,stageStyle:d,elements:p}=e,y=g.useRef(),{pageSize:C,pageName:$,blocks:W}=(0,h.A)(),{jsxBackend:S,layoutBackend:B}=(0,r.PCX)(),E=g.useRef(0),k=g.useCallback(()=>W.filter(e=>e.slotName===i).map(e=>(e.props.slotName=i,e)),[W,i]),[w,H]=g.useState(k()),z=w.length,[,P]=(0,m.H)({accept:v.X,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()}),canDrop:()=>!0,drop(e,t){if(t.didDrop())return;let r=R(y.current.getBoundingClientRect(),t.getClientOffset(),z),a={blockId:e.blockId,order:r,slotName:i,templateName:o,pageSize:C,pageName:$};return B.updateBlockPosition(a),a},hover(e,t){let o=R(y.current.getBoundingClientRect(),t.getClientOffset(),z);if(o!==E.current&&-1<=o){E.current=o;let r=w.map((e,t)=>e);H([...r])}}});g.useEffect(()=>{H(k())},[W,k]);let L="0"<a||!n;return g.createElement(x.DX,b({name:i,item:!0,xs:L?void 0:n,ref:P,flexWeight:a,useFlex:L,"data-testid":c()(`LayoutSlot_${i}`)},l),g.createElement(x.v5,b({name:i,controller:!0},d),g.createElement(f.A,{slotName:i},g.createElement(A,{elementPath:t,pageName:$,templateName:o,slotName:i,pageSize:C})),(null==p?void 0:p.length)?g.createElement(s.Ay,{container:!0},S.render(p)):null,g.createElement(u.A,{sx:{minHeight:60},ref:y},S.render(w))))}},49531(e,t,o){o.d(t,{DX:()=>d,QG:()=>c,QS:()=>u,Re:()=>p,c8:()=>m,uW:()=>g,v5:()=>s});var r=o(77299),i=o(8051),a=o(3556),n=o(67725);let l="LayoutSlot",d=(0,a.Ay)(r.Ay,{name:l,slot:"root",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"flexWeight"!==e&&"name"!==e&&"useFlex"!==e,overridesResolver:(e,t)=>[t.content,t[(0,n.L4)("root",e.name)]]})(({theme:e,maxWidth:t,minWidth:o,minHeight:r,flexWeight:i,useFlex:a})=>({display:"block",flexBasis:"100%",position:"relative",..."screen"===r&&{minHeight:"100vh"},...r&&"screen"!==r&&{minHeight:r},...t&&{maxWidth:`${e.layoutSlot.points[t]}px !important`},...o&&{minWidth:`${e.layoutSlot.points[o]}px !important`},...a&&{flex:null!=i?i:1,minWidth:0}})),s=(0,a.Ay)(i.A,{name:l,slot:"stage",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"controller"!==e&&"sticky"!==e&&"name"!==e&&"liveEdit"!==e,overridesResolver:(e,t)=>[t.stage,t[(0,n.L4)("stage",e.name)]]})(({theme:e,minHeight:t,fixed:o,maxWidth:r,minWidth:i,liveEdit:a,controller:n,sticky:l})=>({display:"block",flexBasis:"100%",...o&&{position:"fixed"},..."screen"===t&&{minHeight:"100vh"},...r&&{maxWidth:e.layoutSlot.points[r]},...i&&{maxWidth:e.layoutSlot.points[i]},...a&&{position:"relative",minHeight:e.spacing(6)},...n&&{position:"relative",marginBottom:e.spacing(1),padding:e.spacing(1),minHeight:e.spacing(8),borderColor:e.palette.text.primary,borderStyle:"dotted",borderWidth:1},..."static"===l&&{position:"sticky",top:0},..."dynamic"===l&&{position:"sticky"}}));(0,a.Ay)(i.A,{name:l,slot:"preview",shouldForwardProp:e=>"name"!==e})(({name:e,theme:t})=>({fontSize:"0.8125rem",fontWeight:t.typography.fontWeightMedium,height:80,textTransform:"lowercase",alignItems:"center",justifyContent:"center",display:"flex"}));let u=(0,a.Ay)(i.A,{name:l,slot:"Content",shouldForwardProp:e=>"maxWidth"!==e&&"minWidth"!==e&&"minHeight"!==e&&"name"!==e&&"fixed"!==e,overridesResolver:(e,t)=>[t.content,t[(0,n.L4)("content",e.name)]]})(({theme:e,minHeight:t,maxWidth:o,minWidth:r})=>({display:"block",flexBasis:"100%",marginLeft:"auto",marginRight:"auto",..."screen"===t&&{minHeight:"100vh"},...o&&{maxWidth:e.layoutSlot.points[o]},...r&&{maxWidth:e.layoutSlot.points[r]}})),p=(0,a.Ay)("div",{name:l,slot:"fixedStage",overridesResolver:(e,t)=>[t.fixedStage]})({display:"flex",height:"100%",flexDirection:"column"}),c=(0,a.Ay)("div",{name:l,slot:"fixedContent",overridesResolver:(e,t)=>[t.fixedContent]})({flex:1,minHeight:0}),g=(0,a.Ay)("div",{name:l,slot:"fixedHeader",overridesResolver:(e,t)=>[t.fixedHeader]})({}),m=(0,a.Ay)("div",{name:l,slot:"fixedFooter",overridesResolver:(e,t)=>[t.fixedFooter]})({})}}]);