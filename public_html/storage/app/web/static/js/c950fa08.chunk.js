"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-ProfileAlbumDetail-Block"],{27130(e,t,a){a.r(t),a.d(t,{default:()=>y});var i=a(91557),o=a(53695),n=a(2677),l=a(90243),r=a(84680),s=a(76096),m=a(40515),p=a(3556),c=a(8051),d=a(87773),g=a(96540),u=a(56525),h=a(85838);let b=(0,u.A)(e=>(0,h.A)({root:{borderRadius:e.shape.borderRadius,maxWidth:"100%",margin:"auto"},albumContent:{padding:e.spacing(2,2,1,2),position:"relative"},category:{fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"},title:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold},albumContainer:{},info:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),padding:e.spacing(1,0),"& p":{margin:e.spacing(1.5,0)}},profileLink:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightBold},owner:{overflow:"hidden",padding:e.spacing(1.5,0),display:"flex",alignItems:"center",width:"100%"},ownerInfo:{overflow:"hidden",flexGrow:1},ownerAvatar:{float:"left",marginRight:e.spacing(2)},date:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5)},listingActions:{display:"inline-flex",marginTop:e.spacing(1),marginBottom:e.spacing(.5),[e.breakpoints.down("xs")]:{display:"flex"}},actionMenu:{border:"1px solid",width:"40px",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.primary.main,justifyContent:"center"},listingHeader:{display:"flex",[e.breakpoints.down("xs")]:{display:"block"}},listingComment:{marginTop:e.spacing(2),[e.breakpoints.down("xs")]:{padding:e.spacing(0,2)}},hasPhotos:{marginBottom:e.spacing(2)},actionsDropdown:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},iconButton:{fontSize:e.mixins.pxToRem(13)},dropdownButton:{padding:e.spacing(1),width:30,height:30,textAlign:"center"}}),{name:"MuiUserPhotoViewDetail"}),f=(0,p.Ay)(c.A,{name:"ProfileAlbumViewDetail"})(({theme:e})=>({backgroundColor:e.palette.background.paper,marginBottom:e.spacing(2),borderRadius:e.shape.borderRadius})),x=(0,i.$MH)((0,o.F)(function({item:e,handleAction:t}){let a=b(),{jsxBackend:o,i18n:p,useFetchDetail:c,ItemDetailInteraction:u,ItemActionMenu:h,useActionControl:x}=(0,i.PCX)(),y=o.get("photo.block.pinView"),v=(0,r.HX)(),{album_id:w,module_name:E}=v,{user:k={}}=(0,i.wVH)(),A=`photo.entities.photo_album.${w}`,[C,P]=x(A,{}),[_,B,R]=c({dataSource:{apiUrl:`photo-album/${w}`},normalize:!0}),S=(0,i.IgF)(s.Zt,s.hO,"getAlbumItems");if(!w)return null;let{apiMethod:T}=S||{};if(!e)return null;let N=`photo-album/${w}`,{is_featured:V,is_sponsor:$,name:z,text_parsed:F,extra:D}=Object.assign({},_);return g.createElement(r.eB,{testid:`detailview ${null==_?void 0:_.resource_name}`},g.createElement(r.tD,null,g.createElement(n.A,{loading:B,error:R,sx:{backgroundColor:"background.paper"}},g.createElement("div",{className:a.root},g.createElement(f,null,g.createElement("div",{className:a.albumContent},g.createElement("div",{className:a.actionsDropdown}),g.createElement("div",{className:a.albumContainer},g.createElement(i.N_E,{to:`/${E}/${e.id}/photo?stab=albums`,color:"primary",children:(null==k?void 0:k.id)===e.id?p.formatMessage({id:"my_albums"}):p.formatMessage({id:"user_s_albums"},{value:e.full_name}),className:a.category}),g.createElement(m.Et,{variant:"h3",component:"div",showFull:!0},g.createElement(m.rL,{variant:"itemView",value:V}),g.createElement(m.FN,{variant:"itemView",value:$}),g.createElement(d.A,{component:"h1",variant:"h3",sx:{display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},z)),g.createElement(m.sZ,{sx:{position:"absolute",top:8,right:8}},g.createElement(h,{identity:A,state:P,handleAction:C,icon:"ico-dottedmore-vertical-o"})),F&&g.createElement("div",{className:a.info},g.createElement(m.wP,{truncateProps:{variant:"body1",lines:5}},g.createElement(l.Ay,{html:F})))),g.createElement(u,{identity:A,handleAction:t,hideListComment:!0}))),g.createElement(f,{pt:2},g.createElement(y,{title:"",numColumns:3,pagingId:N,dataSource:{apiUrl:"/photo-album/items/:album_id",apiMethod:T,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==D?void 0:D.can_upload_media}}))))))},o.m,{tags:!0,categories:!0})),y=(0,i.WvA)({extendBlock:x,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{sx:{pt:0,mt:2}},contentStyle:{},headerStyle:{},footerStyle:{}}}})},53695(e,t,a){a.d(t,{m:()=>o,F:()=>i.FB$});var i=a(91557);function o(e){return{}}}}]);