"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-livestreaming-blocks-ShareLivestream-ShareLiveStreaming"],{82298(e,t,a){a.r(t),a.d(t,{default:()=>A});var r=a(53975),l=a(91557),n=a(84680),o=a(40515),i=a(8051),s=a(63461),c=a(3556),m=a(96540),d=a(18677),p=a(86663),u=a(67725);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let f=(0,c.Ay)("div",{name:"Tab",slot:"container"})(({theme:e})=>({display:"flex",flexDirection:"row"})),v=(0,c.Ay)("div",{name:"Tab",slot:"item",shouldForwardProp:e=>"active"!==e})(({theme:e,active:t})=>({cursor:"pointer",fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15),padding:e.spacing(2,0),marginRight:e.spacing(3.75),color:e.palette.text.secondary,borderBottom:"solid 2px",borderBottomColor:"transparent",...t&&{color:e.palette.primary.main,borderBottomColor:e.palette.primary.main}})),g=(0,c.Ay)(i.A,{name:"Tab",slot:"panels"})(({theme:e})=>({})),y=(0,c.Ay)(i.A,{name:"Tab",slot:"panel"})(({theme:e,active:t})=>({display:t?"block":"none"})),h=({name:e})=>{let t=(0,l.IgF)(d.j,d.s,e),a=(0,l.zy2)(),n=(null==a?void 0:a.search)?p.parse(a.search.replace(/^\?/,"")):{};return m.createElement(r.aI,{noHeader:!0,dataSource:t,pageParams:n,allowRiskParams:!0,preventReload:!0})},w=({icon:e="ico-arrow-left",...t})=>{let{navigate:a}=(0,l.PCX)(),r=()=>{a(-1)};return m.createElement(s.A,b({size:"small",role:"button",id:"back","data-testid":"buttonBack",sx:{transform:"translate(-5px,0)"},onClick:r},t),m.createElement(o.s4,{icon:e}))},k=[{tab:"software",label:"streaming_software",value:"addItem"},{tab:"webcam",label:"webcam",value:"addWebcamItem",showWhen:["and",["truthy","setting.allow_webcam_streaming"],["falsy","isMobileDevice"],["truthy","isMediaRecorderSupported"]]}],E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),x="undefined"!=typeof MediaRecorder,A=(0,l.WvA)({extendBlock:function({title:e}){var t;let{i18n:a,getSetting:r}=(0,l.PCX)(),o=r("livestreaming"),i=(0,u.Ue)(k,{setting:o,isMobileDevice:E,isMediaRecorderSupported:x}),[s,c]=m.useState(null===(t=i[0])||void 0===t?void 0:t.tab);return m.createElement(n.eB,null,m.createElement(n.Tw,null,m.createElement(n.E9,null,m.createElement(w,null),a.formatMessage({id:e}))),m.createElement(n.tD,null,m.createElement(f,null,i.map(({tab:e,label:t})=>m.createElement(v,{key:e,active:s===e,onClick:()=>c(e)},a.formatMessage({id:t||"label"})))),m.createElement(g,null,i.map(({tab:e,value:t})=>s===e?m.createElement(y,{key:e,active:s===e},m.createElement(h,{name:t})):null))))},overrides:{noHeader:!1}})}}]);