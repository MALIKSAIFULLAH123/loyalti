"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-music-blocks-SongDetail-Mobile-Block"],{49035(e,t,a){a.r(t),a.d(t,{default:()=>w});var n=a(91557),o=a(58494),i=a(90243),l=a(84680),r=a(40515),c=a(3556),s=a(8051),m=a(96540),d=a(33248);a(70024);var p=a(56525),g=a(85838);let u=(0,p.A)(e=>(0,g.A)({root:{},bgCoverWrapper:{minHeight:"388px",overflow:"hidden",position:"relative"},bgCover:{height:"100%",backgroundImage:"linear-gradient(to top, #aeacac, #121212)",position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:-2},hasBgCover:{},header:{width:"100%",marginLeft:"auto",marginRight:"auto",color:"#fff",paddingTop:e.spacing(3),"& .rhap_container":{backgroundColor:"unset",boxShadow:"none"}},headerInner:{},imgSong:{width:160,height:160,margin:e.spacing(3,"auto")},audioPlayer:{margin:e.spacing(0,"auto",3),display:"block",boxShadow:"none",outline:"none","& .rhap_progress-section":{flexWrap:"wrap"},"& .rhap_progress-container":{width:"100%",flex:"none",margin:e.spacing(0,0,2),outline:"none",order:1,"& .rhap_progress-bar-show-download":{backgroundColor:e.mixins.backgroundColor("paper"),height:2,"& .rhap_progress-filled":{backgroundColor:e.palette.primary.main},"& .rhap_progress-indicator":{display:"none"}}},"& .rhap_current-time":{order:2,color:"#fff"},"& .rhap_total-time":{marginLeft:"auto",color:"#fff",order:3},"& .rhap_controls-section":{padding:e.spacing(0,2),alignItems:"baseline",flex:"none","& .rhap_main-controls":{flex:"none","& button":{fontSize:32,width:32,height:32,color:"#fff",outline:"none",overflow:"inherit","&.rhap_play-pause-button":{margin:e.spacing(1,5,0)}}},"& .rhap_additional-controls":{flex:"none","& button":{margin:e.spacing(0,0,0,"auto"),fontSize:18,width:18,height:18,color:"#fff",outline:"none"}}}},btnRepeatOn:{color:e.palette.primary.main},btnControlAudio:{fontSize:18,"&.ico-shuffle":{display:"flex",alignItems:"center",cursor:"pointer"}},btnDisable:{color:e.palette.text.disabled,cursor:"not-allowed !important"},viewContainer:{width:"100%",maxWidth:720,marginLeft:"auto",marginRight:"auto",backgroundColor:e.mixins.backgroundColor("paper"),border:e.mixins.border("secondary"),padding:e.spacing(2),position:"relative"},actionMenu:{width:32,height:32,position:"absolute !important",top:e.spacing(1),right:e.spacing(1),"& .ico":{color:e.palette.text.secondary,fontSize:13}},titleWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},pageTitle:{fontWeight:e.typography.fontWeightBold,flex:1,minWidth:0,fontSize:18,lineHeight:1,maxHeight:72,overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word",wordWrap:"break-word",whiteSpace:"normal",WebkitLineClamp:3,display:"-webkit-box",WebkitBoxOrient:"vertical",textAlign:"center",padding:e.spacing(0,2)},itemFlag:{marginBottom:e.spacing(2)},minorInfo:{marginTop:e.spacing(2),color:e.palette.text.secondary,fontSize:13,fontWeight:e.typography.fontWeightBold,textAlign:"center"},author:{display:"flex",marginTop:e.spacing(2)},authorInfo:{margin:e.spacing(0,2.5,0,1.5)},userName:{fontSize:15,fontWeight:"bold",color:e.palette.text.primary,paddingRight:e.spacing(.5)},date:{fontSize:13,color:e.palette.text.secondary,marginTop:e.spacing(.5)},itemContent:{fontSize:15,lineHeight:1.33,marginTop:e.spacing(3),"& p + p":{marginBottom:e.spacing(2.5)}},albumLabel:{color:"#aeacac"}}),{name:"MuiSongViewDetail"});var h=a(67725),f=a(60655),v=a(63455);let y=(0,c.Ay)("span",{name:"HeadlineSpan"})(({theme:e})=>({paddingRight:e.spacing(.5),color:e.palette.text.secondary})),x=(0,c.Ay)(v.A,{name:"OwnerStyled"})(({theme:e})=>({fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),"&:hover":{textDecoration:"underline"}})),b=(0,c.Ay)("div",{name:"tagItem"})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),fontWeight:e.typography.fontWeightBold,borderRadius:e.shape.borderRadius/2,background:"light"===e.palette.mode?e.palette.background.default:e.palette.action.hover,marginRight:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(0,1.5),height:e.spacing(3),lineHeight:e.spacing(3),display:"block",color:"light"===e.palette.mode?"#121212":"#fff"})),E=(0,c.Ay)("div",{name:"MusicContent"})(({theme:e})=>({fontSize:e.mixins.pxToRem(15),lineHeight:1.33})),_=(0,n.$MH)((0,o.Ay)(function({item:e,user:t,blockProps:a,identity:o,handleAction:c,state:p}){let{ItemActionMenu:g,ItemDetailInteraction:v,i18n:_,assetUrl:w,getSetting:A,useLoggedIn:C,dispatch:k,jsxBackend:N}=(0,n.PCX)(),S=u(),W=C(),I=(0,n.dx2)(null==e?void 0:e.owner),z=A("music.music_song.auto_play"),R=new AudioContext,T=(0,n.dx2)(null==e?void 0:e.album),B=(0,n.UfA)(null==e?void 0:e.genres);if(!e)return null;let{creation_date:D,description:L,text:M,name:H,statistic:O,destination:$,is_featured:P,is_sponsor:V,image:F,attachments:U}=e,j=N.get("core.itemView.pendingReviewCard"),G=()=>{W&&k({type:"music/updateTotalPlayItem",payload:{identity:o}})},J=(0,h.AE)(F,"500",w("music.song_no_image"));return m.createElement(l.eB,{blockProps:a,testid:`detailview ${e.resource_name}`},m.createElement(l.tD,null,m.createElement("div",{className:S.root},m.createElement("div",{className:S.bgCoverWrapper},m.createElement("div",{className:S.bgCover}),m.createElement("div",{className:S.header},m.createElement("div",{className:S.headerInner},m.createElement("div",{className:S.titleWrapper},m.createElement("div",{className:S.itemFlag},m.createElement(r.rL,{variant:"itemView",value:P}),m.createElement(r.FN,{variant:"itemView",value:V,item:e})),m.createElement(s.A,{className:S.pageTitle},H)),Number.isInteger(null==O?void 0:O.music_song_total_play)?m.createElement("div",{className:S.minorInfo},_.formatMessage({id:"music_song_total_play"},{value:null==O?void 0:O.music_song_total_play})):null,T&&m.createElement(s.A,{sx:{display:"flex",justifyContent:"center",mx:2},component:"div",mt:1,fontWeight:600},m.createElement("span",{className:S.albumLabel},`${_.formatMessage({id:"album"})}:`),m.createElement(n.N_E,{to:(null==T?void 0:T.link)||(null==T?void 0:T.url),ml:.5},null==T?void 0:T.name))),m.createElement(r._V,{src:J,className:S.imgSong,aspectRatio:"11"}),m.createElement(d.A,{autoPlay:z&&"running"===R.state,className:S.audioPlayer,src:$,showJumpControls:!1,showSkipControls:!0,customVolumeControls:[],onEnded:G,customControlsSection:[m.createElement(r.s4,{key:"shuffle",icon:"ico-shuffle",className:`${S.btnControlAudio} ${S.btnDisable}`}),d.n.MAIN_CONTROLS,d.n.ADDITIONAL_CONTROLS],customIcons:{play:m.createElement(r.s4,{icon:"ico-play"}),pause:m.createElement(r.s4,{icon:"ico-pause"}),previous:m.createElement(r.s4,{icon:"ico-play-prev",className:`${S.btnControlAudio} ${S.btnDisable}`}),next:m.createElement(r.s4,{icon:"ico-play-next",className:`${S.btnControlAudio} ${S.btnDisable}`}),loop:m.createElement(r.s4,{icon:"ico-play-repeat",className:S.btnRepeatOn}),loopOff:m.createElement(r.s4,{icon:"ico-play-repeat"})}}))),m.createElement(j,{item:e,sx:{borderRadius:0}}),m.createElement("div",{className:S.viewContainer},m.createElement(g,{menuName:"detailActionMenu",identity:o,icon:"ico-dottedmore-vertical-o",state:p,handleAction:c,className:S.actionMenu}),m.createElement("div",{className:S.author},m.createElement(s.A,{component:"div"},m.createElement(r.H8,{user:t,size:48})),m.createElement("div",{className:S.authorInfo},m.createElement(r.xE,{color:"inherit",to:`/user/${null==t?void 0:t.id}`,user:t,className:S.userName,hoverCard:!1}),(null==I?void 0:I.resource_name)!==(null==t?void 0:t.resource_name)&&m.createElement(y,null,_.formatMessage({id:"to_parent_user"},{icon:()=>m.createElement(r.s4,{icon:"ico-caret-right"}),parent_user:()=>m.createElement(x,{user:I})})),m.createElement(r.J7,{sx:{color:"text.secondary",mt:.5}},m.createElement(r.Gl,{value:D,format:"LL"}),m.createElement(r.g6,{value:null==e?void 0:e.privacy,item:null==e?void 0:e.privacy_detail})))),L&&m.createElement(E,null,m.createElement(r.np,null,m.createElement(i.Ay,{html:M||L}))),(null==B?void 0:B.length)>0&&m.createElement(s.A,{mt:4,display:"flex",flexWrap:"wrap"},B.map(e=>m.createElement(b,{key:null==e?void 0:e.id},m.createElement(n.N_E,{to:null==e?void 0:e.url},null==e?void 0:e.name)))),m.createElement(f.A,{attachments:U,size:"mini"}),m.createElement(v,{identity:o,handleAction:c})))))})),w=(0,n.WvA)({extendBlock:_,defaults:{placeholder:"Search",blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base"},headerStyle:{},footerStyle:{}}}})},60655(e,t,a){a.d(t,{A:()=>p});var n=a(91557),o=a(40515),i=a(3556),l=a(8051),r=a(96540);let c=(0,i.Ay)("div",{name:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),s=(0,i.Ay)("div",{name:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between",[e.breakpoints.down("sm")]:{flexDirection:"column"}})),m=(0,i.Ay)("div",{name:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"calc(50% - 8px)",minWidth:300,maxWidth:"100%"})),d=({attachments:e,size:t,sx:a})=>{let{i18n:i}=(0,n.PCX)(),d=(0,n.UfA)(e);return d.length?r.createElement(l.A,{mt:2,sx:a},r.createElement(c,null,i.formatMessage({id:"attachments"})),r.createElement(s,null,d.map((e,a)=>r.createElement(m,{key:e.id.toString()},r.createElement(o.Hg,{fileName:e.file_name,downloadUrl:e.download_url,isImage:e.is_image,fileSizeText:e.file_size_text,size:t,image:null==e?void 0:e.image,identity:null==e?void 0:e._identity,index:a}))))):null},p=d},58494(e,t,a){a.d(t,{Ay:()=>c});var n=a(91557),o=a(58156),i=a.n(o);let l=(0,n.vYD)({},()=>({})),r=(0,n.NgA)(function(e,t){let a=i()(e,t.identity);if(!a)return{};let n=a.songs?a.songs.map(t=>i()(e,t)).filter(Boolean):[];return{item:a,songs:n,user:i()(e,a.user)}});function c(e){return r(l(e))}}}]);