"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["sidebar"],{76934(e,t,n){n.r(t),n.d(t,{default:()=>E});var a=n(91557),i=n(84680),l=n(96540),r=n(40515),o=n(3556),d=n(63461),c=n(20053),m=n(62193),p=n.n(m);let s=(e,t)=>{var n;return(null==e?void 0:e.resourceName)===(null==t?void 0:t.resource_name)&&(null==e?void 0:e.appName)===(null==t?void 0:t.module_name)&&(null==e?void 0:e.id)===(null==t?void 0:null===(n=t.id)||void 0===n?void 0:n.toString())};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}let g=(0,o.Ay)("div",{name:"LayoutSlot",slot:"categoryItem",overridesResolver:(e,t)=>[t.categoryItem]})(({theme:e})=>({"& a":{minHeight:e.spacing(7),flex:1,minWidth:0,padding:e.spacing(1,2),"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}})),h=(0,o.Ay)("div")(({theme:e})=>({"&.hasSubs":{display:"flex",alignItems:"center","& a":{paddingRight:e.spacing(5)}},"&.itemActive":{"& > a":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}}})),f=(0,o.Ay)(d.A)(({theme:e})=>({position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15),paddingLeft:0}})),b=(0,o.Ay)(a.Wti)(({theme:e})=>({fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"})),v=(0,o.Ay)("ul")(({theme:e})=>({borderLeft:`1px solid ${e.palette.border.secondary}`,listStyle:"none",margin:e.spacing(0,0,0,2),padding:0})),x=(e,t,n)=>(null==e?void 0:e.length)>0&&e.some(e=>{var a;return n===(null==e?void 0:null===(a=e.id)||void 0===a?void 0:a.toString())||s(t,e)||x(e.subs,t,n)});function y({name:e,id:t,subs:n,resource_name:i,active:o,classes:d,link:m}){let{usePageParams:k}=(0,a.PCX)(),E=k(),{category:A}=E||{},[S,R]=l.useState(x(n,E,A)),I=l.useCallback(()=>{R(e=>!e)},[]);return l.useEffect(()=>{x(n,E,A)&&R(!0)},[A,null==E?void 0:E.id]),l.createElement(g,null,l.createElement(h,{className:(0,c.default)(!p()(n)&&"hasSubs",o&&"itemActive")},l.createElement(b,{to:m,"data-testid":"itemCategory",color:"inherit","aria-selected":o,"aria-label":e},l.createElement("span",null,e)),p()(n)?null:l.createElement(f,{size:"small",onClick:I},l.createElement(r.s4,{icon:S?"ico-angle-up":"ico-angle-down"}))),S&&n&&(null==n?void 0:n.length)>0?l.createElement(v,null,n.map((e,t)=>l.createElement(y,u({key:t.toString(),classes:d,link:(null==e?void 0:e.link)||(null==e?void 0:e.url),active:A===e.id.toString()||s(E,e)},e)))):null)}let k=(0,a.mtG)(function({title:e,sidebarCategory:t,blockProps:n,appName:r}){let{useFetchItems:o,usePageParams:d}=(0,a.PCX)(),c=(null==t?void 0:t.appName)||r,m=(0,a.IgF)(c,(null==t?void 0:t.resourceName)||`${c}_category`,(null==t?void 0:t.actionName)||"viewAll"),[p]=o({dataSource:m||(null==t?void 0:t.dataSource),data:[],cache:!0,normalize:!1}),u=d(),{category:g}=u||{};if(!t)return null;let{title:h}=t;return l.createElement(l.Fragment,null,p.length?l.createElement(i.eB,{testid:"blockSidebarCategory"},l.createElement(i.Tw,{title:h||e}),l.createElement(i.tD,null,p.map(e=>l.createElement(y,{id:e.id,name:e.name,resource_name:e.resource_name,key:e.id.toString(),active:g===e.id.toString()||s(u,e),subs:e.subs,link:(null==e?void 0:e.link)||(null==e?void 0:e.url)})))):null)}),E=(0,a.WvA)({extendBlock:k,defaults:{title:"Categories",blockLayout:"sidebar app category"}})},23358(e,t,n){n.r(t),n.d(t,{default:()=>f});var a=n(91557),i=n(84680),l=n(3556),r=n(63461),o=n(87773),d=n(96540),c=n(56525),m=n(85838);let p=(0,c.A)(e=>(0,m.A)({root:{padding:e.spacing(2,2,0,2)},header:{display:"flex",alignItems:"center",color:e.palette.primary.main},title:{fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold},text:{flexGrow:1},icon:{fontSize:e.mixins.pxToRem(16),color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(1.5),lineHeight:"32px"},link:{color:e.palette.primary.main,"&:hover":{textDecoration:"underline"}},breadcrumbs:{display:"flex",alignItems:"center"}}),{name:"SideAppHeaderBlock"});var s=n(8051),u=n(40515);function g({data:e,item:t={}}){let n=p(),{compactUrl:i,i18n:l}=(0,a.PCX)();return(null==e?void 0:e.length)?d.createElement(s.A,{sx:{display:"flex",alignItems:"center",flexFlow:"wrap"}},e.map(e=>d.createElement(d.Fragment,null,d.createElement(a.Wti,{to:i(e.to,t||{})||(null==t?void 0:t.link),className:n.link},d.createElement(o.A,{variant:"body2",color:"primary"},l.formatMessage({id:e.title}))),d.createElement(s.A,{mx:1,component:"span",color:"text.hint",sx:{"&:last-child":{display:"none"}}},d.createElement(u.s4,{sx:{fontSize:"10px"},icon:"ico-angle-right"}))))):null}let h=(0,l.Ay)(r.A,{name:"SidebarAppHeader",slot:"styledBackButton",overridesResolver:(e,t)=>[t.styledBackButton]})(({theme:e})=>({display:"none"}));function f({blockProps:e,sidebarHeaderName:t="homepageHeader",titleProperty:n}){let l=p(),{usePageParams:r,useFetchDetail:c,compactUrl:m,i18n:s,navigate:f}=(0,a.PCX)(),{appName:b,breadcrumb:v,heading:x,pageTitle:y,id:k,resourceName:E,backPage:A,backPageProps:S}=r(),R=(0,a.$lg)(b,t),[I]=c({dataSource:k&&("page"===E||"group"===E)?{apiUrl:`/${b}/${k}`}:null});if(!R)return null;let{title:W,to:C,breadcrumbsData:w}=R,B=C||(null==I?void 0:I.link),$=n&&I&&I[n],M=$&&`/${E}/${k}`,T=S||{title:y,to:E};if(v||w){var N;return d.createElement(i.eB,{testid:"blockAppHeader"},d.createElement(i.tD,null,w?d.createElement(g,{data:w,item:I}):d.createElement(a.Wti,{to:M||m(B,I||{}),className:l.link},d.createElement(o.A,{variant:"body2",color:"primary"},s.formatMessage({id:null!==(N=null!=y?y:$)&&void 0!==N?N:W}))),x&&"string"==typeof x?d.createElement("div",{className:l.header},d.createElement(o.A,{component:"h1",variant:"h3",color:"textPrimary"},s.formatMessage({id:x}))):null))}return d.createElement(i.eB,{testid:"blockAppHeader"},d.createElement(i.tD,null,A?d.createElement(a.Wti,{to:T.to,className:l.link},d.createElement(o.A,{variant:"body2",color:"primary"},s.formatMessage({id:T.title}))):null,d.createElement("div",{className:l.header},d.createElement(h,{size:"small",role:"button",onClick:()=>f(-1),sx:{mr:1}},d.createElement(u.s4,{icon:"ico-arrow-left"})),d.createElement(o.A,{component:"h1",variant:"h3",color:"textPrimary",className:l.title},s.formatMessage({id:null!=y?y:W})))))}},75488(e,t,n){n.r(t),n.d(t,{default:()=>l});var a=n(91557),i=n(23358);let l=(0,a.WvA)({extendBlock:i.default,defaults:{title:"App Header",blockLayout:"sidebar app header"}})},80276(e,t,n){n.d(t,{A:()=>u});var a=n(91557),i=n(84680),l=n(67725),r=n(96540),o=n(56525),d=n(85838);let c=(0,o.A)(e=>(0,d.A)({root:{},menu:{},text:{flexGrow:1},colapseIcon:{},icon:{color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(2),lineHeight:"32px"},dropDownIcon:{},menuItemAvatar:{},menuItemIcon:{fontSize:e.mixins.pxToRem(18),display:"inline-block",textAlign:"center",marginRight:e.spacing(1),backgroundColor:"#e0dddd",borderRadius:"50%",lineHeight:"32px",width:e.spacing(4)},menuItem:{height:e.spacing(7),fontWeight:e.typography.fontWeightRegular,margin:e.spacing(0,-1),"& a":{padding:e.spacing(0,1)},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemText:{fontSize:e.mixins.pxToRem(15)},menuItemLink:{color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,display:"block",height:"100%",lineHeight:`${e.spacing(7)}px`},activeMenuItem:{"& $menuItemLink":{color:e.palette.primary.main,fontWeight:"bold"},"& $menuItemIcon":{color:e.palette.background.paper,backgroundColor:e.palette.primary.main}},menuItemButton:{marginTop:e.spacing(2),"& .ico":{marginRight:e.spacing(1)}},buttonLink:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",height:e.spacing(5)},headerBlock:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",color:"light"===e.palette.mode?e.palette.text.secondary:e.palette.text.primary,padding:e.spacing(2,0)}}),{name:"SidebarAppMenu"});var m=n(58156),p=n.n(m);let s={};function u({displayTitle:e,displayViewMore:t=!0,title:n,blockProps:o,appName:d,menuName:m,item:u,displayLimit:g=5}){let h=c(),{usePageParams:f,useSession:b,getAcl:v,jsxBackend:x,compactUrl:y,getSetting:k,i18n:E,location:A,useIsMobile:S}=(0,a.PCX)(),R=S(!0),I=r.useRef(!1),W=v(),{tab:C,pathname:w,id:B}=f(),$=w||(null==A?void 0:A.pathname),M=b(),T=k(),{appName:N,module_name:L}=f(),z=d||N||L||"core",[H,D]=r.useState(p()(s,z)),P=(0,r.useCallback)(()=>{s={[z]:!H},D(e=>!e)},[]),_=(0,a.cbF)(d||N||L||"core",m),F=(0,l.Ue)(null==_?void 0:_.items,{setting:T,session:M,acl:W,item:u,isMobile:R}),X=F.filter(e=>"sidebarButton"===e.as).length,O=(0,r.useMemo)(()=>{let e=[...F];return e.length?(e.length<=g+X||!t||(H?e.splice(e.length-X,0,{icon:"ico-angle-up",testid:"less",label:E.formatMessage({id:"less"}),onClick:P,to:null}):e.splice(g,e.length-(g+X),{icon:"ico-angle-down",testid:"more",label:E.formatMessage({id:"more"}),onClick:P,to:null})),e):[]},[F,g,X,t,H,E,P]),j=(0,r.useMemo)(()=>-1!==F.findIndex(e=>(0,l.w7)($,e.to)),[F,$]),G=(0,r.useMemo)(()=>!O.some(e=>(0,l.w7)($,e.to)),[O,$]);return r.useEffect(()=>{!I.current&&j&&G&&P(),I.current=!0},[j,G]),r.createElement(i.eB,{testid:"blockSidebarMenu"},e&&r.createElement(i.Tw,{title:n}),r.createElement(i.tD,null,r.createElement("div",{role:"menu"},O.map((e,t)=>x.render({component:`menuItem.as.${e.as||"sidebarLink"}`,props:{key:t.toString(),variant:"contained",item:{...e,to:e.to?y(e.to,{id:B}):void 0},classes:h,active:C&&C===e.tab||(0,l.w7)($,e.to)}})))))}},92666(e,t,n){n.r(t),n.d(t,{default:()=>r});var a=n(91557),i=n(80276);let l=(0,a.$MH)((0,a.FB$)(i.A,()=>{})),r=(0,a.WvA)({extendBlock:l,defaults:{title:"Sidebar App Menu",menuName:"sidebarMenu",blockLayout:"sidebar app menu"}})},15204(e,t,n){n.r(t),n.d(t,{default:()=>p});var a=n(91557),i=n(84680),l=n(67725),r=n(96540),o=n(56525),d=n(85838);let c=(0,o.A)(e=>(0,d.A)({root:{},menu:{},text:{flexGrow:1},colapseIcon:{},icon:{color:"#fff",backgroundColor:e.palette.primary.main,borderRadius:"32px",width:"32px",height:"32px",textAlign:"center",marginRight:e.spacing(2),lineHeight:"32px"},dropDownIcon:{},menuItemAvatar:{},menuItemIcon:{fontSize:e.mixins.pxToRem(18),display:"inline-block",textAlign:"center",marginRight:e.spacing(1),backgroundColor:"#e0dddd",borderRadius:"50%",lineHeight:"32px",width:e.spacing(4)},menuItem:{height:e.spacing(7),fontWeight:`${e.typography.fontWeightRegular} !important`,margin:`${e.spacing(0,1)} !important`,borderRadius:`${e.spacing(1)} !important`,padding:`${e.spacing(1)} !important`,"& a":{padding:e.spacing(0,2)},"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}},menuItemText:{fontSize:e.mixins.pxToRem(15),fontWeight:`${e.typography.fontWeightRegular} !important`,"& .MuiListItemText-primary":{fontWeight:`${e.typography.fontWeightRegular} !important`}},menuItemLink:{color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,display:"block",height:"100%",lineHeight:`${e.spacing(7)}px`},activeMenuItem:{background:"transparent !important","& $menuItemLink":{color:e.palette.primary.main,fontWeight:"bold"},"& $menuItemIcon":{color:e.palette.background.paper,backgroundColor:e.palette.primary.main},"& $menuItemText .MuiListItemText-primary":{fontWeight:`${e.typography.fontWeightMedium} !important`,color:`${e.palette.primary.main} !important`}},menuItemButton:{marginTop:e.spacing(2),"& .ico":{marginRight:e.spacing(1)}},buttonLink:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",height:e.spacing(5)},headerBlock:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",color:"light"===e.palette.mode?e.palette.text.secondary:e.palette.text.primary,padding:e.spacing(2,0)}}),{name:"SidebarAppMenu"}),m=(0,a.$MH)((0,a.FB$)(function({displayTitle:e,title:t,blockProps:n,appName:o,menuName:d,item:m}){let p=c(),{usePageParams:s,useSession:u,getAcl:g,jsxBackend:h,compactUrl:f,getSetting:b}=(0,a.PCX)(),v=g(),{tab:x,id:y}=s(),{pathname:k}=(0,a.zy2)(),E=u(),A=b(),{appName:S,module_name:R}=s(),I=(0,a.cbF)(o||S||R||"core",d);if(!(null==I?void 0:I.items)||!I.items.length)return null;let W=(0,l.Ue)(I.items,{setting:A,session:E,acl:v,item:m});return W.length?r.createElement(i.eB,{testid:"blockSidebarMenu"},e&&r.createElement(i.Tw,{title:t}),r.createElement(i.tD,null,r.createElement("div",{role:"menu"},W.map((e,t)=>h.render({component:`menuItem.as.${e.as||"sidebarLink"}`,props:{key:t.toString(),variant:"middle",item:{...e,to:e.to?f(e.to,{id:y}):void 0},classes:p,active:x&&x===e.tab||k===e.to}}))))):null},()=>{})),p=(0,a.WvA)({extendBlock:m,defaults:{title:"Sidebar Menu Settings",menuName:"sidebarMenuSetting",blockLayout:"sidebar app menu"}})},49798(e,t,n){n.r(t),n.d(t,{default:()=>o});var a=n(91557),i=n(84680),l=n(67131),r=n(96540);let o=(0,a.WvA)({extendBlock:function({dividerVariant:e,blockProps:t}){let{useTheme:n}=(0,a.PCX)(),o=n();return r.createElement(i.eB,null,r.createElement(i.tD,null,r.createElement(l.A,{variant:null!=e?e:"inset",sx:{borderColor:o.palette.divider}})))},overrides:{dividerVariant:"middle",noHeader:!0},defaults:{title:"Divider",dividerVariant:"middle",blockLayout:"sidebar divider"}})},58950(e,t,n){n.r(t),n.d(t,{default:()=>c});var a=n(91557),i=n(71468),l=n(84680),r=n(96540);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}let d=(0,i.Ng)(e=>e.core.ui)(function({blockProps:e}){let t=(0,a.cbF)("core","footerMenu");if(!(null==t?void 0:t.items))return null;let{items:n}=t;return r.createElement(l.eB,null,r.createElement(l.tD,null,n.map(e=>r.createElement(a.N_E,o({key:e.to,role:"link",variant:"caption",style:{paddingRight:8},color:"textSecondary"},e),e.label)),r.createElement(a.N_E,{role:"link",to:"#",variant:"caption",style:{paddingRight:8},color:"textSecondary"},"Phpfox \xa9 2017")))}),c=(0,a.WvA)({extendBlock:d,defaults:{blockProps:{testid:"sidebarFooterBlock",variant:"plained",paddingLeft:"2",paddingRight:"2"}}})}}]);