"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-event-blocks-EventDetail-Block"],{59658(e,t,a){a.d(t,{A:()=>n});function n(e){return{}}},58658(e,t,a){a.r(t),a.d(t,{default:()=>L});var n=a(91557),i=a(85191),o=a(30691),r=a(21276),l=a(70360),m=a(90243),d=a(84680),s=a(40515),c=a(3556),p=a(63461),g=a(87773),u=a(60780),h=a(8051),v=a(2404),f=a.n(v),y=a(62193),x=a.n(y),E=a(96540),b=a(56525),A=a(85838);let w=(0,b.A)(e=>(0,A.A)({root:{[e.breakpoints.down("sm")]:{marginTop:"-4px","& $viewContainer":{borderRadius:0,marginTop:"0 !important",border:"none"},"& $headingWrapper":{flexDirection:"row-reverse"},"& $calendar":{width:80,height:80,marginRight:e.spacing(0),marginLeft:e.spacing(2)},"& $month":{height:"22px",lineHeight:"22px"},"& $day":{fontSize:32,marginTop:e.spacing(1)},"& $year":{fontSize:13,marginTop:e.spacing(1)},"& $heading":{paddingTop:e.spacing(3)},"& $timeLocation":{marginTop:e.spacing(3)}}},viewContainer:{width:"100%",marginLeft:"auto",marginRight:"auto",borderRadius:e.shape.borderRadius,backgroundColor:e.mixins.backgroundColor("paper"),border:e.mixins.border("secondary"),marginTop:e.spacing(0),padding:e.spacing(0,2,.5,2)},headingWrapper:{display:"flex"},calendar:{width:120,height:120,boxShadow:"1.4px 1.4px 6px 0 rgba(0, 0, 0, 0.1)",marginRight:e.spacing(2),fontWeight:"bold",textAlign:"center",borderBottomRightRadius:e.shape.borderRadius/2,borderBottomLeftRadius:e.shape.borderRadius/2,..."dark"===e.palette.mode&&{background:`${e.palette.grey["700"]} !important`}},month:{height:"32px",lineHeight:"32px",background:e.palette.primary.main,color:"#fff"},day:{fontSize:40,lineHeight:.7,color:"dark"===e.palette.mode?e.palette.text.primary:e.palette.primary.main,marginTop:e.spacing(2)},year:{fontSize:18,lineHeight:1,color:"dark"===e.palette.mode?e.palette.text.primary:e.palette.primary.main,marginTop:e.spacing(1.5)},heading:{flex:1,minWidth:0,paddingTop:e.spacing(2)},itemTitle:{fontSize:e.spacing(3),lineHeight:1,fontWeight:e.typography.fontWeightBold},itemFlag:{display:"inline-flex",justifyContent:"center",verticalAlign:"bottom","& .MuiFlag-itemView":{padding:e.spacing(.5,0)}},categories:{display:"flex",flexWrap:"wrap","& > div":{lineHeight:e.spacing(2)},"& > a":{margin:`${e.spacing(1)}px ${e.spacing(1)}px ${e.spacing(1)}px 0`}},timeLocation:{fontSize:18,lineHeight:1.2,color:"dark"===e.palette.mode?e.palette.text.secondary:e.palette.text.hint,marginTop:e.spacing(2),"& .ico":{fontSize:20,marginRight:e.spacing(1.5)}},time:{display:"flex"},location:{marginTop:e.spacing(1.5)},actionMenu:{border:"1px solid",width:"40px",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.primary.main,justifyContent:"center","& .ico":{color:e.palette.primary.main}},iconButton:{flex:1,minWidth:0,marginRight:e.spacing(1),border:"1px solid",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.text.primary,justifyContent:"center",fontSize:e.mixins.pxToRem(18),fontWeight:e.typography.fontWeightBold,padding:e.spacing(0,2),"& .ico":{fontSize:e.mixins.pxToRem(18),marginRight:e.spacing(1)}},activeIconButton:{color:e.palette.primary.main},itemContent:{fontSize:15,lineHeight:1.33,marginTop:e.spacing(3),marginBottom:e.spacing(5),"& p + p":{marginBottom:e.spacing(2.5)}},eventIsEnd:{backgroundColor:`${e.palette.background.default} !important`,color:`${e.palette.text.hint} !important`,minWidth:0,"&.Mui-disabled":{..."dark"===e.palette.mode&&{color:`${e.palette.text.disabled} !important`}}},routeLink:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onlineLink:{marginTop:e.spacing(1.5),display:"flex"}}),{name:"MuiEventViewDetail"}),_="EventDetail",k=(0,c.Ay)("div",{name:_,slot:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(2),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),M=(0,c.Ay)(p.A,{name:_,slot:"IconButtonAction"})(({theme:e})=>({..."dark"===e.palette.mode&&{"&:hover":{backgroundColor:e.palette.grey[700]}}})),C=(0,c.Ay)("div",{name:_,slot:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"})),T=(0,c.Ay)("div",{name:_,slot:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"100%",minWidth:300})),$=(0,c.Ay)(g.A)(({theme:e})=>({backgroundColor:e.palette.background.default,borderRadius:e.shape.borderRadius/2,display:"inline-flex",alignItems:"center",justifyContent:"center",height:"32px",padding:`0 ${e.spacing(2)}`,marginBottom:e.spacing(1)})),S=(0,c.Ay)(u.A,{name:"ButtonInviteStyled"})(({theme:e})=>({height:"100%",borderColor:e.palette.primary.main,"& .MuiButton-startIcon":{marginLeft:0}})),z=(0,c.Ay)("div",{name:"LocationStyled"})(({theme:e})=>({marginTop:e.spacing(1.5),display:"flex"})),N=(0,c.Ay)(s.J7,{name:"LocationTextStyled"})(({theme:e})=>({fontSize:e.typography.body2.fontSize,color:e.palette.primary.main,"& a:hover":{cursor:"pointer",textDecoration:"underline"}})),R=(0,c.Ay)(h.A,{name:"ActionGroup",shouldForwardProp:e=>"isEnd"!==e})(({theme:e,isEnd:t})=>({height:e.spacing(5),display:t?"flex":"inline-flex",marginTop:e.spacing(2),[e.breakpoints.down("xs")]:{display:"flex"},[e.breakpoints.down("sm")]:{width:"100%","& > .MuiButtonBase-root":{justifyContent:"inherit",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"& .ico-caret-down":{marginLeft:e.spacing(.5)}}},"& >*":{marginRight:`${e.spacing(1)} !important`}}));function I({handleAction:e,identity:t,state:a,item:i,user:c}){var p;let v=w(),{i18n:y,ItemActionMenu:b,ItemDetailInteraction:A,useGetItems:_,useSession:I,getSetting:B}=(0,n.PCX)(),{user:L,loggedIn:W}=I(),D=(null==L?void 0:L.id)===(null==c?void 0:c.id),H=B("event.default_time_format"),Y=_(null==i?void 0:i.categories),F=(0,n.dx2)(null==i?void 0:i.owner),j=_(null==i?void 0:i.attachments);if(!i||x()(i))return null;let{rsvp:V,description:q,is_pending:G,location:O,is_online:P}=i,[U,X]=(0,l.II)(i.start_time,i.end_time,H===o.Uw),J=(0,l.CC)(i.end_time),K=D?null:E.createElement(r.A,{disabled:f()(null===(p=i.extra)||void 0===p?void 0:p.can_rsvp,!1),identity:t,handleAction:e,rsvp:V}),Q=O.lat,Z=O.lng,ee=O.lng,et=O.lat,ea={pathname:"/event/search-map/",search:`?${o.gz}=${Q}&${o.C0}=${ee}&${o.o6}=${Z}&${o._x}=${et}`},en=n.uO7&&(null==F?void 0:F.module_name)===c.module_name;return E.createElement(d.eB,{testid:`detailview ${i.resource_name}`},E.createElement(d.tD,null,E.createElement("div",{className:v.root},E.createElement("div",{className:v.viewContainer},E.createElement("div",{className:v.headingWrapper},E.createElement("div",{className:v.calendar},E.createElement("div",{className:v.month},E.createElement(s.Gl,{"data-testid":"startDate",value:i.start_time,format:"MMM"})),E.createElement("div",{className:v.day},E.createElement(s.Gl,{"data-testid":"startTime",value:i.start_time,format:"DD"})),E.createElement("div",{className:v.year},E.createElement(s.Gl,{"data-testid":"startYear",value:i.start_time,format:"YYYY"}))),E.createElement("div",{className:v.heading},D?E.createElement($,null,E.createElement(g.A,{variant:"body2",fontWeight:600,color:"text.hint"},y.formatMessage({id:"your_hosting_event"}))):null,E.createElement("div",{className:v.categories},E.createElement(s.h4,{data:Y,sx:{mb:1,mr:2,textTransform:"unset"}})),E.createElement(s.Et,{variant:"h3",component:"div",pr:2,showFull:!0},E.createElement("div",{className:v.itemFlag},E.createElement(s.rL,{variant:"itemView",value:i.is_featured}),E.createElement(s.FN,{variant:"itemView",value:i.is_sponsor,item:i}),E.createElement(s.LO,{variant:"itemView",value:G})),E.createElement(g.A,{component:"h1",variant:"h3",className:v.itemTitle,sx:{display:"inline"}},i.title)))),E.createElement("div",{className:v.timeLocation},E.createElement("div",{className:v.time},E.createElement(s.s4,{icon:"ico-clock-o"}),U&&y.formatMessage({id:"event_start_at"},{value:U}),X&&y.formatMessage({id:"event_end_at"},{value:X})),(null==O?void 0:O.address)&&!P&&E.createElement(z,null,E.createElement(s.s4,{icon:"ico-checkin-o"}),E.createElement(h.A,null,E.createElement(g.A,null,null==O?void 0:O.address),(null==O?void 0:O.lat)&&(null==O?void 0:O.lng)?E.createElement(N,{mt:.5},en?E.createElement(n.N_E,{to:ea},y.formatMessage({id:"view_on_map"})):null,E.createElement(n.N_E,{to:`http://maps.google.com/?q=${encodeURIComponent(null==O?void 0:O.address)}`,target:"_blank"},y.formatMessage({id:"view_on_google_maps"}))):null)),i.event_url&&E.createElement("div",{className:v.onlineLink},E.createElement(s.s4,{icon:"ico-link"}),E.createElement("div",{className:v.routeLink},E.createElement(n.Wti,{to:"",href:i.event_url,target:"_blank"},i.event_url))),null!==i.privacy_detail&&E.createElement("div",{className:v.location},E.createElement(s.g6,{value:null==i?void 0:i.privacy,item:null==i?void 0:i.privacy_detail,privacyText:!0}))),W?E.createElement(R,{isEnd:J},J?E.createElement(u.A,{className:v.eventIsEnd,variant:"contained",disabled:!0},y.formatMessage({id:"event_is_end"})):K,E.createElement(h.A,null,E.createElement(b,{menuName:"itemInviteMenu",state:a,handleAction:e,className:v.actionMenu,control:E.createElement(S,{size:"small",variant:"outlined",component:"h5",startIcon:E.createElement(s.s4,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},E.createElement("span",null,y.formatMessage({id:"invite"})))})),E.createElement(h.A,null,E.createElement(b,{menuName:"detailActionMenu",identity:t,state:a,handleAction:e,className:v.actionMenu,control:E.createElement(M,{color:"primary",variant:"outlined-square",size:"medium"},E.createElement(s.s4,{icon:"ico-dottedmore-o"}))}))):null,E.createElement(h.A,{component:"div",mt:3,className:v.itemContent},E.createElement(m.Ay,{html:q})),(null==j?void 0:j.length)>0&&E.createElement(E.Fragment,null,E.createElement(k,null,y.formatMessage({id:"attachments"})),E.createElement(C,null,j.map((e,t)=>E.createElement(T,{key:null==e?void 0:e.id.toString()},E.createElement(s.Hg,{fileName:null==e?void 0:e.file_name,downloadUrl:null==e?void 0:e.download_url,isImage:null==e?void 0:e.is_image,fileSizeText:null==e?void 0:e.file_size_text,size:"large",image:null==e?void 0:e.image,identity:null==e?void 0:e._identity,index:t}))))),E.createElement(A,{identity:t,state:a,handleAction:e,hideListComment:!0,hideComposerInListComment:!0})))))}I.displayName="EventDetail";let B=(0,n.$MH)((0,i.F)(I,i.m)),L=(0,n.WvA)({extendBlock:B,defaults:{placeholder:"Search"}})},21276(e,t,a){a.d(t,{A:()=>y});var n=a(91557),i=a(40515),o=a(3556),r=a(63461),l=a(87773),m=a(96540),d=a(70360),s=a(30691),c=a(84058),p=a.n(c);let g="InterestedButton",u=(0,o.Ay)(r.A,{name:g,slot:"IconButtonAction",overridesResolver:(e,t)=>[t.containedSizeMedium]})(({theme:e,disabled:t})=>({width:"100%",height:"100%",...!t&&"dark"===e.palette.mode&&{color:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.grey[700]}}})),h=(0,o.Ay)(i.dz,{name:g,slot:"ButtonNoInterestedAction",overridesResolver:(e,t)=>[t.containedSizeMedium]})(({theme:e,disabled:t})=>({width:"auto",flex:1,height:"100%",...!t&&"dark"===e.palette.mode&&{"&:hover":{backgroundColor:e.palette.grey[700]}}})),v=(0,o.Ay)(l.A)(({theme:e})=>({fontSize:e.mixins.pxToRem(15),fontWeight:"600"})),f=(0,o.Ay)(l.A)(({theme:e})=>({backgroundColor:e.palette.background.default,borderRadius:e.shape.borderRadius/2,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:`0 ${e.spacing(2)}`,minHeight:"40px",flex:1}));function y({handleAction:e,identity:t,rsvp:a,disabled:o,menus:r,fullWidth:c=!1,sizeButton:g="medium"}){let{i18n:y,ItemActionMenu:x,useGetItem:E,useSession:b,dispatch:A}=(0,n.PCX)(),w=E(t),_=E(null==w?void 0:w.user),{user:k}=b(),M=(null==k?void 0:k.id)===(null==_?void 0:_.id),{icon:C,label:T}=(0,d.cp)(a),$=e=>{A({type:"interestedEvent",payload:{identity:t},meta:{onSuccess:e}})};return M?m.createElement(f,null,m.createElement(l.A,{variant:"body1",fontWeight:600,color:"text.hint"},y.formatMessage({id:"your_event"}))):a===s.ox?m.createElement(h,{disabled:o,color:"secondary",variant:"outlined-square",size:g,isIcon:!0,action:$,"data-testid":p()("button interested")},m.createElement(i.s4,{icon:C,sx:{mr:1,fontSize:13}}),m.createElement(v,{variant:"body1"},y.formatMessage({id:"interested"}))):m.createElement(x,{sx:{width:c?"100%":"auto",height:"100%"},label:y.formatMessage({id:T}),id:"interested",items:r,handleAction:e,menuName:"interestedMenu",identity:t,control:m.createElement(u,{disabled:o,color:"primary",variant:"outlined-square",size:g},m.createElement(i.s4,{icon:C,sx:{mr:1,fontSize:13}}),m.createElement(v,{variant:"body1"},y.formatMessage({id:T})),m.createElement(i.s4,{icon:"ico-caret-down",sx:{ml:1,fontSize:18}}))})}},85191(e,t,a){a.d(t,{F:()=>n.L2$,m:()=>i.A});var n=a(91557),i=a(59658)},70360(e,t,a){a.d(t,{zV:()=>d,CC:()=>o,cp:()=>m,II:()=>r});var n=a(95093),i=a.n(n);let o=e=>{let t=i()(e),a=i()(new Date);return 0>t.diff(a)},r=(e,t,a)=>{let n=i()(new Date(e).toDateString()),o=i()(new Date(t).toDateString()),r=i()(new Date(t)),l=i()(new Date(e)),m=o.diff(n,"days"),d=[];return r||(d[0]=i()(l).format("LT")),m||(a?(d[0]=i()(l).format("HH:mm"),d[1]=i()(r).format("HH:mm")):(d[0]=i()(l).format("hh:mm A"),d[1]=i()(r).format("hh:mm A"))),m&&(a?(d[0]=i()(l).format("HH:mm"),d[1]=i()(r).format("MMMM DD YYYY, HH:mm")):(d[0]=i()(l).format("hh:mm A"),d[1]=i()(r).format("MMMM DD YYYY, hh:mm A"))),[d[0],d[1]]};var l=a(30691);let m=e=>{let t="interested",a="ico-calendar-star-o";switch(e){case l.qH:t="interested",a="ico-calendar-star";break;case l.F4:t="going",a="ico-check-circle-o";break;case l.ox:t="not_interested",a="ico-calendar-star-o"}return{label:t,icon:a}},d=e=>`${e}`.includes("%")?e:void 0}}]);