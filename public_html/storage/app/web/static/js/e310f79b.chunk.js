"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-announcement-blocks-ViewAnnouncement-Block"],{15991(e,t,n){n.r(t),n.d(t,{default:()=>g});var a=n(91557),l=n(16999),r=n(90243),i=n(84680),o=n(40515),d=n(3556),c=n(8051),s=n(87773),m=n(60780),u=n(96540);let p=(0,d.Ay)(o.Et,{name:"ItemView",shouldForwardProp:e=>"type"!==e})(({theme:e,type:t})=>({..."danger"===t&&{color:e.palette.error.dark},..."success"===t&&{color:e.palette.success.dark},..."warning"===t&&{color:e.palette.warning.dark},..."info"===t&&{color:e.palette.info.dark}})),v=(0,d.Ay)("span",{name:"userRead",shouldForwardProp:e=>"isPointer"!==e})(({theme:e,isPointer:t})=>({marginLeft:e.spacing(.5),cursor:t?"pointer":"default","&:hover":{textDecoration:t?"underline":"none"},...t&&{color:e.palette.primary.main}})),f=(0,d.Ay)(c.A,{slot:"HeaderProfileInfo"})(({theme:e})=>({display:"flex",marginTop:e.spacing(2)})),y=(0,d.Ay)("div",{name:"AvatarWrapper"})(({theme:e})=>({marginRight:e.spacing(1.5)})),A=(0,d.Ay)(c.A,{name:"HeaderSubInfo"})(({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center"}));function E({user:e,item:t,identity:n,state:l,handleAction:d}){var E,_;let{ItemDetailInteraction:g,i18n:k,dispatch:h,useLoggedIn:x}=(0,a.PCX)(),w=x();if(!e||!t)return null;let b=()=>{var e;(null==t?void 0:null===(e=t.statistic)||void 0===e?void 0:e.total_view)&&h({type:"announcement/openListViewer",payload:{identity:n}})},C=()=>{t.is_read||h({type:"announcement/markAsRead",payload:{id:t.id,isDetail:!0}})};return u.createElement(i.eB,{testid:`detailview ${t.resource_name}`},u.createElement(i.tD,null,u.createElement(c.A,{p:2,bgcolor:"background.paper"},u.createElement(p,{variant:"h3",component:"div",pr:2,showFull:!0,type:null==t?void 0:t.style},u.createElement(s.A,{component:"h1",variant:"h3",sx:{pr:2.5,display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},null==t?void 0:t.title)),u.createElement(f,null,u.createElement(y,null,u.createElement(o.H8,{user:e,size:48})),u.createElement(A,null,u.createElement(a.N_E,{to:e.link,children:null==e?void 0:e.full_name,hoverCard:`/user/${e.id}`,color:"text.primary",sx:{fontSize:15,fontWeight:"bold",display:"block"}}),u.createElement(o.J7,{sx:{color:"text.secondary",mt:.5}},u.createElement(o.Gl,{"data-testid":"publishedDate",value:null==t?void 0:t.creation_date,format:"LL"})))),u.createElement(c.A,{component:"div",mt:2,fontSize:"15px"},u.createElement(r.Ay,{html:(null==t?void 0:t.text_parsed)||""}),u.createElement(c.A,{mt:2,sx:{display:"flex",alignItems:"center"}},w?u.createElement(c.A,{mr:1},u.createElement(m.A,{variant:"outlined",size:"medium",color:"primary",disabled:null==t?void 0:t.is_read,onClick:C},k.formatMessage({id:(null==t?void 0:t.is_read)?"i_have_read_this":"mark_as_read"}))):null,u.createElement(c.A,null,k.formatMessage({id:"read_by"}),u.createElement(v,{onClick:b,isPointer:Boolean(null==t?void 0:null===(E=t.statistic)||void 0===E?void 0:E.total_view)},k.formatMessage({id:"number_user"},{value:null==t?void 0:null===(_=t.statistic)||void 0===_?void 0:_.total_view}))))),u.createElement(g,{identity:n,state:l,handleAction:d}))))}E.LoadingSkeleton=function({wrapAs:e,wrapProps:t}){return u.createElement(o.ne,{testid:"loading",wrapAs:e,wrapProps:t})},E.displayName="Announcement_DetailView";let _=(0,a.$MH)((0,l.F)(E,l.m,{})),g=(0,a.WvA)({extendBlock:_})},16999(e,t,n){n.d(t,{m:()=>l,F:()=>a.FB$});var a=n(91557);function l(e){return{closeAnnouncement:t=>e("announcement/close",{onSuccess:t})}}}}]);