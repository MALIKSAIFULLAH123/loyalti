"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["reaction","metafox-reaction-components-ReactedUserItemView-LoadingSkeleton"],{18579(e,t,l){l.d(t,{A:()=>y});var r=l(98587),i=l(58168),a=l(96540),o=l(20053),n=l(75659),s=l(37878),c=l(75630),d=l(92353),u=l(3556),m=l(38413),p=l(31609);function h(e){return(0,p.A)("MuiTab",e)}let f=(0,m.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]);var b=l(74848);let g=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],v=e=>{let{classes:t,textColor:l,fullWidth:r,wrapped:i,icon:a,label:o,selected:s,disabled:d}=e,u={root:["root",a&&o&&"labelIcon",`textColor${(0,c.A)(l)}`,r&&"fullWidth",i&&"wrapped",s&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return(0,n.A)(u,h,t)},x=(0,u.Ay)(s.A,{name:"MuiTab",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[t.root,l.label&&l.icon&&t.labelIcon,t[`textColor${(0,c.A)(l.textColor)}`],l.fullWidth&&t.fullWidth,l.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>(0,i.A)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${f.iconWrapper}`]:(0,i.A)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${f.selected}`]:{opacity:1},[`&.${f.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${f.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${f.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),A=a.forwardRef(function(e,t){let l=(0,d.A)({props:e,name:"MuiTab"}),{className:n,disabled:s=!1,disableFocusRipple:c=!1,fullWidth:u,icon:m,iconPosition:p="top",indicator:h,label:f,onChange:A,onClick:y,onFocus:w,selected:R,selectionFollowsFocus:E,textColor:S="inherit",value:C,wrapped:M=!1}=l,k=(0,r.A)(l,g),W=(0,i.A)({},l,{disabled:s,disableFocusRipple:c,selected:R,icon:!!m,iconPosition:p,label:!!f,fullWidth:u,textColor:S,wrapped:M}),B=v(W),T=m&&f&&a.isValidElement(m)?a.cloneElement(m,{className:(0,o.default)(B.iconWrapper,m.props.className)}):m,N=e=>{!R&&A&&A(e,C),y&&y(e)},z=e=>{E&&!R&&A&&A(e,C),w&&w(e)};return(0,b.jsxs)(x,(0,i.A)({focusRipple:!c,className:(0,o.default)(B.root,n),ref:t,role:"tab","aria-selected":R,disabled:s,onClick:N,onFocus:z,ownerState:W,tabIndex:R?0:-1},k,{children:["top"===p||"start"===p?(0,b.jsxs)(a.Fragment,{children:[T,f]}):(0,b.jsxs)(a.Fragment,{children:[f,T]}),h]}))}),y=A},80160(e,t,l){l.d(t,{A:()=>V});var r,i,a=l(98587),o=l(58168),n=l(96540);l(44363);var s=l(20053),c=l(75659),d=l(3556),u=l(92353),m=l(30719),p=l(52515),h=l(57680);function f(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var b=l(80393),g=l(74848);let v=["onChange"],x={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var A=l(77257),y=l(45776),w=l(37878),R=l(38413),E=l(31609);function S(e){return(0,E.A)("MuiTabScrollButton",e)}let C=(0,R.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),M=["className","direction","orientation","disabled"],k=e=>{let{classes:t,orientation:l,disabled:r}=e;return(0,c.A)({root:["root",l,r&&"disabled"]},S,t)},W=(0,d.Ay)(w.A,{name:"MuiTabScrollButton",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[t.root,l.orientation&&t[l.orientation]]}})(({ownerState:e})=>(0,o.A)({width:40,flexShrink:0,opacity:.8,[`&.${C.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),B=n.forwardRef(function(e,t){let l=(0,u.A)({props:e,name:"MuiTabScrollButton"}),{className:n,direction:c}=l,d=(0,a.A)(l,M),p=(0,m.A)(),h="rtl"===p.direction,f=(0,o.A)({isRtl:h},l),b=k(f);return(0,g.jsx)(W,(0,o.A)({component:"div",className:(0,s.default)(b.root,n),ref:t,role:null,ownerState:f,tabIndex:null},d,{children:"left"===c?r||(r=(0,g.jsx)(A.A,{fontSize:"small"})):i||(i=(0,g.jsx)(y.A,{fontSize:"small"}))}))});var T=l(43270);function N(e){return(0,E.A)("MuiTabs",e)}let z=(0,R.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var I=l(14684);let L=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],_=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,$=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,P=(e,t,l)=>{let r=!1,i=l(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}let a=i.disabled||"true"===i.getAttribute("aria-disabled");if(!i.hasAttribute("tabindex")||a)i=l(e,i);else{i.focus();return}}},H=e=>{let{vertical:t,fixed:l,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:o,scrollButtonsHideMobile:n,classes:s}=e;return(0,c.A)({root:["root",t&&"vertical"],scroller:["scroller",l&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",n&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},N,s)},j=(0,d.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver(e,t){let{ownerState:l}=e;return[{[`& .${z.scrollButtons}`]:t.scrollButtons},{[`& .${z.scrollButtons}`]:l.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,l.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,o.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${z.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),F=(0,d.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver(e,t){let{ownerState:l}=e;return[t.scroller,l.fixed&&t.fixed,l.hideScrollbar&&t.hideScrollbar,l.scrollableX&&t.scrollableX,l.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,o.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),X=(0,d.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver(e,t){let{ownerState:l}=e;return[t.flexContainer,l.vertical&&t.flexContainerVertical,l.centered&&t.centered]}})(({ownerState:e})=>(0,o.A)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),D=(0,d.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,o.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Y=(0,d.Ay)(function(e){let{onChange:t}=e,l=(0,a.A)(e,v),r=n.useRef(),i=n.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return n.useEffect(()=>{let e=(0,p.A)(()=>{let e=r.current;s(),e!==r.current&&t(r.current)}),l=(0,b.A)(i.current);return l.addEventListener("resize",e),()=>{e.clear(),l.removeEventListener("resize",e)}},[t]),n.useEffect(()=>{s(),t(r.current)},[t]),(0,g.jsx)("div",(0,o.A)({style:x,ref:i},l))},{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),O={},U=n.forwardRef(function(e,t){let l=(0,u.A)({props:e,name:"MuiTabs"}),r=(0,m.A)(),i="rtl"===r.direction,{"aria-label":c,"aria-labelledby":d,action:v,centered:x=!1,children:A,className:y,component:w="div",allowScrollButtonsMobile:R=!1,indicatorColor:E="primary",onChange:S,orientation:C="horizontal",ScrollButtonComponent:M=B,scrollButtons:k="auto",selectionFollowsFocus:W,TabIndicatorProps:N={},TabScrollButtonProps:z={},textColor:U="primary",value:V,variant:q="standard",visibleScrollbar:G=!1}=l,K=(0,a.A)(l,L),Q="scrollable"===q,J="vertical"===C,Z=J?"scrollTop":"scrollLeft",ee=J?"top":"left",et=J?"bottom":"right",el=J?"clientHeight":"clientWidth",er=J?"height":"width",ei=(0,o.A)({},l,{component:w,allowScrollButtonsMobile:R,indicatorColor:E,orientation:C,vertical:J,scrollButtons:k,textColor:U,variant:q,visibleScrollbar:G,fixed:!Q,hideScrollbar:Q&&!G,scrollableX:Q&&!J,scrollableY:Q&&J,centered:x&&!Q,scrollButtonsHideMobile:!R}),ea=H(ei),[eo,en]=n.useState(!1),[es,ec]=n.useState(O),[ed,eu]=n.useState({start:!1,end:!1}),[em,ep]=n.useState({overflow:"hidden",scrollbarWidth:0}),eh=new Map,ef=n.useRef(null),eb=n.useRef(null),eg=()=>{let e,t;let l=ef.current;if(l){let i=l.getBoundingClientRect();e={clientWidth:l.clientWidth,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop,scrollLeftNormalized:(0,h.A)(l,r.direction),scrollWidth:l.scrollWidth,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}if(l&&!1!==V){let a=eb.current.children;if(a.length>0){let o=a[eh.get(V)];t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ev=(0,T.A)(()=>{let e;let{tabsMeta:t,tabMeta:l}=eg(),r=0;if(J)e="top",l&&t&&(r=l.top-t.top+t.scrollTop);else if(e=i?"right":"left",l&&t){let a=i?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;r=(i?-1:1)*(l[e]-t[e]+a)}let o={[e]:r,[er]:l?l[er]:0};if(isNaN(es[e])||isNaN(es[er]))ec(o);else{let n=Math.abs(es[e]-o[e]),s=Math.abs(es[er]-o[er]);(n>=1||s>=1)&&ec(o)}}),ex=(e,{animation:t=!0}={})=>{t?function(e,t,l,r={},i=()=>{}){let{ease:a=f,duration:o=300}=r,n=null,s=t[e],c=!1,d=()=>{c=!0},u=r=>{if(c){i(Error("Animation cancelled"));return}null===n&&(n=r);let d=Math.min(1,(r-n)/o);if(t[e]=a(d)*(l-s)+s,d>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(u)};return s===l?(i(Error("Element already at target position")),d):(requestAnimationFrame(u),d)}(Z,ef.current,e,{duration:r.transitions.duration.standard}):ef.current[Z]=e},eA=e=>{let t=ef.current[Z];J?t+=e:(t+=e*(i?-1:1),t*=i&&"reverse"===(0,h.t)()?-1:1),ex(t)},ey=()=>{let e=ef.current[el],t=0,l=Array.from(eb.current.children);for(let r=0;r<l.length;r+=1){let i=l[r];if(t+i[el]>e){0===r&&(t=e);break}t+=i[el]}return t},ew=()=>{eA(-1*ey())},eR=()=>{eA(ey())},eE=n.useCallback(e=>{ep({overflow:null,scrollbarWidth:e})},[]),eS=(0,T.A)(e=>{let{tabsMeta:t,tabMeta:l}=eg();if(l&&t){if(l[ee]<t[ee]){let r=t[Z]+(l[ee]-t[ee]);ex(r,{animation:e})}else if(l[et]>t[et]){let i=t[Z]+(l[et]-t[et]);ex(i,{animation:e})}}}),eC=(0,T.A)(()=>{if(Q&&!1!==k){let e,t;let{scrollTop:l,scrollHeight:a,clientHeight:o,scrollWidth:n,clientWidth:s}=ef.current;if(J)e=l>1,t=l<a-o-1;else{let c=(0,h.A)(ef.current,r.direction);e=i?c<n-s-1:c>1,t=i?c>1:c<n-s-1}(e!==ed.start||t!==ed.end)&&eu({start:e,end:t})}});n.useEffect(()=>{let e;let t=(0,p.A)(()=>{ef.current&&(ev(),eC())}),l=(0,b.A)(ef.current);return l.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(eb.current.children).forEach(t=>{e.observe(t)})),()=>{t.clear(),l.removeEventListener("resize",t),e&&e.disconnect()}},[ev,eC]);let eM=n.useMemo(()=>(0,p.A)(()=>{eC()}),[eC]);n.useEffect(()=>()=>{eM.clear()},[eM]),n.useEffect(()=>{en(!0)},[]),n.useEffect(()=>{ev(),eC()}),n.useEffect(()=>{eS(O!==es)},[eS,es]),n.useImperativeHandle(v,()=>({updateIndicator:ev,updateScrollButtons:eC}),[ev,eC]);let ek=(0,g.jsx)(D,(0,o.A)({},N,{className:(0,s.default)(ea.indicator,N.className),ownerState:ei,style:(0,o.A)({},es,N.style)})),eW=0,eB=n.Children.map(A,e=>{if(!n.isValidElement(e))return null;let t=void 0===e.props.value?eW:e.props.value;eh.set(t,eW);let l=t===V;return eW+=1,n.cloneElement(e,(0,o.A)({fullWidth:"fullWidth"===q,indicator:l&&!eo&&ek,selected:l,selectionFollowsFocus:W,onChange:S,textColor:U,value:t},1!==eW||!1!==V||e.props.tabIndex?{}:{tabIndex:0}))}),eT=e=>{let t=eb.current,l=(0,I.A)(t).activeElement,r=l.getAttribute("role");if("tab"!==r)return;let a="horizontal"===C?"ArrowLeft":"ArrowUp",o="horizontal"===C?"ArrowRight":"ArrowDown";switch("horizontal"===C&&i&&(a="ArrowRight",o="ArrowLeft"),e.key){case a:e.preventDefault(),P(t,l,$);break;case o:e.preventDefault(),P(t,l,_);break;case"Home":e.preventDefault(),P(t,null,_);break;case"End":e.preventDefault(),P(t,null,$)}},eN=(()=>{let e={};e.scrollbarSizeListener=Q?(0,g.jsx)(Y,{onChange:eE,className:(0,s.default)(ea.scrollableX,ea.hideScrollbar)}):null;let t=ed.start||ed.end,l=Q&&("auto"===k&&t||!0===k);return e.scrollButtonStart=l?(0,g.jsx)(M,(0,o.A)({orientation:C,direction:i?"right":"left",onClick:ew,disabled:!ed.start},z,{className:(0,s.default)(ea.scrollButtons,z.className)})):null,e.scrollButtonEnd=l?(0,g.jsx)(M,(0,o.A)({orientation:C,direction:i?"left":"right",onClick:eR,disabled:!ed.end},z,{className:(0,s.default)(ea.scrollButtons,z.className)})):null,e})();return(0,g.jsxs)(j,(0,o.A)({className:(0,s.default)(ea.root,y),ownerState:ei,ref:t,as:w},K,{children:[eN.scrollButtonStart,eN.scrollbarSizeListener,(0,g.jsxs)(F,{className:ea.scroller,ownerState:ei,style:{overflow:em.overflow,[J?`margin${i?"Left":"Right"}`:"marginBottom"]:G?void 0:-em.scrollbarWidth},ref:ef,onScroll:eM,children:[(0,g.jsx)(X,{"aria-label":c,"aria-labelledby":d,"aria-orientation":"vertical"===C?"vertical":null,className:ea.flexContainer,ownerState:ei,onKeyDown:eT,ref:eb,role:"tablist",children:eB}),eo&&ek]}),eN.scrollButtonEnd]}))}),V=U},77257(e,t,l){l.d(t,{A:()=>a}),l(96540);var r=l(70709),i=l(74848);let a=(0,r.A)((0,i.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},45776(e,t,l){l.d(t,{A:()=>a}),l(96540);var r=l(70709),i=l(74848);let a=(0,r.A)((0,i.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},18813(e,t,l){l.r(t),l.d(t,{default:()=>o});var r=l(40515),i=l(52705),a=l(96540);function o({wrapAs:e,wrapProps:t}){return a.createElement(r.ne,{wrapAs:e,wrapProps:t,testid:""},a.createElement(r.Qm,null,a.createElement(i.A,{variant:"avatar",width:48,height:48})),a.createElement(r.p4,null,a.createElement(r.Et,null,a.createElement(i.A,{variant:"text",width:"100%"}))))}},24861(e,t,l){l.r(t),l.d(t,{default:()=>C});var r=l(91557),i=l(3556),a=l(8051),o=l(97763),n=l(96540),s=l(71468),c=l(58156),d=l.n(c);let u=(0,i.Ay)("span")(({theme:e})=>({width:"100%",height:"100%"})),m=(e,t)=>d()(e,t.identity)||{},p=(0,s.Ng)(m)(function({classes:e,src:t,icon:l,title:r}){return n.createElement(u,{role:"button"},n.createElement("img",{src:t||l,alt:r}))});var h=l(69e3),f=l(56525),b=l(85838);let g=(0,f.A)(e=>(0,b.A)({root:{display:"inline-flex",alignItems:"center"},listReaction:{display:"inline-flex"},md:{"& $itemReaction":{width:"24px",height:"24px","& + $itemReaction":{marginLeft:"-4px"}},"& $listReaction":{marginRight:e.spacing(1.5)}},sm:{"& $itemReaction":{width:16,height:16,"& + $itemReaction":{marginLeft:"-3px"}},"& $listReaction":{marginRight:e.spacing(.25)}},itemReaction:{display:"inline-flex",boxSizing:"content-box",border:"1px solid",borderColor:e.palette.background.paper,borderRadius:"100%",lineHeight:0,width:"100%",height:"100%","& img":{width:"100%",height:"100%",borderRadius:"100%"}},totalReaction:{fontSize:"13px",color:e.palette.text.secondary,marginLeft:e.spacing(.5),"&:hover":{textDecoration:"underline"}}}),{name:"MuiReactionResult"});var v=l(93338),x=l(89821),A=l(62193),y=l.n(A);let w=(0,i.Ay)("span",{name:"ItemReaction"})(({theme:e})=>({display:"inline-flex",boxSizing:"content-box",border:"1px solid",borderColor:e.palette.background.paper,borderRadius:"100%",lineHeight:0,width:"100%",height:"100%","& img":{width:"100%",height:"100%",borderRadius:"100%"}})),R=(0,i.Ay)("span",{name:"ReactResultWrapper",shouldForwardProp:e=>"size"!==e})(({theme:e,size:t})=>({display:"inline-flex",alignItems:"center",...t&&"md"===t&&{"& .itemReaction":{width:"24px",height:"24px","& + .itemReaction":{marginLeft:"-4px"}},"& .listReaction":{marginRight:e.spacing(1.5)}},...t&&"sm"===t&&{"& .itemReaction":{width:16,height:16,"& + .itemReaction":{marginLeft:"-3px"}},"& .listReaction":{marginRight:e.spacing(.25)}}})),E=(0,i.Ay)("div",{name:"TitleReaction"})(({theme:e})=>({fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(13)})),S=({reactId:e,itemIdentity:t,onUpdate:l})=>{let[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(0),[u,m]=(0,n.useState)(!1),{dispatch:p,i18n:f}=(0,r.PCX)(),b=(0,s.d4)(e=>(0,r.B_w)(e,t)),g=(0,s.d4)(t=>(0,h.Y)(t,e)),{item_type:v,item_id:x,resource_name:A,like_item_id:y,like_type_id:w,id:R}=b||{};return(n.useLayoutEffect(()=>{let t=!0;return m(!0),p({type:"react/getReactedListUser",payload:{id:R,item_id:x,item_type:v,resource_name:A,like_type_id:w,like_item_id:y,react_id:e,limit:10},meta:{onSuccess({data:e,meta:r}){t&&(l(Math.random()),m(!1),o(e),d(Math.max((null==r?void 0:r.total)-e.length,0)))}}}),()=>{t=!1}},[p,x,v,l,e,A]),u)?n.createElement(a.A,null,f.formatMessage({id:"loading_dots"})):n.createElement("div",null,n.createElement(E,null,null==g?void 0:g.title),!!i.length&&i.map((e,t)=>n.createElement("div",{key:t.toString()},e.user.full_name)),!!c&&n.createElement("div",null,f.formatMessage({id:"and_value_more_dots"},{value:c})))};function C({data:e,handleAction:t,limit:l=v.UW,total:i,size:a="md",identity:s}){var c;let{dispatch:d,isMobile:u,useGetItem:m}=(0,r.PCX)(),h=g(),[,f]=(0,n.useState)(0),b=m(s);if(!(null===(c=b.extra)||void 0===c?void 0:c.can_view_reaction)||y()(e))return null;let A=(e,t)=>{let l=(0,x.CO)(t);d({type:"showPeopleWhoReactThisItem",payload:{identity:e,reactIdentity:l}})};return n.createElement(R,{"data-testid":"reactionResult",size:a,role:"button"},n.createElement("div",{className:h.listReaction},null==e?void 0:e.slice(0,l).map((e,t)=>n.createElement(o.A,{disableInteractive:!0,enterDelay:1e3,title:u?null:n.createElement(S,{reactId:null==e?void 0:e.id,itemIdentity:s,onUpdate:f}),key:t.toString()},n.createElement(w,{className:"itemReaction",onClick:()=>A(s,null==e?void 0:e.id)},n.createElement(p,{identity:(0,x.CO)(null==e?void 0:e.id),classes:h,key:null==e?void 0:e.id}))))),i?n.createElement(o.A,{disableInteractive:!0,title:u?null:n.createElement(S,{reactId:0,itemIdentity:s,onUpdate:f})},n.createElement("span",{className:h.totalReaction,onClick:()=>A(s)},i)):null)}},95150(e,t,l){l.r(t),l.d(t,{default:()=>R});var r=l(91557),i=l(62938),a=l(69e3),o=l(40515),n=l(3556),s=l(60780),c=l(8051),d=l(96540),u=l(71468),m=l(18813);let p="ReactedUserItemView",h=(0,n.Ay)(s.A,{name:p})(({theme:e})=>({fontWeight:e.typography.fontWeightBold})),f=(0,n.Ay)(c.A,{name:p})(({theme:e})=>({position:"absolute",width:"15px",height:"15px",right:0,bottom:0})),b=(0,n.Ay)("img",{name:p})(({theme:e})=>({width:"100%"})),g=(0,n.Ay)(c.A,{name:p})(({theme:e})=>({flex:1,overflow:"hidden",paddingRight:e.spacing(1)})),v=(0,n.Ay)(c.A,{name:p})(({theme:e})=>({fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:e.typography.fontWeightBold})),x=(0,n.Ay)(c.A,{name:p})(({theme:e})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,marginTop:e.spacing(.5),display:"inline-block"})),A=(0,n.Ay)("span",{name:p})(({theme:e})=>({marginRight:e.spacing(.5)})),y=[{id:i.xl,text:"add_friend",value:"user/addFriend"},{id:i.uY,text:"cancel_request",value:"user/cancelRequest"}],w=({item:e,user:t,itemProps:l,wrapAs:i,wrapProps:n})=>{let{identityParent:s}=l||{},{i18n:c,useDialog:m,dispatch:p,useSession:w}=(0,r.PCX)(),{closeDialog:R}=m(),{user:E}=w(),S=(null==E?void 0:E.id)===(null==t?void 0:t.id),C=(0,u.d4)(t=>(0,a.Y)(t,e.react_id)),M=d.useCallback(()=>{s&&(p({type:"reactionItem",payload:{identity:s,reaction_id:null==e?void 0:e.react_id}}),R())},[s,null==e?void 0:e.react_id]);if(!e)return null;let{mutual_friends:k}=e,W=null==t?void 0:t.link,B=y.find(e=>e.id===t.friendship);return d.createElement(o.ne,{wrapAs:i,wrapProps:n,testid:`${e.resource_name}`},d.createElement(o.Qm,null,d.createElement(o.H8,{user:t,size:48}),d.createElement(f,null,d.createElement(b,{src:null==C?void 0:C.icon,alt:"reaction"}))),d.createElement(o.p4,null,d.createElement(o.Et,null,e.full_name),d.createElement(g,null,d.createElement(v,{onClick:R},d.createElement(o.xE,{to:W,user:t,color:"inherit"})),(null==k?void 0:k.total)?d.createElement(x,{role:"button"},d.createElement(A,null,null==k?void 0:k.total),c.formatMessage({id:"total_mutual_friend"},{value:null==k?void 0:k.total})):null)),B&&d.createElement(h,{variant:"outlined",color:"primary",onClick:()=>p({type:B.value,payload:{identity:`user.entities.user.${t.id}`}})},c.formatMessage({id:B.text})),S&&s&&d.createElement(h,{color:"primary",variant:"outlined",onClick:M},c.formatMessage({id:"remove"})))};w.LoadingSkeleton=m.default;let R=(0,r.G5k)(w)},60818(e,t,l){l.r(t),l.d(t,{default:()=>w});var r=l(73349),i=l(91557),a=l(84680),o=l(52705),n=l(26433),s=l(87773),c=l(43791),d=l(60780),u=l(80160),m=l(18579),p=l(96540),h=l(56525),f=l(85838);let b=(0,h.A)(e=>(0,f.A)({root:{},dialogContent:{height:320,padding:e.spacing(0),flex:"1 1 auto",overflowY:"auto"},reactNumber:{marginBottom:"0 !important",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(13),fontWeight:e.typography.fontWeightBold,"&:first-of-type":{fontWeight:"normal"}},customTabs:{"& .MuiTabs-flexContainer":{margin:e.spacing(1,1.5,1,1.5)},"& .MuiTab-root":{fontSize:e.typography.pxToRem(13),minHeight:"auto",borderRadius:e.shape.borderRadius/2,marginRight:"0.25em",padding:e.spacing(.5),"&:hover":{backgroundColor:e.palette.action.hover}},"& .Mui-selected":{backgroundColor:e.palette.action.selected},"& .MuiTab-wrapper":{textTransform:"none",flexDirection:"row",padding:e.spacing(.25,1),"& img":{marginBottom:"0 !important",marginRight:e.spacing(.75),"& + $reactNumber":{fontWeight:"bold"}}},"& .MuiTabs-indicator":{backgroundColor:"transparent"}}}),{name:"ReactionDialog"});function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(this,arguments)}let v={minHeight:32},x={minWidth:16},A={width:15,height:15},y=()=>p.createElement(p.Fragment,null,p.createElement(o.A,{variant:"button",width:40,height:24,sx:{marginRight:1}}),p.createElement(o.A,{variant:"button",width:60,height:24,sx:{marginRight:1}}),p.createElement(o.A,{variant:"button",width:60,height:24,sx:{marginRight:1}})),w=function(e){let{item_type:t,item_id:l,reactId:o,identity:h}=e,f=b(),[w,R]=(0,p.useState)(o),E=(0,p.useRef)(),{useDialog:S,i18n:C,useFetchItems:M,dispatch:k,navigate:W,jsxBackend:B}=(0,i.PCX)(),{dialogProps:T,closeDialog:N}=S(),z=B.get("reaction.block.PeopleReactions"),[I,L,_]=M({dataSource:{apiUrl:"/preaction/reaction-tabs",apiParams:{item_type:t,item_id:l}},data:[]});(0,p.useEffect)(()=>{(null==I?void 0:I.length)&&k({type:"updateResourceReaction",payload:{tabResourceReaction:I}}),!o&&(null==I?void 0:I.length)&&R(I[0].id)},[I,o]);let $=(0,p.useMemo)(()=>({apiUrl:"/preaction/get-reacted-lists",apiParams:{item_type:t,item_id:l,react_id:w,limit:20}}),[l,t,w]),P=()=>{W("/"),N()};if(_)return p.createElement(r.lG,g({},T,{maxWidth:"xs",fullWidth:!0}),p.createElement(r.L3,null,"Error"),p.createElement(n.A,{dividers:!1},p.createElement(s.A,{sx:{pt:2},variant:"body1"},C.formatMessage({id:"error_post_delete"}))),p.createElement(c.A,null,p.createElement(d.A,{"data-testid":"buttonBackHome",role:"button",tabIndex:1,autoFocus:!0,variant:"contained",disableRipple:!0,size:"medium",color:"primary",onClick:P,sx:{minWidth:100}},C.formatMessage({id:"refresh"}))));let H=`preaction/${t}/${l}/${w}`,j=(e,t)=>{R(parseInt(t,10))};return p.createElement(r.lG,g({},T,{maxWidth:"xs",fullWidth:!0}),p.createElement(r.L3,null,C.formatMessage({id:"reacted_by"})),p.createElement(u.A,{value:w,onChange:j,style:v,className:f.customTabs},L?p.createElement(y,null):I.map(e=>p.createElement(m.A,{key:e.title,style:x,disableRipple:!0,icon:e.icon?p.createElement("img",{src:e.icon,alt:e.title,style:A}):p.createElement("span",{className:f.reactNumber},e.title),iconPosition:"start",label:e.total_reacted?p.createElement("span",{className:f.reactNumber},e.total_reacted):void 0,value:e.id,"aria-label":e.title}))),p.createElement("div",{className:f.dialogContent,ref:E},p.createElement(a.N2,{scrollRef:E},!z&&L?null:p.createElement(z,{dataSource:$,pagingId:H,canLoadMore:!0,clearDataOnUnMount:!0,itemProps:{identityParent:h}}))))}},69e3(e,t,l){l.d(t,{Y:()=>a});var r=l(1081);let i=(e,t)=>e.preaction.entities.preaction[t],a=(0,r.Mz)(i,e=>e)}}]);