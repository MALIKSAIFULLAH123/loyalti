"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-SearchBox-Block"],{49016(e,t,a){a.r(t),a.d(t,{default:()=>b});var r=a(91557),l=a(84680),n=a(40515),c=a(3556),o=a(97763),i=a(86663),m=a(96540),s=a(53975),u=a(62193),p=a.n(u),h=a(2404),d=a.n(h),f=a(67725);let g=(0,c.Ay)(n.s4,{name:"IconClearStyled"})(({theme:e})=>({marginRight:e.spacing(.5),cursor:"pointer",color:e.palette.text.hint})),x=(0,c.Ay)(n.s4,{name:"IconPlusStyled"})(({theme:e})=>({color:e.palette.text.hint,fontSize:e.mixins.pxToRem(16),marginLeft:e.spacing(2),"&:hover":{color:e.palette.primary.main}})),E=(0,c.Ay)("form",{name:"FormStyled"})(({theme:e})=>({display:"flex",alignItems:"center",zIndex:e.zIndex.appBar})),S=(0,c.Ay)(n.Gd,{name:"SearchWrapper"})(({theme:e})=>({"& input::placeholder, .ico":{color:e.palette.text.hint}})),y=(0,r.mtG)(function(e){let{eventCenter:t,usePageParams:a,navigate:n,i18n:c,compactData:u}=(0,r.PCX)(),h=a(),{search:y,appName:b,resourceName:k}=h,{icon:v,titleIcon:B,action:I}=e,A=(0,r.IgF)(b,k,"searchItem"),C=(0,r.EkY)(b,k,"search_simple"),_=m.useRef(!1),[R,z]=(0,m.useState)(""),[D,F]=(0,m.useState)({});if((0,m.useEffect)(()=>{t.dispatch("minimizeGlobalSearchForm",!0)}),(0,m.useEffect)(()=>{z(y||"")},[y]),!A)return null;let{placeholder:N,pageParams:G={},pageRules:P}=A,w=({values:e})=>{var t;if(d()(e,D)||_.current)return;let a=null!==(t=A.pageUrl)&&void 0!==t?t:"/appName/search",r=null==A?void 0:A.apiRules;if(F(e),!p()(e)){let l=(0,f.FI)(e,r);_.current=!0,n({pathname:a,search:i.stringify(l)})}},L=e=>{var t;e&&e.preventDefault();let a=null!==(t=A.pageUrl)&&void 0!==t?t:"/appName/search",r=p()(R)?{}:{q:R},l=u(G,h,P,!0),c={...l,...r};n({pathname:a,search:i.stringify(c)})},U=()=>{z("")};return C?m.createElement(l.eB,{testid:"blockSearch"},m.createElement(l.tD,null,m.createElement(s.ok,{noHeader:!0,noBreadcrumb:!0,formSchema:C,onChange:w}))):m.createElement(l.eB,null,m.createElement(l.tD,null,m.createElement(E,{onSubmit:L,"data-testid":"formSearch"},m.createElement(S,{name:"search",value:R,onChange:e=>z(e.target.value),placeholder:N,endAdornment:R?m.createElement(g,{icon:"ico-close",onClick:U}):null}),m.createElement("button",{type:"submit",className:"srOnly","aria-hidden":"true"}),v&&B&&m.createElement(o.A,{title:c.formatMessage({id:B})},m.createElement(r.N_E,{to:I,sx:{textDecoration:"none!important"}},m.createElement(x,{icon:v}))))))}),b=(0,r.WvA)({extendBlock:y,defaults:{placeholder:"Search",title:"Search Box",blockLayout:"sidebar search box"}})}}]);