"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-ui-SmartDataGrid-FeedHeadlineInfoCell-FeedHeadlineInfoCell"],{17443(e,t,l){l.d(t,{A:()=>r});let n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){let l;let n=[],r=!0,a=!1;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(d){a=!0,l=d}finally{try{!r&&o.return&&o.return()}finally{if(a)throw l}}return n}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){return e?e.split(";").reduce((e,t)=>{let l=t.split(/^([^:]+):/).filter((e,t)=>t>0).map(e=>e.trim().toLowerCase()),r=n(l,2),a=r[0],i=r[1];return void 0===i||(e[a=a.replace(/^-ms-/,"ms-").replace(/-(.)/g,(e,t)=>t.toUpperCase())]=i),e},{}):{}}},57909(e,t,l){l.r(t),l.d(t,{ProfileLink:()=>w,default:()=>A});var n=l(91557),r=l(3556),a=l(8051),i=l(58156),o=l.n(i),d=l(62193),u=l.n(d),s=l(85015),m=l.n(s),c=l(96540),f=l(90243),v=l(87773),_=l(17443);let h=["video","img","iframe","table"],p=(e,t)=>{let{style:l}=e.attribs||{};if("tag"===e.type&&h.includes(e.name))return null;if("tag"===e.type){var n,r;let a=e.children.filter(e=>!h.includes(e.name)).map((e,t)=>(0,f.$S)(e,t,p)),i=null===(n=e.name)||void 0===n?void 0:n.toLowerCase();if(["h1","h2","h3","h4","h5","h6"].includes(i))return(0,c.createElement)(v.A,{variant:i,...e.attribs,style:(0,_.A)(l)},a);if("a"===e.name&&e.attribs&&e.attribs.href){let o=e.children.filter(e=>!h.includes(e.name)).map((e,t)=>(0,f.$S)(e,t,p));return(0,c.createElement)("div",{...e.attribs,key:`n${t}`,className:null===(r=e.attribs)||void 0===r?void 0:r.class,style:(0,_.A)(l)},o)}}};function g({users:e,className:t,total:l,item_type:r,item_id:i}){let{i18n:o}=(0,n.PCX)();return 1===l?c.createElement("span",null,o.formatMessage({id:"with_tagged_friend"},{user0:()=>c.createElement(w,{user:e[0],className:t}),value:l-1})):2===l?c.createElement("span",null,o.formatMessage({id:"with_tagged_friend_and_user"},{user0:()=>c.createElement(w,{user:e[0],className:t}),user1:()=>c.createElement(w,{user:e[1],className:t})})):c.createElement("span",null,o.formatMessage({id:"with_tagged_friend_and_others"},{user0:()=>c.createElement(w,{user:e[0],className:t}),others:e=>c.createElement(a.A,{component:"span"},e),value:l-1}))}let b=(0,r.Ay)("span",{name:"StyledBox"})(({truncateLines:e})=>({height:"100%",...e&&{wordBreak:"break-word",whiteSpace:"normal",display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:`${e}`}})),y=(0,r.Ay)("span")(({theme:e})=>({color:e.palette.text.secondary,"& > *:not(.withoutDot):last-child::after":{content:"'.'",display:"inline-block"}})),E=(0,r.Ay)("span",{name:"HeadlineSpan"})(({theme:e})=>({color:e.palette.text.secondary}));function w({user:e,className:t}){return e?c.createElement(a.A,{component:"span",className:t},(null==e?void 0:e.full_name)||(null==e?void 0:e.title)):null}function A({row:e,colDef:{field:t,truncateLines:l}}){let{i18n:r,useSession:i}=(0,n.PCX)(),{user:d}=i(),s=o()(e,t,null),v=o()(e,"sx"),_=o()(v,t),h=o()(e,"parent_user",null),A=o()(e,"owner",null),k=o()(e,"user",null);void 0===h&&(null==A?void 0:A.id)!==(null==k?void 0:k.id)&&(h=A);let N=o()(e,"tagged_friends",null),x=o()(e,"embed_object",null),C=o()(e,"embed_object.relation_with",null),S=Number(null==h?void 0:h.id)===Number(null==d?void 0:d.id),L=Number(null==k?void 0:k.id)===Number(null==d?void 0:d.id),M={appName:"feed",friend_add:()=>c.createElement(w,{user:x}),profile:()=>c.createElement(E,null,c.createElement(w,{user:h})),relation_with:()=>c.createElement(w,{user:C}),album_link:()=>c.createElement(a.A,{component:"span"},null==x?void 0:x.name),isOwnerTagged:(null==e?void 0:e.is_owner_tagged)?1:0,isAuthUser:0,isAuthParent:S?1:0,isCreator:0,isOwner:L?1:0,fromResource:(null==e?void 0:e.from_resource)||"feed",parentType:(null==h?void 0:h.module_name)||0,currentGender:null==x?void 0:x.gender,isParentProfile:0,isStreaming:(null==x?void 0:x.is_streaming)?1:0,hasRelationWith:(null==x?void 0:x.resource_name)==="user_relation_history"&&(null==x?void 0:x.relation_with)?1:0,isShared:0},P=m()(s)&&s?r.formatMessage({id:s},M):s,I=r.formatMessage({id:"feed_tagged_friends_and_location"},{hasInfo:u()(P)?1:0,hasTagFriend:(null==N?void 0:N.length)&&!(null==e?void 0:e.is_hide_tagged_headline)?1:0,hasLocation:(null==e?void 0:e.location)&&(null==e?void 0:e.is_show_location)?1:0,tag_friend:()=>c.createElement(E,null,c.createElement(g,{item_type:(null==e?void 0:e.item_type)||(null==e?void 0:e.resource_name),item_id:e.item_id||(null==e?void 0:e.id),total:null==e?void 0:e.total_friends_tagged,users:N})),location(){var t;return c.createElement(E,null,r.formatMessage({id:"at_tagged_place"},{name:null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.address,bold(){var t;return c.createElement(a.A,{component:"span"},null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.address)}}))}});return(null==x?void 0:x.error)||!(null==N?void 0:N.length)&&!(null==e?void 0:e.location)&&(m()(P)&&u()(null==P?void 0:P.trim())||!P)?null:c.createElement(b,{truncateLines:l,sx:_},c.createElement(E,null,c.createElement(w,{user:k})," "),c.createElement(y,null,P?c.createElement(E,{className:""},m()(P)?c.createElement(f.Ay,{html:P,transform:p}):P):null,(null==N?void 0:N.length)||(null==e?void 0:e.location)?I:null))}}}]);