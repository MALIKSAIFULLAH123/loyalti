"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-story-blocks-SidebarForm-Block"],{94803(e,t,a){a.r(t),a.d(t,{default:()=>d});var r=a(91557),o=a(53975),i=a(84680),n=a(44562),l=a(3556),m=a(87773),c=a(96540);let s=(0,l.Ay)("div")(({theme:e})=>({height:"100%","& > form":{height:"100%",flexWrap:"nowrap",display:"flex",flexDirection:"column"}})),u=(0,l.Ay)(r.Wti)(({theme:e})=>({display:"inline-block",color:e.palette.primary.main,"&:hover":{textDecoration:"underline"}})),d=(0,r.WvA)({extendBlock:function({title:e="create_story",initialValues:t,status:a,backProps:l}){let{useContentParams:d,usePageParams:f,i18n:g,jsxBackend:b,setNavigationConfirm:h}=(0,r.PCX)(),{mainForm:y}=d(),p=f(),E=(0,r.IgF)(n.ap,n.fA,"addPhotoStory"),v=(0,r.IgF)(n.ap,n.fA,"addTextStory"),F={message:g.formatMessage({id:"if_you_leave_form_no_save_changed"}),title:g.formatMessage({id:"are_you_sure"}),negativeButton:{label:g.formatMessage({id:"cancel"})},positiveButton:{label:g.formatMessage({id:"ok"})}};c.useEffect(()=>(a===n.ip&&h(!0,F),()=>{a===n.ip&&h&&h(!1)}),[a]);let _=b.get("core.sideAppHeaderBlock");if(!(null==y?void 0:y.dataSource)&&!y.formSchema)return null;let{noHeader:k,noBreadcrumb:x,formSchema:A,breadcrumbs:S,minHeight:B,disableFormOnSuccess:H}=y;return a===n.ip?c.createElement(i.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"100%"},c.createElement(i.eB,{testid:"mainForm"},l?c.createElement(u,{to:l.to},c.createElement(m.A,{variant:"body2",color:"primary"},g.formatMessage({id:l.title}))):null,c.createElement(i.tD,{style:{minHeight:B}},c.createElement(s,null,c.createElement(o.FF,{noHeader:k,breadcrumbs:S,noBreadcrumb:x,formSchema:A,pageParams:p,dataSource:E,initialValues:t,disableFormOnSuccess:H,changeEventName:y.changeEventName,navigationConfirmWhenDirty:!1,submitAction:"story/submitFormAdd"}))))):a===n.xq?c.createElement(i.P,{autoHide:!0,autoHeight:!0,autoHeightMax:"100%"},c.createElement(i.eB,{testid:"mainForm"},l?c.createElement(u,{to:l.to},c.createElement(m.A,{variant:"body2",color:"primary"},g.formatMessage({id:l.title}))):null,c.createElement(i.tD,{style:{minHeight:B}},c.createElement(s,null,c.createElement(o.FF,{noHeader:k,breadcrumbs:S,noBreadcrumb:x,formSchema:A,pageParams:p,dataSource:v,initialValues:t,disableFormOnSuccess:H,changeEventName:y.changeEventName,navigationConfirmWhenDirt:!1,submitAction:"story/submitFormAdd"}))))):c.createElement(_,null)},defaults:{blockLayout:"sidebar form story",backProps:{to:"/story",title:"stories"}}})}}]);