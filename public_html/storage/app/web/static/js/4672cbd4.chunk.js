"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-video-components-StatusComposerControlAttatchedVideos-PreviewVideos"],{92634(e,t,a){a.r(t),a.d(t,{default:()=>g});var o=a(91557),l=a(40515),i=a(97763),r=a(63461),s=a(60780),n=a(20053),c=a(58156),m=a.n(c),d=a(96540),u=a(56525),p=a(85838);let f=(0,u.A)(e=>(0,p.A)({root:{display:"block",borderRadius:e.shape.borderRadius,position:"relative"},listContainer:{position:"relative",display:"flex",flexWrap:"wrap"},itemInner:{maxWidth:"100%"},itemRoot:{position:"relative",display:"flex",flexBasis:"50%",padding:1},item0:{},item1:{},item2:{},item3:{},item4:{},item:{display:"block",padding:e.spacing(.25)},preset1:{"& $item0":{flexBasis:"100%"}},preset2:{},preset3:{"& $item0":{flexBasis:"100%"}},preset4:{},remainBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(0,0,0,0.3)","&:hover":{backgroundColor:"rgba(0,0,0,0.1)"}},remainText:{color:"white",position:"absolute",left:"50%",top:"50%",fontSize:"2rem",transform:"translate(-50%,-50%)"},actionBar:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"row-reverse",padding:e.spacing(2)},closeButton:{backgroundColor:"rgba(0,0,0,0.7)","&:hover":{backgroundColor:"rgba(0,0,0,0.8)"},"& span":{color:"white"}}}),{name:"PhotoPreviews"});function v({className:e,title:t,onClick:a}){return d.createElement(i.A,{title:t},d.createElement(r.A,{size:"smaller",onClick:a,className:e},d.createElement(l.s4,{icon:"ico-close"})))}function g({composerRef:e}){let t=f(),{i18n:a}=(0,o.PCX)(),i=m()(e.current.state,"attachments.video.value"),[r,c]=d.useState(null!=i?i:[]),u=d.useCallback(()=>{e.current.removeAttachments()},[e]);if(d.useEffect(()=>{i&&(null==i?void 0:i.length)&&c(i)},[i]),d.useEffect(()=>{r.length&&e.current.setAttachments("video","video",{value:r,as:"StatusComposerControlAttatchedVideos"})},[e,r]),!(null==r?void 0:r.length))return null;let p=Math.min(r.length,4)%5,g=r.length-p;return d.createElement("div",{className:(0,n.default)(t.root)},d.createElement("div",{className:(0,n.default)(t.listContainer,t[`preset${p}`])},r.slice(0,p).map((e,a)=>d.createElement("div",{className:(0,n.default)(t.itemRoot,t[`item${a}`]),key:a.toString()},d.createElement("video",{className:t.itemInner,src:e.source}),0<g&&p===a+1?d.createElement("div",{className:t.remainBackdrop},d.createElement("div",{className:t.remainText},`+ ${g}`)):null))),d.createElement("div",{className:t.actionBar},d.createElement(v,{onClick:u,title:a.formatMessage({id:"remove_all"}),className:t.closeButton}),d.createElement(s.A,{variant:"contained",size:"small"},d.createElement(l.s4,{icon:"ico-pencil"}),d.createElement("span",null,a.formatMessage({id:"edit_all"})))))}}}]);