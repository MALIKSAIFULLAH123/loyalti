"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-StatusComposerControlAttachedPoll"],{46574(e,t,l){l.r(t),l.d(t,{default:()=>A});var a=l(91557),n=l(40515),o=l(8051),i=l(60780),r=l(87773),s=l(3556),m=l(58156),c=l.n(m),p=l(95093),d=l.n(p),u=l(96540);let g=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.shape.borderRadius,border:e.mixins.border("secondary"),padding:e.spacing(3),margin:e.spacing(2)})),h=(0,s.Ay)(o.A,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:e.shape.borderRadius/2,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)})),f=(0,s.Ay)(o.A,{name:"AttachmentItem",slot:"FormItem"})(({theme:e})=>({display:"flex",margin:e.spacing(1,0),fontSize:e.mixins.pxToRem(13),lineHeight:1.5,"& .info":{display:"flex"}})),x=(0,s.Ay)(n.s4,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)}));function A({composerRef:e}){var t;let l=c()(e.current.state,"attachments.poll.value"),{i18n:o,dialogBackend:s}=(0,a.PCX)();if(!l)return null;let m=()=>{e.current.removeAttachmentName("poll")},p=()=>{s.present({component:"poll.dialog.AddPollToStatusComposerDialog",props:{initialValues:l,isEdit:!0}}).then(t=>{t&&e.current.setAttachments("poll","poll",{value:t,as:"StatusComposerControlAttachedPoll"})})};return u.createElement(g,null,u.createElement(n.mE,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2},fontWeight:600},l.poll_question),u.createElement("div",null,null===(t=l.poll_answers)||void 0===t?void 0:t.map((e,t)=>e.answer?u.createElement(h,{key:t.toString()},e.answer):null)),l.poll_attachments&&l.poll_attachments.map((e,t)=>u.createElement(f,{key:t},u.createElement("div",{className:"info"},u.createElement(x,{icon:"ico-paperclip-alt"}),u.createElement("div",null,e.file_name)))),u.createElement(n.Fu,{sx:{pb:3,pt:1}},u.createElement(i.A,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:p},o.formatMessage({id:"edit"})),u.createElement(i.A,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:m},o.formatMessage({id:"remove"}))),l.poll_close_time&&l.enable_close?u.createElement(r.A,{variant:"body2",color:"text.hint",fontWeight:"bold"},o.formatMessage({id:"expire_on"})," ",d()(l.poll_close_time).format("LLL")):null)}}}]);