"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["pages.story"],{91666(e,r,t){t.r(r),t.d(r,{default:()=>s});var a=t(91557),l=t(44562),d=t(84680),o=t(96540),i=t(86663);function s(e){var r,t,s;let n="story",u="story",c="story.add",{createPageParams:p,createContentParams:m,dispatch:v,getAcl:y}=(0,a.PCX)(),g=y("story.story.create"),f=p(e,({id:e})=>({appName:n,resourceName:u,_pageType:"editItem",pageMetaName:`${n}.${u}.${e?"edit":"create"}`,pageTitle:"stories",backPage:!1,backPageProps:{title:"stories",to:"/story"}})),_=(0,a.zy2)(),$=(null==_?void 0:_.search)?i.parse(_.search.replace(/^\?/,"")):{},h=(0,a.N7c)(n,u);if((0,o.useEffect)(()=>{v({type:`renderPage/${c}`,payload:f})},[f]),!g)return o.createElement(d.YW,{pageName:"core.error403"});if(!h)return(0,o.createElement)(d.YW,{pageName:"core.error404"});let P=null;(P=f.id?null===(r=h.editItem)||void 0===r?void 0:r.apiUrl:null===(t=h.addItem)||void 0===t?void 0:t.apiUrl)||(P=null===(s=h.editItem)||void 0===s?void 0:s.apiUrl);let b=m({mainForm:{formName:`${n}.${u}`,disableFormOnSuccess:!1,dataSource:{apiUrl:P,apiParams:{id:f.id,...$}},changeEventName:l.ck}});return(0,o.createElement)(d.YW,{pageName:c,pageParams:f,contentParams:b,loginRequired:!0})}},25226(e,r,t){t.r(r),t.d(r,{default:()=>o});var a=t(91557),l=t(84680),d=t(96540);function o(e){let r="story",t="story.home",o="story",i="landing",{createPageParams:s,dispatch:n,useSessionSummary:u}=(0,a.PCX)(),c=u(),p=(0,a.zy2)(),m=s(e,e=>{var t,a;return{appName:r,resourceName:o,tab:i,pageMetaName:`${r}.${o}.${i}`,authId:null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.id,_pageType:"browseItem",related_user_id:(null==e?void 0:e.user_story_id)||(null==p?void 0:null===(a=p.state)||void 0===a?void 0:a.related_user_id)}});return(0,d.useEffect)(()=>{n({type:`renderPage/${t}`,payload:m})},[null==m?void 0:m.related_user_id]),(0,d.createElement)(l.YW,{pageName:t,pageParams:m,loginRequired:!0})}}}]);