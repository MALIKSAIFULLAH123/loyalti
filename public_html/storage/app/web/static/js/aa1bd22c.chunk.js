"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-chatplus-components-Avatar"],{72761(r,t,e){e.d(t,{A:()=>R});var a=e(98587),o=e(58168),n=e(96540),i=e(20053),l=e(5004),s=e(75659),c=e(38413),d=e(31609);function g(r){return(0,d.A)("MuiBadge",r)}(0,c.A)("MuiBadge",["root","badge","invisible"]);var p=e(99977),h=e(74848);let u=["badgeContent","component","children","invisible","max","slotProps","slots","showZero"],m=r=>{let{invisible:t}=r;return(0,s.A)({root:["root"],badge:["badge",t&&"invisible"]},g,void 0)},v=n.forwardRef(function(r,t){let{component:e,children:n,max:i=99,slotProps:s={},slots:c={},showZero:d=!1}=r,g=(0,a.A)(r,u),{badgeContent:v,max:f,displayValue:b,invisible:A}=function(r){let{badgeContent:t,invisible:e=!1,max:a=99,showZero:o=!1}=r,n=(0,l.A)({badgeContent:t,max:a}),i=e;!1!==e||0!==t||o||(i=!0);let{badgeContent:s,max:c=a}=i?n:r,d=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:i,max:c,displayValue:d}}((0,o.A)({},r,{max:i})),O=(0,o.A)({},r,{badgeContent:v,invisible:A,max:f,showZero:d}),y=m(O),x=e||c.root||"span",$=(0,p.A)({elementType:x,externalSlotProps:s.root,externalForwardedProps:g,additionalProps:{ref:t},ownerState:O,className:y.root}),w=c.badge||"span",C=(0,p.A)({elementType:w,externalSlotProps:s.badge,ownerState:O,className:y.badge});return(0,h.jsxs)(x,(0,o.A)({},$,{children:[n,(0,h.jsx)(w,(0,o.A)({},C,{children:b}))]}))});var f=e(3556),b=e(92353),A=e(87447),O=e(75630);function y(r){return(0,d.A)("MuiBadge",r)}let x=(0,c.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),$=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],w=r=>{let{color:t,anchorOrigin:e,invisible:a,overlap:o,variant:n,classes:i={}}=r,l={root:["root"],badge:["badge",n,a&&"invisible",`anchorOrigin${(0,O.A)(e.vertical)}${(0,O.A)(e.horizontal)}`,`anchorOrigin${(0,O.A)(e.vertical)}${(0,O.A)(e.horizontal)}${(0,O.A)(o)}`,`overlap${(0,O.A)(o)}`,"default"!==t&&`color${(0,O.A)(t)}`]};return(0,s.A)(l,y,i)},C=(0,f.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),z=(0,f.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver(r,t){let{ownerState:e}=r;return[t.badge,t[e.variant],t[`anchorOrigin${(0,O.A)(e.anchorOrigin.vertical)}${(0,O.A)(e.anchorOrigin.horizontal)}${(0,O.A)(e.overlap)}`],"default"!==e.color&&t[`color${(0,O.A)(e.color)}`],e.invisible&&t.invisible]}})(({theme:r,ownerState:t})=>(0,o.A)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen})},"default"!==t.color&&{backgroundColor:(r.vars||r).palette[t.color].main,color:(r.vars||r).palette[t.color].contrastText},"dot"===t.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${x.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${x.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${x.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${x.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${x.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${x.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${x.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${x.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})})),P=n.forwardRef(function(r,t){var e,n,s,c,d,g;let p;let u=(0,b.A)({props:r,name:"MuiBadge"}),{anchorOrigin:m={vertical:"top",horizontal:"right"},className:f,component:O="span",components:y={},componentsProps:x={},overlap:P="rectangular",color:R="default",invisible:B=!1,max:k,badgeContent:S,slots:E,slotProps:N,showZero:T=!1,variant:M="standard"}=u,W=(0,a.A)(u,$),F=(0,l.A)({anchorOrigin:m,color:R,overlap:P,variant:M}),L=B;!1!==B||(0!==S||T)&&(null!=S||"dot"===M)||(L=!0);let{color:I=R,overlap:_=P,anchorOrigin:j=m,variant:D=M}=L?F:u,J=(0,o.A)({},u,{anchorOrigin:j,invisible:L,color:I,overlap:_,variant:D}),Z=w(J);"dot"!==D&&(p=S&&Number(S)>k?`${k}+`:S);let H=null!=(e=null!=(n=null==E?void 0:E.root)?n:y.Root)?e:C,X=null!=(s=null!=(c=null==E?void 0:E.badge)?c:y.Badge)?s:z,q=null!=(d=null==N?void 0:N.root)?d:x.root,G=null!=(g=null==N?void 0:N.badge)?g:x.badge;return(0,h.jsx)(v,(0,o.A)({invisible:B,badgeContent:p,showZero:T,max:k},W,{slots:{root:H,badge:X},className:(0,i.default)(null==q?void 0:q.className,Z.root,f),slotProps:{root:(0,o.A)({},q,(0,A.A)(H)&&{as:O,ownerState:(0,o.A)({},null==q?void 0:q.ownerState,{anchorOrigin:j,color:I,overlap:_,variant:D})}),badge:(0,o.A)({},G,{className:(0,i.default)(Z.badge,null==G?void 0:G.className)},(0,A.A)(X)&&{ownerState:(0,o.A)({},null==G?void 0:G.ownerState,{anchorOrigin:j,color:I,overlap:_,variant:D})})},ref:t}))}),R=P},13586(r,t,e){e.r(t),e.d(t,{default:()=>$});var a=e(91557),o=e(67725),n=e(3556),i=e(12789),l=e(72761),s=e(8051),c=e(30719),d=e(96540),g=e(97837),p=e(65121),h=e(86663),u=e(84058),m=e.n(u);let v=(0,n.Ay)(i.A,{name:"AvatarWrapper"})(({theme:r})=>({borderWidth:"thin",borderStyle:"solid",borderColor:r.palette.border.secondary})),f=(0,n.Ay)(a.N_E,{name:"Link"})(({theme:r})=>({"&:hover":{textDecoration:"none"}})),b=(0,n.Ay)(l.A,{shouldForwardProp:r=>"status"!==r})(({theme:r,status:t})=>({"& .MuiBadge-badge":{...t===g.O2.Offline&&{display:"none"},...t===g.O2.Online&&{color:r.palette.success.main,backgroundColor:r.palette.success.main},...t===g.O2.Away&&{color:r.palette.warning.main,backgroundColor:r.palette.warning.main},...t===g.O2.Busy&&{color:r.palette.error.main,backgroundColor:r.palette.error.main},boxShadow:"dark"===r.palette.mode?"none":`0 0 0 2px ${r.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}})),A=(0,n.Ay)("div",{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"relative",width:"32px",height:"32px",...t&&{width:t,height:t}})),O=(0,n.Ay)(i.A,{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"absolute",bottom:0,left:0,width:"26px",height:"26px",backgroundColor:"dark"===r.palette.mode?r.palette.grey["600"]:r.palette.grey["300"],borderWidth:1,borderStyle:"solid",borderColor:"light"===r.palette.mode?r.palette.grey["50"]:r.palette.grey["800"],zIndex:2,...t&&{width:.7*t,height:.7*t}})),y=(0,n.Ay)(s.A,{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"relative",width:"100%",height:"100%"})),x=(0,n.Ay)(i.A,{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"absolute",top:"50%",right:0,transform:"translate(0%, -50%)",width:"26px",height:"26px",...t&&{width:`${.7*t}px !important`,height:`${.7*t}px !important`}})),$=(0,d.memo)(function({username:r="Name",name:t="Name",src:e,size:n,to:l,onClick:s,status:u=0,room:$,uploadLocal:w=!1,roomType:C=null,avatarETag:z,component:P="span",target:R="_self",noLink:B}){var k,S;let{getSetting:E}=(0,a.PCX)(),N=(0,c.A)(),T=B,M=l,W=C||(null==$?void 0:$.t),F=(0,o.cb)(t),L={width:n,height:n,color:N.palette.grey["50"],fontSize:n/3},I=E("chatplus"),_=null==I?void 0:null===(k=I.server)||void 0===k?void 0:k.replace(/\/$/,""),j=e;if(j||(j=z?`${_}/avatar/${r}?${h.stringify({etag:z})}`:""),F&&(L.backgroundColor=o.m6.hex(F)),(null==$?void 0:$.isBotRoom)&&(M=null,T=!0),M)return d.createElement(f,{target:R,to:M||`/${r}`},d.createElement(v,{"data-testid":m()("chatplus avatar"),src:j,alt:t,style:L,component:P,children:F}));if([g.CJ.Private,g.CJ.Public].includes(W)){if(w)return d.createElement(v,{"data-testid":m()("chatplus avatar"),src:j,alt:t,style:L,component:P,children:F});if(null==$?void 0:$.avatarETag)return j=`${_}/avatar/room/${null==$?void 0:$.id}?${h.stringify({etag:null==$?void 0:$.avatarETag})}`,d.createElement(v,{"data-testid":m()("chatplus avatar"),src:j,alt:t,style:L,component:P,children:F});{let D=`${_}/avatar/${null==$?void 0:null===(S=$.u)||void 0===S?void 0:S.username}`;return d.createElement(A,{"data-testid":m()("chatplus avatar"),sizeProps:n},d.createElement(O,{sizeProps:n,src:D,alt:t,component:P,children:F}),d.createElement(y,null,d.createElement(x,{sizeProps:n,src:j,alt:t,style:L,component:P,children:F})))}}if(W===g.CJ.Direct&&u){let J=(0,p.cR)(u);return d.createElement(b,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",status:J},d.createElement(i.A,{"data-testid":m()("chatplus avatar"),src:j,alt:t,style:L,component:P,children:F}))}return d.createElement(v,{"data-testid":m()("chatplus avatar"),src:j,alt:t,style:L,component:P,children:F,onClick:s,to:T?null:r})})}}]);